import{h as G,j as k,k as ut,i as t,l as bt,c as i,b as A,d as H,F as C,S as g,m as De,f as q,T as E,o as fe,I as be,t as h,g as ht}from"../app.js";var mt=h('<div class=space-y-1><h1 class="text-4xl font-black tracking-tight text-white"></h1><h2 class="text-2xl font-bold text-accent-primary/80">'),xt=h('<div><h1 class="text-4xl font-black tracking-tight text-white"></h1><p class="text-base text-gray-400 font-medium">'),gt=h('<div class="mt-2 text-xs text-amber-100/80">'),pt=h('<div class="rounded-2xl border border-amber-300/30 bg-amber-500/10 p-4 text-sm text-amber-100"><div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between"><div><div class=font-semibold> item<!> missing expected metadata coverage.</div><div class="text-xs text-amber-100/80">Unknown buckets remain visible for transparency. Retry scan, then re-download legacy files without sidecars if needed.</div></div><div class="flex items-center gap-2"><button type=button class="rounded-lg border border-amber-200/40 bg-amber-300/10 px-3 py-1.5 text-xs font-semibold text-amber-100 hover:bg-amber-300/20 transition-colors">Retry metadata</button><button type=button class="rounded-lg border border-white/20 px-3 py-1.5 text-xs font-semibold text-slate-200 hover:bg-white/10 transition-colors">Dismiss'),ft=h('<button type=button class="rounded-xl border border-accent-secondary/40 bg-accent-secondary/20 px-4 py-2 text-xs font-bold text-white hover:bg-accent-secondary/30 transition-smooth">Manage Playlists'),yt=h('<div class="grid gap-3 rounded-2xl border border-white/10 bg-black/20 p-4 md:grid-cols-2 xl:grid-cols-5"><label class="space-y-1 text-[11px] font-semibold uppercase tracking-wide text-slate-400">Search<input type=text placeholder="Title, creator, album"class="w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 normal-case"></label><label class="space-y-1 text-[11px] font-semibold uppercase tracking-wide text-slate-400">Creator<select class="w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 normal-case"><option value>All creators</option></select></label><label class="space-y-1 text-[11px] font-semibold uppercase tracking-wide text-slate-400">Collection<select class="w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 normal-case"><option value>All collections</option></select></label><label class="space-y-1 text-[11px] font-semibold uppercase tracking-wide text-slate-400">Source Playlist<select class="w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 normal-case"><option value>All source playlists</option></select></label><label class="space-y-1 text-[11px] font-semibold uppercase tracking-wide text-slate-400">Saved Playlist<select class="w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500/40 normal-case"><option value>All saved playlists'),vt=h('<button type=button class="rounded-lg border border-red-300/40 px-2 py-1 font-semibold text-red-100 hover:bg-red-500/20 transition-colors">Retry'),$t=h('<div class="flex flex-wrap items-center justify-between gap-2 rounded-2xl border border-red-400/30 bg-red-500/10 px-4 py-3 text-xs text-red-100"><span>'),_t=h('<div class="flex flex-wrap items-center gap-2 text-xs">'),wt=h('<div class=space-y-6><div class="text-xs font-black uppercase tracking-[0.25em] text-accent-primary/80 ml-2">Artists'),kt=h('<div class=space-y-6><div class="text-xs font-black uppercase tracking-[0.25em] text-accent-primary/80 ml-2">YouTube Videos'),Ct=h('<div class=space-y-6><div class="text-xs font-black uppercase tracking-[0.25em] text-emerald-500/80 ml-2">Podcasts'),St=h("<div class=space-y-10>"),Pt=h('<div class="overflow-x-auto rounded-3xl border border-white/5 bg-black/20"><table class="w-full min-w-[980px] text-sm"><thead class="bg-white/5 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500"><tr><th class="px-6 py-4 text-left">Media</th><th class="px-6 py-4 text-left">Creator</th><th class="px-6 py-4 text-left">Collection</th><th class="px-6 py-4 text-left">Playlists</th><th class="px-6 py-4 text-left">Type</th><th class="px-6 py-4 text-left">Date</th><th class="px-6 py-4 text-left">Assignment</th><th class="px-6 py-4 text-right">Action</th></tr></thead><tbody class="divide-y divide-white/5">'),Tt=h('<div class="overflow-x-auto rounded-3xl border border-white/5 bg-black/20"><table class="w-full min-w-[980px] text-sm"><thead class="bg-white/5 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500"><tr><th class="px-6 py-4 text-left">Media</th><th class="px-6 py-4 text-left">Creator</th><th class="px-6 py-4 text-left">Collection</th><th class="px-6 py-4 text-left">Type</th><th class="px-6 py-4 text-left">Date</th><th class="px-6 py-4 text-right">Action</th></tr></thead><tbody class="divide-y divide-white/5">'),Nt=h('<div class="overflow-hidden rounded-3xl border border-white/5 bg-black/20"><table class="w-full text-sm"><thead class="bg-white/5 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500"><tr><th class="px-6 py-4 text-left">Track</th><th class="px-6 py-4 text-left">Artist</th><th class="px-6 py-4 text-left">Album</th><th class="px-6 py-4 text-right">Length</th></tr></thead><tbody class="divide-y divide-white/5">'),At=h("<div>"),Mt=h('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-300"><div class="w-full max-w-xl rounded-[2rem] border border-white/10 bg-bg-surface p-8 shadow-2xl relative overflow-hidden"><div class="absolute top-0 right-0 p-12 opacity-5 pointer-events-none"></div><div class="relative space-y-6"><div class="flex items-center justify-between"><h3 class="text-2xl font-black text-white">Saved Playlists</h3><button type=button class="rounded-xl border border-white/10 bg-white/5 p-2 text-gray-400 hover:text-white hover:bg-white/10 transition-smooth"></button></div><div class="flex gap-3"><input type=text placeholder="Playlist name..."class="w-full rounded-xl border border-white/10 bg-black/40 px-4 py-3 text-sm text-white outline-none focus:border-accent-primary/50 transition-smooth"><button type=button class="rounded-xl bg-accent-primary px-6 py-3 text-sm font-black uppercase tracking-widest text-white hover:scale-105 transition-smooth shadow-vibrant">Create</button></div><div class="max-h-80 space-y-3 overflow-y-auto pr-2 custom-scrollbar">'),It=h('<div class="space-y-6 transition-smooth animate-in fade-in slide-in-from-right-4 duration-500"><div class="relative overflow-hidden rounded-[2rem] border border-accent-primary/20 glass-vibrant p-8 shadow-2xl"><div class="flex flex-col gap-8 lg:flex-row lg:items-start"><aside class="w-full lg:w-64 shrink-0 rounded-2xl border border-white/5 bg-black/40 p-4"><div class="text-[10px] font-black uppercase tracking-[0.2em] text-accent-primary/80 ml-2 mb-3">Library</div><div class=space-y-1></div></aside><div class="min-w-0 flex-1 space-y-6"><div class="flex flex-col gap-2 md:flex-row md:items-end md:justify-between"><div class="rounded-full border border-accent-secondary/30 bg-accent-secondary/10 px-4 py-1.5 text-xs font-black uppercase tracking-[0.15em] text-accent-secondary"></div></div><div class="flex flex-wrap items-center gap-3 rounded-[1.5rem] border border-white/5 bg-black/40 p-3"><div class="inline-flex rounded-xl border border-white/10 bg-white/5 p-1"></div><select class="rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-xs font-bold text-white outline-none focus:border-accent-primary/50 transition-smooth"></select><select class="rounded-xl border border-white/10 bg-black/40 px-4 py-2 text-xs font-bold text-white outline-none focus:border-accent-primary/50 transition-smooth"></select><button type=button>Filters</button><button type=button>Reset</button></div><h2 class="text-xl font-bold text-white">'),ze=h("<button type=button>"),D=h("<option>"),Kt=h('<button type=button class="rounded-md border border-white/15 bg-white/5 px-2 py-1 text-slate-200 hover:bg-white/10 transition-colors">'),Ut=h("<span class=text-slate-500>/"),ye=h('<div class="rounded-3xl border border-white/5 bg-black/20 p-12 text-center text-sm text-gray-500 font-medium">No media items match this view yet.'),Ot=h('<div class="group relative overflow-hidden rounded-[2rem] border border-white/5 bg-black/40 transition-smooth hover:border-accent-primary/50 hover:shadow-vibrant"><div class=relative><div class="absolute left-4 top-4 rounded-full border border-black/30 bg-black/60 backdrop-blur-md px-3 py-1 text-[10px] font-black uppercase tracking-widest text-white/90"></div></div><div class="space-y-4 p-6"><div class=space-y-1><div class="truncate text-lg font-black text-white"></div><div class="truncate text-sm font-bold text-accent-primary/80"></div><div class="truncate text-xs font-medium text-gray-500"> • </div></div><div class="flex items-center gap-4"><button type=button class="rounded-xl bg-vibrant-gradient px-6 py-2.5 text-xs font-black uppercase tracking-widest text-white hover:scale-105 transition-smooth shadow-vibrant">Play</button><div class="min-w-0 flex-1"><select class="w-full truncate rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-[10px] font-black uppercase tracking-widest text-white outline-none focus:border-accent-primary/50 transition-smooth"><option value>Unassigned'),Et=h('<div class="rounded-3xl border border-white/5 bg-black/20 p-12 text-center text-sm text-gray-500 font-medium">No creators available for this filter set.'),Ft=h('<button type=button class="group relative overflow-hidden rounded-[2rem] border border-white/5 bg-black/40 text-left transition-smooth hover:border-accent-primary/50 hover:shadow-vibrant"><div class="space-y-1 p-5"><div class="truncate text-base font-black text-white"></div><div class="text-xs font-bold text-gray-500"> item'),Lt=h('<div class="rounded-3xl border border-white/5 bg-black/20 p-12 text-center text-sm text-gray-500 font-medium">No albums available for this artist.'),Re=h('<button type=button class="group relative overflow-hidden rounded-[2rem] border border-white/5 bg-black/40 text-left transition-smooth hover:border-accent-primary/50 hover:shadow-vibrant"><div class="space-y-1 p-5"><div class="truncate text-base font-black text-white"></div><div class="text-xs font-bold text-gray-500"> track'),Dt=h('<div class="rounded-3xl border border-white/5 bg-black/20 p-12 text-center text-sm text-gray-500 font-medium">No playlists available for this filter set.'),zt=h('<button type=button class="group relative overflow-hidden rounded-[2rem] border border-white/5 bg-black/40 text-left transition-smooth hover:border-accent-primary/50 hover:shadow-vibrant"><div class=relative><div></div></div><div class="space-y-1 p-5"><div class="truncate text-base font-black text-white"></div><div class="text-xs font-bold text-gray-500"> item'),Rt=h('<button type=button class="group relative overflow-hidden rounded-[2rem] border border-white/5 bg-black/40 text-left transition-smooth hover:border-accent-primary/50 hover:shadow-vibrant"><div class="space-y-1 p-5"><div class="truncate text-base font-black text-white"></div><div class="text-xs font-bold text-gray-500"> video'),Vt=h('<button type=button class="group relative overflow-hidden rounded-[2rem] border border-white/5 bg-black/40 text-left transition-smooth hover:border-emerald-500/50 hover:shadow-vibrant"><div class="space-y-1 p-5"><div class="truncate text-base font-black text-white"></div><div class="text-xs font-bold text-gray-500"> episode'),qt=h('<div class="overflow-hidden rounded-3xl border border-white/5 bg-black/20"><table class="w-full text-sm"><thead class="bg-white/5 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500"><tr><th class="px-6 py-4 text-left">Name</th><th class="px-6 py-4 text-left">Type</th><th class="px-6 py-4 text-left">Count</th><th class="px-6 py-4 text-left">Latest</th><th class="px-6 py-4 text-right">Action</th></tr></thead><tbody class="divide-y divide-white/5">'),Ve=h('<div class="text-xs font-medium text-gray-500">'),Bt=h('<tr class="text-white hover:bg-white/2 transition-colors"><td class="px-6 py-4"><div class=font-bold></div></td><td class="px-6 py-4 text-xs font-bold text-accent-primary/80 uppercase tracking-widest"></td><td class="px-6 py-4 text-xs font-bold text-gray-400"></td><td class="px-6 py-4 text-xs font-medium text-gray-500"></td><td class="px-6 py-4 text-right"><button type=button class="rounded-xl border border-accent-primary/40 bg-accent-primary/20 px-4 py-2 text-xs font-black uppercase tracking-widest text-white hover:bg-accent-primary/30 transition-smooth">Open'),jt=h('<tr class="align-top text-white hover:bg-white/2 transition-colors"><td class="px-6 py-4"><div class="flex items-start gap-4"><div class=min-w-0><div class="truncate font-bold text-base"></div><div class="truncate text-xs font-medium text-gray-500"> • </div></div></div></td><td class="px-6 py-4 text-xs font-bold text-accent-primary/80"></td><td class="px-6 py-4 text-xs font-bold text-gray-400"></td><td class="px-6 py-4 text-xs font-medium text-gray-500"><div></div><div class=text-accent-secondary/60>Saved: </div></td><td class="px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-500"></td><td class="px-6 py-4 text-xs font-medium text-gray-500"></td><td class="px-6 py-4"><select class="w-full rounded-xl border border-white/10 bg-black/40 px-3 py-2 text-[10px] font-black uppercase tracking-widest text-white outline-none focus:border-accent-primary/50 transition-smooth"><option value>Unassigned</option></select></td><td class="px-6 py-4 text-right"><button type=button class="rounded-xl bg-vibrant-gradient px-4 py-2 text-xs font-black uppercase tracking-widest text-white hover:scale-105 transition-smooth shadow-vibrant">Play'),Yt=h('<div class="overflow-hidden rounded-3xl border border-white/5 bg-black/20"><table class="w-full text-sm"><thead class="bg-white/5 text-[10px] font-black uppercase tracking-[0.2em] text-gray-500"><tr><th class="px-6 py-4 text-left">Name</th><th class="px-6 py-4 text-left">Type</th><th class="px-6 py-4 text-left">Items</th><th class="px-6 py-4 text-right">Action</th></tr></thead><tbody class="divide-y divide-white/5">'),Zt=h('<tr class="text-white hover:bg-white/2 transition-colors"><td class="px-6 py-4"><div class="flex items-center gap-4"><div><div class=font-bold></div></div></div></td><td class="px-6 py-4 text-xs font-bold text-accent-primary/80 uppercase tracking-widest"></td><td class="px-6 py-4 text-xs font-bold text-gray-400"></td><td class="px-6 py-4 text-right"><button type=button class="rounded-xl border border-accent-primary/40 bg-accent-primary/20 px-4 py-2 text-xs font-black uppercase tracking-widest text-white hover:bg-accent-primary/30 transition-smooth">Open'),Gt=h('<tr class="align-top text-white hover:bg-white/2 transition-colors"><td class="px-6 py-4"><div class="flex items-start gap-4"><div class=min-w-0><div class="truncate font-bold text-base"></div><div class="truncate text-xs font-medium text-gray-500"></div></div></div></td><td class="px-6 py-4 text-xs font-bold text-accent-primary/80"></td><td class="px-6 py-4 text-xs font-bold text-gray-400"></td><td class="px-6 py-4 text-[10px] font-black uppercase tracking-widest text-gray-500"></td><td class="px-6 py-4 text-xs font-medium text-gray-500"></td><td class="px-6 py-4 text-right"><button type=button class="rounded-xl bg-accent-primary px-4 py-2 text-xs font-black uppercase tracking-widest text-white hover:scale-105 transition-smooth">Play'),Ht=h("<div class=space-y-2>"),Qt=h('<button type=button class="w-full flex items-center justify-between gap-6 p-4 rounded-2xl border border-white/5 bg-black/20 hover:border-accent-primary/30 hover:bg-black/40 transition-smooth group"><div class="flex items-center gap-4 min-w-0"><div class="text-left min-w-0"><div class="font-black text-white truncate"></div><div class="text-[10px] font-bold text-accent-primary/60 uppercase tracking-widest"></div></div></div><div class="flex items-center gap-8 shrink-0"><div class=text-right><div class="text-xs font-bold text-white"></div><div class="text-[10px] font-bold text-gray-600 uppercase tracking-widest">Items'),Wt=h('<tr class="text-white hover:bg-accent-primary/10 cursor-pointer transition-colors group"><td class="px-6 py-4"><div class="flex items-center gap-4"><div class="w-8 text-[10px] font-black text-gray-600 group-hover:text-accent-primary transition-colors"><span class=group-hover:hidden>01</span></div><div class="font-bold truncate"></div></div></td><td class="px-6 py-4 text-xs font-bold text-gray-400"></td><td class="px-6 py-4 text-xs font-bold text-gray-500"></td><td class="px-6 py-4 text-right text-xs font-mono text-gray-500">'),Xt=h('<div class="rounded-2xl border border-white/5 bg-white/2 p-6 text-center text-xs font-medium text-gray-500">No saved playlists yet.'),Jt=h('<div class="flex items-center justify-between gap-4 rounded-2xl border border-white/5 bg-white/5 px-4 py-3 group/item hover:border-white/10 transition-smooth"><div class=min-w-0><div class="truncate text-sm font-bold text-white"></div><div class="text-[10px] font-bold text-gray-600 uppercase tracking-widest">ID: <!>...</div></div><div class="flex items-center gap-2 opacity-0 group-hover/item:opacity-100 transition-smooth"><button type=button class="rounded-lg border border-white/10 px-3 py-1.5 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-white hover:bg-white/10 transition-smooth">Rename</button><button type=button class="rounded-lg border border-red-500/20 px-3 py-1.5 text-[10px] font-black uppercase tracking-widest text-red-400 hover:bg-red-500/10 transition-smooth">Delete');const qe=[{value:"artists",label:"Music"},{value:"videos",label:"YouTube Videos"},{value:"podcasts",label:"Podcasts"},{value:"playlists",label:"Playlists"},{value:"all_media",label:"All Media"}],Be=[{value:"gallery",label:"Gallery"},{value:"columns",label:"Columns"},{value:"list",label:"List"}],je=[{value:"all",label:"All Types"},{value:"Music",label:"Music"},{value:"YouTube Video",label:"YouTube Videos"},{value:"Podcast",label:"Podcast"}],Ye=[{value:"newest",label:"Newest first"},{value:"oldest",label:"Oldest first"},{value:"creator_asc",label:"Creator (A-Z)"},{value:"creator_desc",label:"Creator (Z-A)"},{value:"collection_asc",label:"Collection (A-Z)"},{value:"collection_desc",label:"Collection (Z-A)"},{value:"playlist_asc",label:"Playlist (A-Z)"},{value:"playlist_desc",label:"Playlist (Z-A)"}],el=80,B={creatorType:"",creatorName:"",albumName:"",playlistKey:"",playlistKind:""},Ze=r=>String(r||"").trim().replace(/\s+/g," ").slice(0,el),tl=r=>{const $=r&&typeof r=="object"?r:{};return{creatorType:typeof $.creatorType=="string"?$.creatorType:"",creatorName:typeof $.creatorName=="string"?$.creatorName:"",albumName:typeof $.albumName=="string"?$.albumName:"",playlistKey:typeof $.playlistKey=="string"?$.playlistKey:"",playlistKind:typeof $.playlistKind=="string"?$.playlistKind:""}},ll=r=>{const $=r&&typeof r=="object"?r:{};return{query:typeof $.query=="string"?$.query:"",creator:typeof $.creator=="string"?$.creator:"",collection:typeof $.collection=="string"?$.collection:"",playlist:typeof $.playlist=="string"?$.playlist:"",savedPlaylistId:typeof $.savedPlaylistId=="string"?$.savedPlaylistId:""}},rl=r=>{const $=r&&typeof r=="object"?r:{};return{advancedFiltersOpen:!!$.advancedFiltersOpen,metadataBannerDismissed:!!$.metadataBannerDismissed}},Ge=(...r)=>{for(const $ of r)if(typeof $=="string"){const Q=$.trim();if(Q!=="")return Q}return""};function il(r){const[$,Q]=G(""),[ve,He]=G(""),[$e,Qe]=G("neutral"),[We,_e]=G(!1),[he,W]=G(""),[we,ke]=G(""),Xe=k(()=>{const e=typeof r.downloads=="function"?r.downloads():r.downloads;return Array.isArray(e)?e:[]}),me=k(()=>{const e=typeof r.section=="function"?r.section():r.section;return qe.some(u=>u.value===e)?e:"artists"}),j=k(()=>{const e=typeof r.viewMode=="function"?r.viewMode():r.viewMode;return Be.some(u=>u.value===e)?e:"gallery"}),Ce=k(()=>{const e=typeof r.typeFilter=="function"?r.typeFilter():r.typeFilter;return je.some(u=>u.value===e)?e:"all"}),X=k(()=>{const e=typeof r.navPath=="function"?r.navPath():r.navPath;return tl(e)}),z=k(()=>{const e=typeof r.filters=="function"?r.filters():r.filters;return ll(e)}),Se=k(()=>{const e=typeof r.sortKey=="function"?r.sortKey():r.sortKey;return Ye.some(u=>u.value===e)?e:"newest"}),Y=k(()=>{const e=typeof r.savedPlaylists=="function"?r.savedPlaylists():r.savedPlaylists;return Array.isArray(e)?e:[]}),Je=k(()=>{const e=typeof r.playlistAssignments=="function"?r.playlistAssignments():r.playlistAssignments;return e&&typeof e=="object"?e:{}}),Pe=k(()=>{const e=typeof r.savedPlaylistSyncError=="function"?r.savedPlaylistSyncError():r.savedPlaylistSyncError;return typeof e=="string"?e.trim():""}),xe=k(()=>{const e=typeof r.uiState=="function"?r.uiState():r.uiState;return rl(e)}),L=k(()=>ut({downloads:Xe(),savedPlaylists:Y(),playlistAssignments:Je(),typeFilter:Ce(),sortKey:Se(),filters:z()})),R=(e,u)=>{Qe(e),He(u)},Te=()=>{typeof r.onNavPathChange=="function"&&r.onNavPathChange({...B})},U=e=>{typeof r.onNavPathChange=="function"&&r.onNavPathChange({...B,...e})},F=(e,u)=>{typeof r.onFilterChange=="function"&&r.onFilterChange(e,u)},Ne=k(()=>{const e=z();return e.query!==""||e.creator!==""||e.collection!==""||e.playlist!==""||e.savedPlaylistId!==""}),et=()=>{if(typeof r.onClearFilters=="function"){r.onClearFilters();return}F("query",""),F("creator",""),F("collection",""),F("playlist",""),F("savedPlaylistId","")},J=e=>{typeof r.onSectionChange=="function"&&r.onSectionChange(e),Te(),W("")},tt=e=>{typeof r.onViewModeChange=="function"&&r.onViewModeChange(e),W("")},lt=e=>{typeof r.onTypeFilterChange=="function"&&r.onTypeFilterChange(e),Te(),W("")},rt=async()=>{if(typeof r.onRetryMetadataScan=="function")try{const e=await r.onRetryMetadataScan(),u=typeof(e==null?void 0:e.message)=="string"&&e.message.trim()!==""?e.message.trim():"Library refreshed. Legacy files without sidecar metadata may require re-download for full metadata and thumbnails.";ke(u)}catch{ke("Retry failed. Please check backend logs and try again.")}},at=()=>{typeof r.onDismissMetadataBanner=="function"&&r.onDismissMetadataBanner()},Ae=async()=>{const e=Ze($());if(e===""){R("error","Enter a playlist name.");return}if(typeof r.onCreateSavedPlaylist!="function")return;const u=await r.onCreateSavedPlaylist(e);if(!u||u.ok===!1){R("error",(u==null?void 0:u.error)||"Unable to create saved playlist.");return}Q(""),R("success",`Saved playlist "${e}" created.`)},it=async e=>{if(typeof window>"u"||typeof r.onRenameSavedPlaylist!="function")return;const u=window.prompt("Rename saved playlist",e.name);if(u===null)return;const s=await r.onRenameSavedPlaylist(e.id,u);if(!s||s.ok===!1){R("error",(s==null?void 0:s.error)||"Unable to rename saved playlist.");return}const c=Ze(u);R("success",`Saved playlist renamed to "${c||e.name}".`)},nt=async e=>{if(typeof window>"u"||typeof r.onDeleteSavedPlaylist!="function"||!window.confirm(`Delete "${e.name}" and remove its assignments?`))return;const s=await r.onDeleteSavedPlaylist(e.id);if(!s||s.ok===!1){R("error",(s==null?void 0:s.error)||"Unable to delete saved playlist.");return}R("success",`Saved playlist "${e.name}" deleted.`)},Me=(e,u)=>{typeof r.onAssignSavedPlaylist=="function"&&e.mediaKey!==""&&r.onAssignSavedPlaylist(e.mediaKey,u)},re=(e,u)=>{if(typeof r.openPlayer!="function")return;const s=Array.isArray(u)?u:[];r.openPlayer(e.raw,s.map(c=>c.raw))},p=k(()=>{const e=L(),u=me(),s=X();if(u==="artists"){if(s.creatorType==="artist"&&s.creatorName!==""){const c=e.artistsByName.get(s.creatorName);if(!c)return{kind:"landing",title:"Music",subtitle:"Browse music creators.",artists:e.artists,videos:e.videos,breadcrumbs:[]};if(s.albumName!==""){const M=c.albums.find(f=>f.name===s.albumName);if(M)return{kind:"items",title:M.name,subtitle:`${c.name} • ${M.count} track${M.count===1?"":"s"}`,items:M.items,queueItems:M.items,breadcrumbs:[{label:"Music",nav:{...B}},{label:c.name,nav:{creatorType:"artist",creatorName:c.name}},{label:M.name,nav:{creatorType:"artist",creatorName:c.name,albumName:M.name}}]}}return{kind:"albums",title:c.name,subtitle:`${c.count} track${c.count===1?"":"s"} across ${c.albums.length} album${c.albums.length===1?"":"s"}`,albums:c.albums,creator:c,breadcrumbs:[{label:"Music",nav:{...B}},{label:c.name,nav:{creatorType:"artist",creatorName:c.name}}]}}return{kind:"landing",title:"Music",subtitle:"Music artists from your collection.",artists:e.artists,videos:e.videos,podcasts:e.podcasts,breadcrumbs:[]}}if(u==="videos"){if(s.creatorType==="video_creator"&&s.creatorName!==""){const c=e.videosByName.get(s.creatorName);if(c)return{kind:"items",title:c.name,subtitle:`${c.count} video${c.count===1?"":"s"}`,items:c.items,queueItems:c.items,breadcrumbs:[{label:"YouTube Videos",nav:{...B}},{label:c.name,nav:{creatorType:"video_creator",creatorName:c.name}}]}}return{kind:"creators",title:"YouTube Videos",subtitle:"YouTube channels from your collection.",creators:e.videos,creatorType:"video_creator",breadcrumbs:[]}}if(u==="podcasts"){if(s.creatorType==="podcast"&&s.creatorName!==""){const c=e.podcastsByName.get(s.creatorName);if(c)return{kind:"items",title:c.name,subtitle:`${c.count} episode${c.count===1?"":"s"}`,items:c.items,queueItems:c.items,breadcrumbs:[{label:"Podcasts",nav:{...B}},{label:c.name,nav:{creatorType:"podcast",creatorName:c.name}}]}}return{kind:"creators",title:"Podcasts",subtitle:"Podcasts from your collection.",creators:e.podcasts,creatorType:"podcast",breadcrumbs:[]}}if(u==="playlists"){if(s.playlistKey!==""){const c=e.playlistsByKey.get(s.playlistKey);if(c)return{kind:"items",title:c.name,subtitle:`${c.count} item${c.count===1?"":"s"} • ${c.kind==="source"?"Source playlist":"Saved playlist"}`,items:c.items,queueItems:c.items,breadcrumbs:[{label:"Playlists",nav:{...B}},{label:c.name,nav:{playlistKey:c.key,playlistKind:c.kind}}]}}return{kind:"playlists",title:"Playlists",subtitle:"Combined source and saved playlists.",playlists:e.playlists,sourcePlaylists:e.sourcePlaylists,savedPlaylists:e.savedPlaylists,breadcrumbs:[]}}return{kind:"items",title:"All Media",subtitle:`${e.filteredItems.length} filtered item${e.filteredItems.length===1?"":"s"}`,items:e.filteredItems,queueItems:e.filteredItems,breadcrumbs:[]}}),ee=k(()=>{var u;const e=p();if(e.kind==="landing"){const s=e.artists.map(f=>({key:`artist:${f.name}`,name:f.name,type:"Music",count:f.count,latestTimestamp:f.latestTimestamp,thumbnailUrl:f.thumbnailUrl,subtitle:`${f.albums.length} album${f.albums.length===1?"":"s"}`,onOpen:()=>U({creatorType:"artist",creatorName:f.name})})),c=e.videos.map(f=>({key:`video_creator:${f.name}`,name:f.name,type:"YouTube Video",count:f.count,latestTimestamp:f.latestTimestamp,thumbnailUrl:f.thumbnailUrl,subtitle:"Video library",onOpen:()=>{J("videos"),U({creatorType:"video_creator",creatorName:f.name})}})),M=((u=e.podcasts)==null?void 0:u.map(f=>({key:`podcast:${f.name}`,name:f.name,type:"Podcast",count:f.count,latestTimestamp:f.latestTimestamp,thumbnailUrl:f.thumbnailUrl,subtitle:"Podcast library",onOpen:()=>{J("podcasts"),U({creatorType:"podcast",creatorName:f.name})}})))||[];return[...s,...c,...M].sort((f,O)=>O.latestTimestamp-f.latestTimestamp)}return e.kind==="creators"?e.creators.map(s=>{var c,M;return{key:`${e.creatorType}:${s.name}`,name:s.name,type:e.creatorType==="video_creator"?"YouTube Video":"Music",count:s.count,latestTimestamp:s.latestTimestamp,thumbnailUrl:s.thumbnailUrl,subtitle:e.creatorType==="video_creator"?"Video library":`${((c=s.albums)==null?void 0:c.length)||0} album${(((M=s.albums)==null?void 0:M.length)||0)===1?"":"s"}`,onOpen:()=>U({creatorType:e.creatorType,creatorName:s.name})}}):e.kind==="albums"?e.albums.map(s=>({key:`album:${s.name}`,name:s.name,type:"Album",count:s.count,latestTimestamp:s.latestTimestamp,thumbnailUrl:s.thumbnailUrl,subtitle:e.creator.name,onOpen:()=>U({creatorType:"artist",creatorName:e.creator.name,albumName:s.name})})):e.kind==="playlists"?e.playlists.map(s=>({key:s.key,name:s.name,type:s.kind==="source"?"Source Playlist":"Saved Playlist",count:s.count,latestTimestamp:s.latestTimestamp,thumbnailUrl:s.thumbnailUrl,subtitle:s.kind==="saved"&&s.count===0?"No assignments yet":"",onOpen:()=>U({playlistKey:s.key,playlistKind:s.kind})})):[]}),V=k(()=>p().kind==="items"?p().items:[]),ae=k(()=>p().kind==="items"?p().queueItems:[]),Ie=k(()=>p().kind==="creators"?p().creators:[]),Ke=k(()=>p().kind==="albums"?p().albums:[]),Ue=k(()=>p().kind==="playlists"?p().playlists:[]),Oe=k(()=>p().kind==="landing"?p().artists:[]),Ee=k(()=>p().kind==="landing"?p().videos:[]),st=k(()=>{const e=p();return e.kind==="items"&&X().creatorType==="artist"&&X().albumName!==""?(()=>{var u=mt(),s=u.firstChild,c=s.nextSibling;return t(s,()=>X().creatorName),t(c,()=>X().albumName),u})():(()=>{var u=xt(),s=u.firstChild,c=s.nextSibling;return t(s,()=>e.title||"Library"),t(c,()=>e.subtitle),u})()});bt(()=>{var M,f;const e=p(),u=he();if(j()==="gallery")return;if(e.kind==="items"){const O=((M=e.items[0])==null?void 0:M.mediaKey)||"";e.items.some(te=>te.mediaKey===u)||W(O);return}const s=ee(),c=((f=s[0])==null?void 0:f.key)||"";s.some(O=>O.key===u)||W(c)}),k(()=>{const e=p();return e.kind!=="items"?null:e.items.find(u=>u.mediaKey===he())||null}),k(()=>ee().find(u=>u.key===he())||null);const ot=k(()=>{const e=p();return e.kind==="items"?`${e.items.length} items`:e.kind==="albums"?`${e.albums.length} albums`:e.kind==="playlists"?`${e.playlists.length} playlists`:e.kind==="creators"?`${e.creators.length} creators`:e.kind==="landing"?`${e.artists.length+e.videos.length} creators`:""});return(()=>{var e=It(),u=e.firstChild,s=u.firstChild,c=s.firstChild,M=c.firstChild,f=M.nextSibling,O=c.nextSibling,te=O.firstChild,Fe=te.firstChild,ie=te.nextSibling,Le=ie.firstChild,ne=Le.nextSibling,se=ne.nextSibling,ge=se.nextSibling,oe=ge.nextSibling,ce=ie.nextSibling;return t(f,i(C,{each:qe,children:l=>(()=>{var n=ze();return n.$$click=()=>J(l.value),t(n,()=>l.label),A(()=>H(n,`w-full rounded-xl px-4 py-3 text-left text-sm font-bold transition-smooth ${me()===l.value?"bg-accent-primary/20 text-white border border-accent-primary/30 shadow-vibrant":"text-gray-400 hover:text-white hover:bg-white/5 border border-transparent"}`)),n})()})),t(te,st,Fe),t(Fe,ot),t(O,i(g,{get when(){return De(()=>L().anomalyCount>0)()&&!xe().metadataBannerDismissed},get children(){var l=pt(),n=l.firstChild,o=n.firstChild,d=o.firstChild,a=d.firstChild,m=a.nextSibling;m.nextSibling;var b=o.nextSibling,x=b.firstChild,y=x.nextSibling;return t(d,()=>L().anomalyCount,a),t(d,()=>L().anomalyCount===1?"":"s",m),x.$$click=()=>{rt()},y.$$click=at,t(l,i(g,{get when(){return we()!==""},get children(){var w=gt();return t(w,we),w}}),null),l}}),ie),t(Le,i(C,{each:Be,children:l=>(()=>{var n=ze();return n.$$click=()=>tt(l.value),t(n,()=>l.label),A(()=>H(n,`rounded-lg px-4 py-2 text-xs font-black uppercase tracking-widest transition-smooth ${j()===l.value?"bg-accent-primary text-white shadow-vibrant":"text-gray-500 hover:text-white hover:bg-white/5"}`)),n})()})),ne.addEventListener("change",l=>lt(l.currentTarget.value)),t(ne,i(C,{each:je,children:l=>(()=>{var n=D();return t(n,()=>l.label),A(()=>n.value=l.value),n})()})),se.addEventListener("change",l=>{typeof r.onSortKeyChange=="function"&&r.onSortKeyChange(l.currentTarget.value)}),t(se,i(C,{each:Ye,children:l=>(()=>{var n=D();return t(n,()=>l.label),A(()=>n.value=l.value),n})()})),ge.$$click=()=>{typeof r.onToggleAdvancedFilters=="function"&&r.onToggleAdvancedFilters()},t(ie,i(g,{get when(){return me()==="playlists"},get children(){var l=ft();return l.$$click=()=>_e(!0),l}}),oe),oe.$$click=et,t(O,i(g,{get when(){return xe().advancedFiltersOpen},get children(){var l=yt(),n=l.firstChild,o=n.firstChild,d=o.nextSibling,a=n.nextSibling,m=a.firstChild,b=m.nextSibling;b.firstChild;var x=a.nextSibling,y=x.firstChild,w=y.nextSibling;w.firstChild;var T=x.nextSibling,v=T.firstChild,P=v.nextSibling;P.firstChild;var S=T.nextSibling,I=S.firstChild,K=I.nextSibling;return K.firstChild,d.$$input=_=>F("query",_.currentTarget.value),b.addEventListener("change",_=>F("creator",_.currentTarget.value)),t(b,i(C,{get each(){return L().filterOptions.creators},children:_=>(()=>{var N=D();return N.value=_,t(N,_),N})()}),null),w.addEventListener("change",_=>F("collection",_.currentTarget.value)),t(w,i(C,{get each(){return L().filterOptions.collections},children:_=>(()=>{var N=D();return N.value=_,t(N,_),N})()}),null),P.addEventListener("change",_=>F("playlist",_.currentTarget.value)),t(P,i(C,{get each(){return L().filterOptions.sourcePlaylists},children:_=>(()=>{var N=D();return N.value=_,t(N,_),N})()}),null),K.addEventListener("change",_=>F("savedPlaylistId",_.currentTarget.value)),t(K,i(C,{get each(){return Y()},children:_=>(()=>{var N=D();return t(N,()=>_.name),A(()=>N.value=_.id),N})()}),null),A(()=>d.value=z().query),A(()=>b.value=z().creator),A(()=>w.value=z().collection),A(()=>P.value=z().playlist),A(()=>K.value=z().savedPlaylistId),l}}),ce),t(O,i(g,{get when(){return Pe()!==""},get children(){var l=$t(),n=l.firstChild;return t(n,Pe),t(l,i(g,{get when(){return typeof r.onRetrySavedPlaylistSync=="function"},get children(){var o=vt();return o.$$click=()=>{r.onRetrySavedPlaylistSync()},o}}),null),l}}),ce),t(O,i(g,{get when(){return p().breadcrumbs.length>0},get children(){var l=_t();return t(l,i(C,{get each(){return p().breadcrumbs},children:(n,o)=>[(()=>{var d=Kt();return d.$$click=()=>U(n.nav),t(d,()=>n.label),d})(),i(g,{get when(){return o()<p().breadcrumbs.length-1},get children(){return Ut()}})]})),l}}),ce),t(ce,()=>p().title),t(e,i(g,{get when(){return j()==="gallery"},get children(){return i(g,{get when(){return p().kind==="landing"},get fallback(){return i(g,{get when(){return p().kind!=="items"},get fallback(){return i(g,{get when(){return V().length>0},get fallback(){return ye()},get children(){return i(q,{class:"!p-0 !gap-6 sm:grid-cols-2 xl:grid-cols-3",get children(){return i(C,{get each(){return V()},children:l=>(()=>{var n=Ot(),o=n.firstChild,d=o.firstChild,a=o.nextSibling,m=a.firstChild,b=m.firstChild,x=b.nextSibling,y=x.nextSibling,w=y.firstChild,T=m.nextSibling,v=T.firstChild,P=v.nextSibling,S=P.firstChild;return S.firstChild,t(o,i(E,{get src(){return l.thumbnailUrl},get alt(){return l.title},size:"md",class:"!rounded-none"}),d),t(d,()=>l.type),t(b,()=>l.title),t(x,()=>l.creator),t(y,()=>l.album,w),t(y,()=>l.date||l.modifiedAt,null),v.$$click=()=>re(l,ae()),S.addEventListener("change",I=>Me(l,I.currentTarget.value)),t(S,i(C,{get each(){return Y()},children:I=>(()=>{var K=D();return t(K,()=>I.name),A(()=>K.value=I.id),K})()}),null),A(()=>S.value=l.savedPlaylistId),n})()})}})}})},get children(){return[i(g,{get when(){return p().kind==="creators"},get children(){return i(g,{get when(){return Ie().length>0},get fallback(){return Et()},get children(){return i(q,{class:"!p-0 !gap-6 sm:grid-cols-2 xl:grid-cols-4",get children(){return i(C,{get each(){return Ie()},children:l=>(()=>{var n=Ft(),o=n.firstChild,d=o.firstChild,a=d.nextSibling,m=a.firstChild;return n.$$click=()=>U({creatorType:p().creatorType,creatorName:l.name}),t(n,i(E,{get src(){return l.thumbnailUrl},get alt(){return l.name},size:"md",class:"!rounded-none"}),o),t(d,()=>l.name),t(a,()=>l.count,m),t(a,()=>l.count===1?"":"s",null),n})()})}})}})}}),i(g,{get when(){return p().kind==="albums"},get children(){return i(g,{get when(){return Ke().length>0},get fallback(){return Lt()},get children(){return i(q,{class:"!p-0 !gap-6 sm:grid-cols-2 xl:grid-cols-4",get children(){return i(C,{get each(){return Ke()},children:l=>(()=>{var n=Re(),o=n.firstChild,d=o.firstChild,a=d.nextSibling,m=a.firstChild;return n.$$click=()=>U({creatorType:"artist",creatorName:p().creator.name,albumName:l.name}),t(n,i(E,{get src(){return l.thumbnailUrl},get alt(){return l.name},size:"md",class:"!aspect-square !rounded-none"}),o),t(d,()=>l.name),t(a,()=>l.count,m),t(a,()=>l.count===1?"":"s",null),n})()})}})}})}}),i(g,{get when(){return p().kind==="playlists"},get children(){return i(g,{get when(){return Ue().length>0},get fallback(){return Dt()},get children(){return i(q,{class:"!p-0 !gap-6 sm:grid-cols-2 xl:grid-cols-3",get children(){return i(C,{get each(){return Ue()},children:l=>(()=>{var n=zt(),o=n.firstChild,d=o.firstChild,a=o.nextSibling,m=a.firstChild,b=m.nextSibling,x=b.firstChild;return n.$$click=()=>U({playlistKey:l.key,playlistKind:l.kind}),t(o,i(E,{get src(){return l.thumbnailUrl},get alt(){return l.name},size:"md",class:"!rounded-none"}),d),t(d,()=>l.kind),t(m,()=>l.name),t(b,()=>l.count,x),t(b,()=>l.count===1?"":"s",null),A(()=>H(d,`absolute left-4 top-4 rounded-full border px-3 py-1 text-[10px] font-black uppercase tracking-widest backdrop-blur-md ${l.kind==="source"?"border-emerald-500/30 bg-emerald-500/20 text-emerald-400":"border-accent-secondary/30 bg-accent-secondary/20 text-accent-secondary"}`)),n})()})}})}})}})]}})},get children(){var l=St();return t(l,i(g,{get when(){return Oe().length>0},get children(){var n=wt();return n.firstChild,t(n,i(q,{class:"!p-0 !gap-6 sm:grid-cols-2 xl:grid-cols-4",get children(){return i(C,{get each(){return Oe()},children:o=>(()=>{var d=Re(),a=d.firstChild,m=a.firstChild,b=m.nextSibling,x=b.firstChild;return d.$$click=()=>U({creatorType:"artist",creatorName:o.name}),t(d,i(E,{get src(){return o.thumbnailUrl},get alt(){return o.name},size:"md",class:"!rounded-none"}),a),t(m,()=>o.name),t(b,()=>o.count,x),t(b,()=>o.count===1?"":"s",null),d})()})}}),null),n}}),null),t(l,i(g,{get when(){return Ee().length>0},get children(){var n=kt();return n.firstChild,t(n,i(q,{class:"!p-0 !gap-6 sm:grid-cols-2 xl:grid-cols-4",get children(){return i(C,{get each(){return Ee()},children:o=>(()=>{var d=Rt(),a=d.firstChild,m=a.firstChild,b=m.nextSibling,x=b.firstChild;return d.$$click=()=>{J("videos"),U({creatorType:"video_creator",creatorName:o.name})},t(d,i(E,{get src(){return o.thumbnailUrl},get alt(){return o.name},size:"md",class:"!rounded-none"}),a),t(m,()=>o.name),t(b,()=>o.count,x),t(b,()=>o.count===1?"":"s",null),d})()})}}),null),n}}),null),t(l,i(g,{get when(){return L().podcasts.length>0},get children(){var n=Ct();return n.firstChild,t(n,i(q,{class:"!p-0 !gap-6 sm:grid-cols-2 xl:grid-cols-4",get children(){return i(C,{get each(){return L().podcasts},children:o=>(()=>{var d=Vt(),a=d.firstChild,m=a.firstChild,b=m.nextSibling,x=b.firstChild;return d.$$click=()=>{J("podcasts"),U({creatorType:"podcast",creatorName:o.name})},t(d,i(E,{get src(){return o.thumbnailUrl},get alt(){return o.name},size:"md",class:"!rounded-none"}),a),t(m,()=>o.name),t(b,()=>o.count,x),t(b,()=>o.count===1?"":"s",null),d})()})}}),null),n}}),null),l}})}}),null),t(e,i(g,{get when(){return j()==="columns"},get children(){return i(g,{get when(){return p().kind==="items"},get fallback(){return(()=>{var l=qt(),n=l.firstChild,o=n.firstChild,d=o.nextSibling;return t(d,i(C,{get each(){return ee()},children:a=>(()=>{var m=Bt(),b=m.firstChild,x=b.firstChild,y=b.nextSibling,w=y.nextSibling,T=w.nextSibling,v=T.nextSibling,P=v.firstChild;return t(x,()=>a.name),t(b,i(g,{get when(){return a.subtitle!==""},get children(){var S=Ve();return t(S,()=>a.subtitle),S}}),null),t(y,()=>a.type),t(w,()=>a.count),t(T,(()=>{var S=De(()=>a.latestTimestamp>0);return()=>S()?new Date(a.latestTimestamp).toLocaleDateString():"-"})()),fe(P,"click",a.onOpen,!0),m})()})),l})()},get children(){return i(g,{get when(){return V().length>0},get fallback(){return ye()},get children(){var l=Pt(),n=l.firstChild,o=n.firstChild,d=o.nextSibling;return t(d,i(C,{get each(){return V()},children:a=>(()=>{var m=jt(),b=m.firstChild,x=b.firstChild,y=x.firstChild,w=y.firstChild,T=w.nextSibling,v=T.firstChild,P=b.nextSibling,S=P.nextSibling,I=S.nextSibling,K=I.firstChild,_=K.nextSibling;_.firstChild;var N=I.nextSibling,de=N.nextSibling,le=de.nextSibling,Z=le.firstChild;Z.firstChild;var ct=le.nextSibling,dt=ct.firstChild;return t(x,i(E,{get src(){return a.thumbnailUrl},get alt(){return a.title},size:"sm",class:"flex-shrink-0"}),y),t(w,()=>a.title),t(T,()=>a.size||"Unknown size",v),t(T,()=>a.filename,null),t(P,()=>a.creator),t(S,()=>a.album),t(K,()=>a.sourcePlaylist),t(_,()=>a.savedPlaylistName,null),t(N,()=>a.type),t(de,()=>Ge(a.date,a.modifiedAt)),Z.addEventListener("change",ue=>Me(a,ue.currentTarget.value)),t(Z,i(C,{get each(){return Y()},children:ue=>(()=>{var pe=D();return t(pe,()=>ue.name),A(()=>pe.value=ue.id),pe})()}),null),dt.$$click=()=>re(a,ae()),A(()=>Z.value=a.savedPlaylistId),m})()})),l}})}})}}),null),t(e,i(g,{get when(){return j()==="columns"},get children(){return i(g,{get when(){return p().kind==="items"},get fallback(){return(()=>{var l=Yt(),n=l.firstChild,o=n.firstChild,d=o.nextSibling;return t(d,i(C,{get each(){return ee()},children:a=>(()=>{var m=Zt(),b=m.firstChild,x=b.firstChild,y=x.firstChild,w=y.firstChild,T=b.nextSibling,v=T.nextSibling,P=v.nextSibling,S=P.firstChild;return t(x,i(E,{get src(){return a.thumbnailUrl},get alt(){return a.name},size:"sm",class:"h-10 w-10 !rounded-full flex-shrink-0"}),y),t(w,()=>a.name),t(y,i(g,{get when(){return a.subtitle!==""},get children(){var I=Ve();return t(I,()=>a.subtitle),I}}),null),t(T,()=>a.type),t(v,()=>a.count),fe(S,"click",a.onOpen,!0),m})()})),l})()},get children(){return i(g,{get when(){return V().length>0},get fallback(){return ye()},get children(){var l=Tt(),n=l.firstChild,o=n.firstChild,d=o.nextSibling;return t(d,i(C,{get each(){return V()},children:a=>(()=>{var m=Gt(),b=m.firstChild,x=b.firstChild,y=x.firstChild,w=y.firstChild,T=w.nextSibling,v=b.nextSibling,P=v.nextSibling,S=P.nextSibling,I=S.nextSibling,K=I.nextSibling,_=K.firstChild;return t(x,i(E,{get src(){return a.thumbnailUrl},get alt(){return a.title},size:"sm",class:"flex-shrink-0 !w-20"}),y),t(w,()=>a.title),t(T,()=>a.size||"Unknown size"),t(v,()=>a.creator),t(P,()=>a.album),t(S,()=>a.type),t(I,()=>Ge(a.date,a.modifiedAt)),_.$$click=()=>re(a,ae()),m})()})),l}})}})}}),null),t(e,i(g,{get when(){return j()==="list"},get children(){return i(g,{get when(){return p().kind==="items"},get fallback(){return(()=>{var l=Ht();return t(l,i(C,{get each(){return ee()},children:n=>(()=>{var o=Qt(),d=o.firstChild,a=d.firstChild,m=a.firstChild,b=m.nextSibling,x=d.nextSibling,y=x.firstChild,w=y.firstChild;return fe(o,"click",n.onOpen,!0),t(d,i(E,{get src(){return n.thumbnailUrl},get alt(){return n.name},size:"sm",class:"h-12 w-12 !rounded-full flex-shrink-0"}),a),t(m,()=>n.name),t(b,()=>n.type),t(w,()=>n.count),t(x,i(be,{name:"chevron-right",class:"w-5 h-5 text-gray-700 group-hover:text-white transition-smooth"}),null),o})()})),l})()},get children(){var l=Nt(),n=l.firstChild,o=n.firstChild,d=o.nextSibling;return t(d,i(C,{get each(){return V()},children:a=>(()=>{var m=Wt(),b=m.firstChild,x=b.firstChild,y=x.firstChild,w=y.firstChild,T=y.nextSibling,v=b.nextSibling,P=v.nextSibling,S=P.nextSibling;return m.$$click=()=>re(a,ae()),t(y,i(be,{name:"play",class:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"}),w),t(T,()=>a.title),t(v,()=>a.creator),t(P,()=>a.album),t(S,()=>a.size||"--:--"),m})()})),l}})}}),null),t(e,i(g,{get when(){return We()},get children(){var l=Mt(),n=l.firstChild,o=n.firstChild,d=o.nextSibling,a=d.firstChild,m=a.firstChild,b=m.nextSibling,x=a.nextSibling,y=x.firstChild,w=y.nextSibling,T=x.nextSibling;return t(o,i(be,{name:"layers",class:"w-32 h-32 rotate-12"})),b.$$click=()=>_e(!1),t(b,i(be,{name:"x",class:"h-6 w-6"})),y.$$keydown=v=>{v.key==="Enter"&&(v.preventDefault(),Ae())},y.$$input=v=>Q(v.currentTarget.value),w.$$click=()=>{Ae()},t(d,i(g,{get when(){return ve()!==""},get children(){var v=At();return t(v,ve),A(()=>H(v,`text-xs font-bold px-4 py-2 rounded-lg ${$e()==="error"?"bg-red-500/10 text-red-400 border border-red-500/20":$e()==="success"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-white/5 text-gray-400 border border-white/10"}`)),v}}),T),t(T,i(g,{get when(){return Y().length>0},get fallback(){return Xt()},get children(){return i(C,{get each(){return Y()},children:v=>(()=>{var P=Jt(),S=P.firstChild,I=S.firstChild,K=I.nextSibling,_=K.firstChild,N=_.nextSibling;N.nextSibling;var de=S.nextSibling,le=de.firstChild,Z=le.nextSibling;return t(I,()=>v.name),t(K,()=>v.id.slice(0,8),N),le.$$click=()=>{it(v)},Z.$$click=()=>{nt(v)},P})()})}})),A(()=>y.value=$()),l}}),null),A(l=>{var n=`rounded-xl border px-4 py-2 text-xs font-bold transition-smooth ${xe().advancedFiltersOpen?"border-accent-primary/40 bg-accent-primary/20 text-white":"border-white/10 bg-white/5 text-gray-400 hover:bg-white/10"}`,o=!Ne(),d=`ml-auto rounded-xl border px-4 py-2 text-xs font-bold transition-smooth ${Ne()?"border-white/20 bg-white/5 text-white hover:bg-white/10":"border-white/5 bg-white/2 text-gray-700 cursor-not-allowed"}`;return n!==l.e&&H(ge,l.e=n),o!==l.t&&(oe.disabled=l.t=o),d!==l.a&&H(oe,l.a=d),l},{e:void 0,t:void 0,a:void 0}),A(()=>ne.value=Ce()),A(()=>se.value=Se()),e})()}ht(["click","input","keydown"]);export{il as default};
