(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const k={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Tt(this.context.count)},getNextContextId(){return Tt(this.context.count++)}};function Tt(e){const t=String(e),n=t.length-1;return k.context.id+(n?String.fromCharCode(96+n):"")+t}function le(e){k.context=e}const Xt=!1,_n=(e,t)=>e===t,ie=Symbol("solid-proxy"),Zt=typeof Proxy=="function",yt=Symbol("solid-track"),Je={equals:_n};let en=an;const de=1,Ye=2,tn={owned:null,cleanups:null,context:null,owner:null},at={};var D=null;let Be=null,$n=null,F=null,Y=null,se=null,nt=0;function De(e,t){const n=F,s=D,r=e.length===0,i=t===void 0?s:t,a=r?tn:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=r?e:()=>e(()=>Q(()=>Le(a)));D=a,F=null;try{return ce(o,!0)}finally{F=n,D=s}}function te(e,t){t=t?Object.assign({},Je,t):Je;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),on(n,r));return[sn.bind(n),s]}function Et(e,t,n){const s=st(e,t,!0,de);Ce(s)}function X(e,t,n){const s=st(e,t,!1,de);Ce(s)}function Qe(e,t,n){en=Ln;const s=st(e,t,!1,de),r=Ae&&rt(Ae);r&&(s.suspense=r),s.user=!0,se?se.push(s):Ce(s)}function K(e,t,n){n=n?Object.assign({},Je,n):Je;const s=st(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Ce(s),sn.bind(s)}function An(e){return e&&typeof e=="object"&&"then"in e}function Pn(e,t,n){let s,r,i;s=!0,r=e,i={};let a=null,o=at,l=null,c=!1,u="initialValue"in i,d=typeof s=="function"&&K(s);const y=new Set,[b,m]=(i.storage||te)(i.initialValue),[x,N]=te(void 0),[$,M]=te(void 0,{equals:!1}),[R,I]=te(u?"ready":"unresolved");k.context&&(l=k.getNextContextId(),i.ssrLoadFrom==="initial"?o=i.initialValue:k.load&&k.has(l)&&(o=k.load(l)));function v(p,w,L,T){return a===p&&(a=null,T!==void 0&&(u=!0),(p===o||w===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(T,{value:w})),o=at,oe(w,L)),w}function oe(p,w){ce(()=>{w===void 0&&m(()=>p),I(w!==void 0?"errored":u?"ready":"unresolved"),N(w);for(const L of y.keys())L.decrement();y.clear()},!1)}function A(){const p=Ae&&rt(Ae),w=b(),L=x();if(L!==void 0&&!a)throw L;return F&&!F.user&&p&&Et(()=>{$(),a&&(p.resolved&&Be||y.has(p)||(p.increment(),y.add(p)))}),w}function _(p=!0){if(p!==!1&&c)return;c=!1;const w=d?d():s;if(w==null||w===!1){v(a,Q(b));return}let L;const T=o!==at?o:Q(()=>{try{return r(w,{value:b(),refetching:p})}catch(W){L=W}});if(L!==void 0){v(a,void 0,We(L),w);return}else if(!An(T))return v(a,T,void 0,w),T;return a=T,"v"in T?(T.s===1?v(a,T.v,void 0,w):v(a,void 0,We(T.v),w),T):(c=!0,queueMicrotask(()=>c=!1),ce(()=>{I(u?"refreshing":"pending"),M()},!1),T.then(W=>v(T,W,void 0,w),W=>v(T,void 0,We(W),w)))}Object.defineProperties(A,{state:{get:()=>R()},error:{get:()=>x()},loading:{get(){const p=R();return p==="pending"||p==="refreshing"}},latest:{get(){if(!u)return A();const p=x();if(p&&!a)throw p;return b()}}});let P=D;return d?Et(()=>(P=D,_(!1))):_(!1),[A,{refetch:p=>Nn(P,()=>_(p)),mutate:m}]}function nn(e){return ce(e,!1)}function Q(e){if(F===null)return e();const t=F;F=null;try{return e()}finally{F=t}}function rn(e){Qe(()=>Q(e))}function $e(e){return D===null||(D.cleanups===null?D.cleanups=[e]:D.cleanups.push(e)),e}function pt(){return F}function Cn(){return D}function Nn(e,t){const n=D,s=F;D=e,F=null;try{return ce(t,!0)}catch(r){kt(r)}finally{D=n,F=s}}const[qo,Bo]=te(!1);function Tn(e){se.push.apply(se,e),e.length=0}function xt(e,t){const n=Symbol("context");return{id:n,Provider:jn(n),defaultValue:e}}function rt(e){let t;return D&&D.context&&(t=D.context[e.id])!==void 0?t:e.defaultValue}function En(e){const t=K(e),n=K(()=>ht(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let Ae;function Mn(){return Ae||(Ae=xt())}function sn(){if(this.sources&&this.state)if(this.state===de)Ce(this);else{const e=Y;Y=null,ce(()=>Xe(this),!1),Y=e}if(F){const e=this.observers?this.observers.length:0;F.sources?(F.sources.push(this),F.sourceSlots.push(e)):(F.sources=[this],F.sourceSlots=[e]),this.observers?(this.observers.push(F),this.observerSlots.push(F.sources.length-1)):(this.observers=[F],this.observerSlots=[F.sources.length-1])}return this.value}function on(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&ce(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],a=Be&&Be.running;a&&Be.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?Y.push(i):se.push(i),i.observers&&ln(i)),a||(i.state=de)}if(Y.length>1e6)throw Y=[],new Error},!1)),t}function Ce(e){if(!e.fn)return;Le(e);const t=nt;Dn(e,e.value,t)}function Dn(e,t,n){let s;const r=D,i=F;F=D=e;try{s=e.fn(t)}catch(a){return e.pure&&(e.state=de,e.owned&&e.owned.forEach(Le),e.owned=null),e.updatedAt=n+1,kt(a)}finally{F=i,D=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?on(e,s):e.value=s,e.updatedAt=n)}function st(e,t,n,s=de,r){const i={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:D,context:D?D.context:null,pure:n};return D===null||D!==tn&&(D.owned?D.owned.push(i):D.owned=[i]),i}function He(e){if(e.state===0)return;if(e.state===Ye)return Xe(e);if(e.suspense&&Q(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<nt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===de)Ce(e);else if(e.state===Ye){const s=Y;Y=null,ce(()=>Xe(e,t[0]),!1),Y=s}}function ce(e,t){if(Y)return e();let n=!1;t||(Y=[]),se?n=!0:se=[],nt++;try{const s=e();return On(n),s}catch(s){n||(se=null),Y=null,kt(s)}}function On(e){if(Y&&(an(Y),Y=null),e)return;const t=se;se=null,t.length&&ce(()=>en(t),!1)}function an(e){for(let t=0;t<e.length;t++)He(e[t])}function Ln(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:He(s)}if(k.context){if(k.count){k.effects||(k.effects=[]),k.effects.push(...e.slice(0,n));return}le()}for(k.effects&&(k.done||!k.count)&&(e=[...k.effects,...e],n+=k.effects.length,delete k.effects),t=0;t<n;t++)He(e[t])}function Xe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const r=s.state;r===de?s!==t&&(!s.updatedAt||s.updatedAt<nt)&&He(s):r===Ye&&Xe(s,t)}}}function ln(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ye,n.pure?Y.push(n):se.push(n),n.observers&&ln(n))}}function Le(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),a=n.observerSlots.pop();s<r.length&&(i.sourceSlots[a]=s,r[s]=i,n.observerSlots[s]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Le(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Le(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function We(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function kt(e,t=D){throw We(e)}function ht(e){if(typeof e=="function"&&!e.length)return ht(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=ht(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function jn(e,t){return function(s){let r;return X(()=>r=Q(()=>(D.context={...D.context,[e]:s.value},En(()=>s.children))),void 0),r}}const zn=Symbol("fallback");function Mt(e){for(let t=0;t<e.length;t++)e[t]()}function Fn(e,t,n={}){let s=[],r=[],i=[],a=0,o=t.length>1?[]:null;return $e(()=>Mt(i)),()=>{let l=e()||[],c=l.length,u,d;return l[yt],Q(()=>{let b,m,x,N,$,M,R,I,v;if(c===0)a!==0&&(Mt(i),i=[],s=[],r=[],a=0,o&&(o=[])),n.fallback&&(s=[zn],r[0]=De(oe=>(i[0]=oe,n.fallback())),a=1);else if(a===0){for(r=new Array(c),d=0;d<c;d++)s[d]=l[d],r[d]=De(y);a=c}else{for(x=new Array(c),N=new Array(c),o&&($=new Array(c)),M=0,R=Math.min(a,c);M<R&&s[M]===l[M];M++);for(R=a-1,I=c-1;R>=M&&I>=M&&s[R]===l[I];R--,I--)x[I]=r[R],N[I]=i[R],o&&($[I]=o[R]);for(b=new Map,m=new Array(I+1),d=I;d>=M;d--)v=l[d],u=b.get(v),m[d]=u===void 0?-1:u,b.set(v,d);for(u=M;u<=R;u++)v=s[u],d=b.get(v),d!==void 0&&d!==-1?(x[d]=r[u],N[d]=i[u],o&&($[d]=o[u]),d=m[d],b.set(v,d)):i[u]();for(d=M;d<c;d++)d in x?(r[d]=x[d],i[d]=N[d],o&&(o[d]=$[d],o[d](d))):r[d]=De(y);r=r.slice(0,a=c),s=l.slice(0)}return r});function y(b){if(i[d]=b,o){const[m,x]=te(d);return o[d]=x,t(l[d],m)}return t(l[d])}}}function f(e,t){return Q(()=>e(t||{}))}function Ke(){return!0}const mt={get(e,t,n){return t===ie?n:e.get(t)},has(e,t){return t===ie?!0:e.has(t)},set:Ke,deleteProperty:Ke,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ke,deleteProperty:Ke}},ownKeys(e){return e.keys()}};function lt(e){return(e=typeof e=="function"?e():e)?e:{}}function Un(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function j(...e){let t=!1;for(let a=0;a<e.length;a++){const o=e[a];t=t||!!o&&ie in o,e[a]=typeof o=="function"?(t=!0,K(o)):o}if(Zt&&t)return new Proxy({get(a){for(let o=e.length-1;o>=0;o--){const l=lt(e[o])[a];if(l!==void 0)return l}},has(a){for(let o=e.length-1;o>=0;o--)if(a in lt(e[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<e.length;o++)a.push(...Object.keys(lt(e[o])));return[...new Set(a)]}},mt);const n={},s=Object.create(null);for(let a=e.length-1;a>=0;a--){const o=e[a];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(o,u);if(!s[u])s[u]=d.get?{enumerable:!0,configurable:!0,get:Un.bind(n[u]=[d.get.bind(o)])}:d.value!==void 0?d:void 0;else{const y=n[u];y&&(d.get?y.push(d.get.bind(o)):d.value!==void 0&&y.push(()=>d.value))}}}const r={},i=Object.keys(s);for(let a=i.length-1;a>=0;a--){const o=i[a],l=s[o];l&&l.get?Object.defineProperty(r,o,l):r[o]=l?l.value:void 0}return r}function St(e,...t){const n=t.length;if(Zt&&ie in e){const r=n>1?t.flat():t[0],i=t.map(a=>new Proxy({get(o){return a.includes(o)?e[o]:void 0},has(o){return a.includes(o)&&o in e},keys(){return a.filter(o=>o in e)}},mt));return i.push(new Proxy({get(a){return r.includes(a)?void 0:e[a]},has(a){return r.includes(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!r.includes(a))}},mt)),i}const s=[];for(let r=0;r<=n;r++)s[r]={};for(const r of Object.getOwnPropertyNames(e)){let i=n;for(let l=0;l<t.length;l++)if(t[l].includes(r)){i=l;break}const a=Object.getOwnPropertyDescriptor(e,r);!a.get&&!a.set&&a.enumerable&&a.writable&&a.configurable?s[i][r]=a.value:Object.defineProperty(s[i],r,a)}return s}function Re(e){let t,n;const s=r=>{const i=k.context;if(i){const[o,l]=te();k.count||(k.count=0),k.count++,(n||(n=e())).then(c=>{!k.done&&le(i),k.count--,l(()=>c.default),le()}),t=o}else if(!t){const[o]=Pn(()=>(n||(n=e())).then(l=>l.default));t=o}let a;return K(()=>(a=t())?Q(()=>{if(!i||k.done)return a(r);const o=k.context;le(i);const l=a(r);return le(o),l}):"")};return s.preload=()=>n||((n=e()).then(r=>t=()=>r.default),n),s}const Rn=e=>`Stale read from <${e}>.`;function it(e){const t="fallback"in e&&{fallback:()=>e.fallback};return K(Fn(()=>e.each,e.children,t||void 0))}function H(e){const t=e.keyed,n=K(()=>e.when,void 0,void 0),s=t?n:K(n,void 0,{equals:(r,i)=>!r==!i});return K(()=>{const r=s();if(r){const i=e.children;return typeof i=="function"&&i.length>0?Q(()=>i(t?r:()=>{if(!Q(s))throw Rn("Show");return n()})):i}return e.fallback},void 0,void 0)}const In=xt();function gt(e){let t=0,n,s,r,i,a;const[o,l]=te(!1),c=Mn(),u={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:o,effects:[],resolved:!1},d=Cn();if(k.context&&k.load){const m=k.getContextId();let x=k.load(m);if(x&&(typeof x!="object"||x.s!==1?r=x:k.gather(m)),r&&r!=="$$f"){const[N,$]=te(void 0,{equals:!1});i=N,r.then(()=>{if(k.done)return $();k.gather(m),le(s),$(),le()},M=>{a=M,$()})}}const y=rt(In);y&&(n=y.register(u.inFallback));let b;return $e(()=>b&&b()),f(c.Provider,{value:u,get children(){return K(()=>{if(a)throw a;if(s=k.context,i)return i(),i=void 0;s&&r==="$$f"&&le();const m=K(()=>e.children);return K(x=>{const N=u.inFallback(),{showContent:$=!0,showFallback:M=!0}=n?n():{};if((!N||r&&r!=="$$f")&&$)return u.resolved=!0,b&&b(),b=s=r=void 0,Tn(u.effects),m();if(M)return b?x:De(R=>(b=R,s&&(le({id:s.id+"F",count:0}),s=void 0),e.fallback),d)})})}})}const Vn=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Kn=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...Vn]),qn=new Set(["innerHTML","textContent","innerText","children"]),Bn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Wn=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Gn(e,t){const n=Wn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Jn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Yn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Qn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Ge=e=>K(()=>e());function Hn(e,t,n){let s=n.length,r=t.length,i=s,a=0,o=0,l=t[r-1].nextSibling,c=null;for(;a<r||o<i;){if(t[a]===n[o]){a++,o++;continue}for(;t[r-1]===n[i-1];)r--,i--;if(r===a){const u=i<s?o?n[o-1].nextSibling:n[i-o]:l;for(;o<i;)e.insertBefore(n[o++],u)}else if(i===o)for(;a<r;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[i-1]&&n[o]===t[r-1]){const u=t[--r].nextSibling;e.insertBefore(n[o++],t[a++].nextSibling),e.insertBefore(n[--i],u),t[r]=n[i]}else{if(!c){c=new Map;let d=o;for(;d<i;)c.set(n[d],d++)}const u=c.get(t[a]);if(u!=null)if(o<u&&u<i){let d=a,y=1,b;for(;++d<r&&d<i&&!((b=c.get(t[d]))==null||b!==u+y);)y++;if(y>u-o){const m=t[a];for(;o<u;)e.insertBefore(n[o++],m)}else e.replaceChild(n[o++],t[a++])}else a++;else t[a++].remove()}}}const Dt="_$DX_DELEGATE";function Xn(e,t,n,s={}){let r;return De(i=>{r=i,t===document?e():h(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function E(e,t,n,s){let r;const i=()=>{const o=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:s?o.firstChild:o.content.firstChild},a=t?()=>Q(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return a.cloneNode=a,a}function ge(e,t=window.document){const n=t[Dt]||(t[Dt]=new Set);for(let s=0,r=e.length;s<r;s++){const i=e[s];n.has(i)||(n.add(i),t.addEventListener(i,ar))}}function je(e,t,n){be(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function Zn(e,t,n,s){be(e)||(s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s))}function er(e,t,n){be(e)||(n?e.setAttribute(t,""):e.removeAttribute(t))}function ne(e,t){be(e)||(t==null?e.removeAttribute("class"):e.className=t)}function cn(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=i=>r.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function dn(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let i,a;for(i=0,a=r.length;i<a;i++){const o=r[i];!o||o==="undefined"||t[o]||(Ot(e,o,!1),delete n[o])}for(i=0,a=s.length;i<a;i++){const o=s[i],l=!!t[o];!o||o==="undefined"||n[o]===l||!l||(Ot(e,o,!0),n[o]=l)}return n}function tr(e,t,n){if(!t)return n?je(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let r,i;for(i in n)t[i]==null&&s.removeProperty(i),delete n[i];for(i in t)r=t[i],r!==n[i]&&(s.setProperty(i,r),n[i]=r);return n}function nr(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function _t(e,t={},n,s){const r={};return s||X(()=>r.children=ze(e,t.children,r.children)),X(()=>typeof t.ref=="function"&&rr(t.ref,e)),X(()=>sr(e,t,n,!0,r,!0)),r}function rr(e,t,n){return Q(()=>e(t,n))}function h(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return ze(e,t,s,n);X(r=>ze(e,t(),r,n),s)}function sr(e,t,n,s,r={},i=!1){t||(t={});for(const a in r)if(!(a in t)){if(a==="children")continue;r[a]=Lt(e,a,null,r[a],n,i,t)}for(const a in t){if(a==="children")continue;const o=t[a];r[a]=Lt(e,a,o,r[a],n,i,t)}}function ir(e){let t,n;return!be()||!(t=k.registry.get(n=lr()))?e():(k.completed&&k.completed.add(t),k.registry.delete(n),t)}function be(e){return!!k.context&&!k.done&&(!e||e.isConnected)}function or(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Ot(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,i=s.length;r<i;r++)e.classList.toggle(s[r],n)}function Lt(e,t,n,s,r,i,a){let o,l,c,u,d;if(t==="style")return tr(e,n,s);if(t==="classList")return dn(e,n,s);if(n===s)return s;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const y=t.slice(3);s&&e.removeEventListener(y,s,typeof s!="function"&&s),n&&e.addEventListener(y,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const y=t.slice(10);s&&e.removeEventListener(y,s,!0),n&&e.addEventListener(y,n,!0)}else if(t.slice(0,2)==="on"){const y=t.slice(2).toLowerCase(),b=Jn.has(y);if(!b&&s){const m=Array.isArray(s)?s[0]:s;e.removeEventListener(y,m)}(b||n)&&(cn(e,y,n,b),b&&ge([y]))}else if(t.slice(0,5)==="attr:")je(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")er(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=qn.has(t))||!r&&((u=Gn(t,e.tagName))||(l=Kn.has(t)))||(o=e.nodeName.includes("-")||"is"in a)){if(d)t=t.slice(5),l=!0;else if(be(e))return n;t==="class"||t==="className"?ne(e,n):o&&!l&&!c?e[or(t)]=n:e[u||t]=n}else{const y=r&&t.indexOf(":")>-1&&Qn[t.split(":")[0]];y?Zn(e,y,t,n):je(e,Bn[t]||t,n)}return n}function ar(e){if(k.registry&&k.events&&k.events.find(([l,c])=>c===e))return;let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,i=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),a=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},o=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),k.registry&&!k.done&&(k.done=_$HY.done=!0),e.composedPath){const l=e.composedPath();i(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!a());c++){if(t._$host){t=t._$host,o();break}if(t.parentNode===r)break}}else o();i(s)}function ze(e,t,n,s,r){const i=be(e);if(i){!n&&(n=[...e.childNodes]);let l=[];for(let c=0;c<n.length;c++){const u=n[c];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():l.push(u)}n=l}for(;typeof n=="function";)n=n();if(t===n)return n;const a=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,a==="string"||a==="number"){if(i||a==="number"&&(t=t.toString(),t===n))return n;if(o){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=xe(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||a==="boolean"){if(i)return n;n=xe(e,n,s)}else{if(a==="function")return X(()=>{let l=t();for(;typeof l=="function";)l=l();n=ze(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(bt(l,t,n,r))return X(()=>n=ze(e,l,n,s,!0)),()=>n;if(i){if(!l.length)return n;if(s===void 0)return n=[...e.childNodes];let u=l[0];if(u.parentNode!==e)return n;const d=[u];for(;(u=u.nextSibling)!==s;)d.push(u);return n=d}if(l.length===0){if(n=xe(e,n,s),o)return n}else c?n.length===0?jt(e,l,s):Hn(e,n,l):(n&&xe(e),jt(e,l));n=l}else if(t.nodeType){if(i&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=xe(e,n,s,t);xe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function bt(e,t,n,s){let r=!1;for(let i=0,a=t.length;i<a;i++){let o=t[i],l=n&&n[e.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=bt(e,o,l)||r;else if(c==="function")if(s){for(;typeof o=="function";)o=o();r=bt(e,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||r}else e.push(o),r=!0;else{const u=String(o);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return r}function jt(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function xe(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let i=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(r!==o){const l=o.parentNode===e;!i&&!a?l?e.replaceChild(r,o):e.insertBefore(r,n):l&&o.remove()}else i=!0}}else e.insertBefore(r,n);return[r]}function lr(){return k.getNextContextId()}const cr="http://www.w3.org/2000/svg";function dr(e,t=!1,n=void 0){return t?document.createElementNS(cr,e):document.createElement(e,{is:n})}function ur(e,t){const n=K(e);return K(()=>{const s=n();switch(typeof s){case"function":return Q(()=>s(t));case"string":const r=Yn.has(s),i=k.context?ir():dr(s,r,Q(()=>t.is));return _t(i,t,r),i}})}function un(e){const[,t]=St(e,["component"]);return ur(()=>e.component,t)}const fr="modulepreload",yr=function(e){return"/"+e},zt={},Ie=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=a(n.map(c=>{if(c=yr(c),c in zt)return;zt[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":fr,u||(y.as="script"),y.crossOrigin="",y.href=c,l&&y.setAttribute("nonce",l),document.head.appendChild(y),u)return new Promise((b,m)=>{y.addEventListener("load",b),y.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/**
* @license lucide-solid v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var pr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},ke=pr,hr=E("<svg>"),mr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gr=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),br=e=>{const[t,n]=St(e,["color","size","strokeWidth","children","class","name","iconNode","absoluteStrokeWidth"]);return(()=>{var s=hr();return _t(s,j(ke,{get width(){return t.size??ke.width},get height(){return t.size??ke.height},get stroke(){return t.color??ke.stroke},get"stroke-width"(){return Ge(()=>!!t.absoluteStrokeWidth)()?Number(t.strokeWidth??ke["stroke-width"])*24/Number(t.size):Number(t.strokeWidth??ke["stroke-width"])},get class(){return gr("lucide","lucide-icon",t.name!=null?`lucide-${mr(t==null?void 0:t.name)}`:void 0,t.class!=null?t.class:"")}},n),!0,!0),h(s,f(it,{get each(){return t.iconNode},children:([r,i])=>f(un,j({component:r},i))})),s})()},U=br,wr=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vr=e=>f(U,j(e,{name:"ChevronDown",iconNode:wr})),xr=vr,kr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sr=e=>f(U,j(e,{name:"CircleAlert",iconNode:kr})),_r=Sr,$r=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ar=e=>f(U,j(e,{name:"CircleCheck",iconNode:$r})),Pr=Ar,Cr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Nr=e=>f(U,j(e,{name:"CirclePlay",iconNode:Cr})),Tr=Nr,Er=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Mr=e=>f(U,j(e,{name:"CirclePlus",iconNode:Er})),Dr=Mr,Or=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],Lr=e=>f(U,j(e,{name:"CloudDownload",iconNode:Or})),jr=Lr,zr=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fr=e=>f(U,j(e,{name:"Database",iconNode:zr})),Ur=Fr,Rr=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ir=e=>f(U,j(e,{name:"ExternalLink",iconNode:Rr})),Vr=Ir,Kr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],qr=e=>f(U,j(e,{name:"Film",iconNode:Kr})),Br=qr,Wr=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Gr=e=>f(U,j(e,{name:"Filter",iconNode:Wr})),Jr=Gr,Yr=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Qr=e=>f(U,j(e,{name:"Layers",iconNode:Yr})),Hr=Qr,Xr=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Zr=e=>f(U,j(e,{name:"Loader",iconNode:Xr})),es=Zr,ts=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ns=e=>f(U,j(e,{name:"Music",iconNode:ts})),rs=ns,ss=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],is=e=>f(U,j(e,{name:"Pause",iconNode:ss})),os=is,as=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ls=e=>f(U,j(e,{name:"Play",iconNode:as})),cs=ls,ds=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],us=e=>f(U,j(e,{name:"Puzzle",iconNode:ds})),fs=us,ys=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ps=e=>f(U,j(e,{name:"Search",iconNode:ys})),hs=ps,ms=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gs=e=>f(U,j(e,{name:"ShieldCheck",iconNode:ms})),bs=gs,ws=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],vs=e=>f(U,j(e,{name:"SkipBack",iconNode:ws})),xs=vs,ks=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],Ss=e=>f(U,j(e,{name:"SkipForward",iconNode:ks})),_s=Ss,$s=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],As=e=>f(U,j(e,{name:"SlidersVertical",iconNode:$s})),Ps=As,Cs=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],Ns=e=>f(U,j(e,{name:"Terminal",iconNode:Cs})),Ts=Ns,Es=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ms=e=>f(U,j(e,{name:"Trash2",iconNode:Es})),Ds=Ms,Os=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ls=e=>f(U,j(e,{name:"X",iconNode:Os})),js=Ls,zs=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fs=e=>f(U,j(e,{name:"Zap",iconNode:zs})),Us=Fs;const Ft={zap:Us,"plus-circle":Dr,layers:Hr,sliders:Ps,puzzle:fs,"chevron-down":xr,"trash-2":Ds,"download-cloud":jr,music:rs,"shield-check":bs,database:Ur,"alert-circle":_r,"check-circle-2":Pr,loader:es,terminal:Ts,search:hs,filter:Jr,film:Br,play:cs,"external-link":Vr,x:js,"play-circle":Tr,"skip-back":xs,pause:os,"skip-forward":_s};function B(e){const t=Ft[e.name]||Ft["alert-circle"];return f(un,{component:t,get class(){return e.class}})}const wt=Symbol("store-raw"),_e=Symbol("store-node"),ae=Symbol("store-has"),fn=Symbol("store-self");function yn(e){let t=e[ie];if(!t&&(Object.defineProperty(e,ie,{value:t=new Proxy(e,Vs)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let r=0,i=n.length;r<i;r++){const a=n[r];s[a].get&&Object.defineProperty(e,a,{enumerable:s[a].enumerable,get:s[a].get.bind(t)})}}return t}function Ze(e){let t;return e!=null&&typeof e=="object"&&(e[ie]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Fe(e,t=new Set){let n,s,r,i;if(n=e!=null&&e[wt])return n;if(!Ze(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,o=e.length;a<o;a++)r=e[a],(s=Fe(r,t))!==r&&(e[a]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,c=a.length;l<c;l++)i=a[l],!o[i].get&&(r=e[i],(s=Fe(r,t))!==r&&(e[i]=s))}return e}function et(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Ue(e,t,n){if(e[t])return e[t];const[s,r]=te(n,{equals:!1,internal:!0});return s.$=r,e[t]=s}function Rs(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ie||t===_e||(delete n.value,delete n.writable,n.get=()=>e[ie][t]),n}function pn(e){pt()&&Ue(et(e,_e),fn)()}function Is(e){return pn(e),Reflect.ownKeys(e)}const Vs={get(e,t,n){if(t===wt)return e;if(t===ie)return n;if(t===yt)return pn(e),n;const s=et(e,_e),r=s[t];let i=r?r():e[t];if(t===_e||t===ae||t==="__proto__")return i;if(!r){const a=Object.getOwnPropertyDescriptor(e,t);pt()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(i=Ue(s,t,i)())}return Ze(i)?yn(i):i},has(e,t){return t===wt||t===ie||t===yt||t===_e||t===ae||t==="__proto__"?!0:(pt()&&Ue(et(e,ae),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Is,getOwnPropertyDescriptor:Rs};function tt(e,t,n,s=!1){if(!s&&e[t]===n)return;const r=e[t],i=e.length;n===void 0?(delete e[t],e[ae]&&e[ae][t]&&r!==void 0&&e[ae][t].$()):(e[t]=n,e[ae]&&e[ae][t]&&r===void 0&&e[ae][t].$());let a=et(e,_e),o;if((o=Ue(a,t,r))&&o.$(()=>n),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(o=a[l])&&o.$();(o=Ue(a,"length",i))&&o.$(e.length)}(o=a[fn])&&o.$()}function hn(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const r=n[s];tt(e,r,t[r])}}function Ks(e,t){if(typeof t=="function"&&(t=t(e)),t=Fe(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const r=t[n];e[n]!==r&&tt(e,n,r)}tt(e,"length",s)}else hn(e,t)}function Me(e,t,n=[]){let s,r=e;if(t.length>1){s=t.shift();const a=typeof s,o=Array.isArray(e);if(Array.isArray(s)){for(let l=0;l<s.length;l++)Me(e,[s[l]].concat(t),n);return}else if(o&&a==="function"){for(let l=0;l<e.length;l++)s(e[l],l)&&Me(e,[l].concat(t),n);return}else if(o&&a==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=s;for(let d=l;d<=c;d+=u)Me(e,[d].concat(t),n);return}else if(t.length>1){Me(e[s],t,[s].concat(n));return}r=e[s],n=[s].concat(n)}let i=t[0];typeof i=="function"&&(i=i(r,n),i===r)||s===void 0&&i==null||(i=Fe(i),s===void 0||Ze(r)&&Ze(i)&&!Array.isArray(i)?hn(r,i):tt(e,s,i))}function mn(...[e,t]){const n=Fe(e||{}),s=Array.isArray(n),r=yn(n);function i(...a){nn(()=>{s&&a.length===1?Ks(n,a[0]):Me(n,a)})}return[r,i]}const[pe,q]=mn({activeDownloads:{},jobStatuses:{},logs:[],notification:null,lastJobId:null,error:null}),qs=e=>{q("activeDownloads",e.id,t=>({...t,...e,done:e.status==="complete"||e.percent>=100}))},Bs=e=>{q("activeDownloads",e.id,t=>({...t,status:"error",error:e.message})),q("error",e)};var Ws=E('<div class="space-y-3 overflow-y-auto custom-scrollbar flex-1 pr-2 max-h-[300px]"style="mask-image:linear-gradient(to bottom, black 0%, black 85%, transparent 100%);-webkit-mask-image:linear-gradient(to bottom, black 0%, black 85%, transparent 100%)">'),Gs=E('<div class="rounded-[2rem] border border-white/5 bg-black/20 p-6 flex flex-col gap-4 h-full"><div class="flex items-center justify-between"><h3 class="text-lg font-bold text-white flex items-center gap-2">Active Downloads'),Js=E('<div class="flex flex-col items-center justify-center flex-1 py-12 text-gray-500 gap-3"><span class="text-xs font-bold uppercase tracking-widest">No active tasks'),Ys=E('<div class="text-[10px] text-red-400 font-mono break-all">'),Qs=E('<div class="text-[10px] text-slate-500 text-right">ETA: '),Hs=E('<div class="rounded-xl border border-white/5 bg-white/5 p-3 space-y-2 transition-all duration-300"><div class="flex justify-between items-center text-xs"><span class="font-bold text-slate-200 truncate max-w-[70%]"></span><span></span></div><div class="h-1.5 w-full rounded-full bg-black/40 overflow-hidden"><div>');function Xs(){const e=K(()=>Object.values(pe.activeDownloads).sort((s,r)=>s.done!==r.done?s.done?1:-1:(s.filename||s.id).localeCompare(r.filename||r.id))),t=K(()=>e().length>0);return(()=>{var n=Gs(),s=n.firstChild,r=s.firstChild,i=r.firstChild;return h(r,f(B,{name:"download-cloud",class:"w-5 h-5 text-accent-primary"}),i),h(n,f(H,{get when(){return t()},get fallback(){return(()=>{var a=Js(),o=a.firstChild;return h(a,f(B,{name:"check-circle-2",class:"w-10 h-10 opacity-20"}),o),a})()},get children(){var a=Ws();return h(a,f(it,{get each(){return e()},children:o=>(()=>{var l=Hs(),c=l.firstChild,u=c.firstChild,d=u.nextSibling,y=c.nextSibling,b=y.firstChild;return h(u,()=>o.filename||o.id),h(d,(()=>{var m=Ge(()=>o.status==="error");return()=>m()?"Error":Ge(()=>o.percent!==void 0)()?`${o.percent.toFixed(1)}%`:"0.0%"})()),h(l,f(H,{get when(){return o.status==="error"},get children(){var m=Ys();return h(m,()=>o.error),m}}),y),h(l,f(H,{get when(){return Ge(()=>!!(o.eta&&!o.done))()&&o.status!=="error"},get children(){var m=Qs();return m.firstChild,h(m,()=>o.eta,null),m}}),null),X(m=>{var x={"opacity-0 scale-95":o.done,"opacity-100 scale-100":!o.done},N=`font-mono ${o.status==="error"?"text-red-400":o.done?"text-emerald-400":"text-accent-primary"}`,$=`h-full transition-all duration-300 ${o.status==="error"?"bg-red-500":o.done?"bg-emerald-500":"bg-vibrant-gradient"}`,M=`${o.percent||0}%`;return m.e=dn(l,x,m.e),N!==m.t&&ne(d,m.t=N),$!==m.a&&ne(b,m.a=$),M!==m.o&&nr(b,"width",m.o=M),m},{e:void 0,t:void 0,a:void 0,o:void 0}),l})()})),a}}),null),n})()}var gn=E("<div>");function Zs(e){return(()=>{var t=gn();return h(t,()=>e.children),X(()=>ne(t,`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ${e.class||""}`)),t})()}function Te(e){const t=()=>{switch(e.span){case 2:return"lg:col-span-2";case 3:return"lg:col-span-3";case 4:return"lg:col-span-4";default:return"lg:col-span-1"}};return(()=>{var n=gn();return h(n,()=>e.children),X(()=>ne(n,`${t()} ${e.class||""}`)),n})()}var ei=E('<div class="rounded-[2rem] border border-accent-primary/20 glass-vibrant p-8 relative overflow-hidden group h-full"><div class="absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity duration-500"></div><div class="relative z-10 space-y-4"><h1 class="text-4xl font-black text-white tracking-tight">Welcome Back!</h1><p class="text-lg text-gray-300 max-w-lg">Your media library is ready. You have <span class="text-white font-bold"> items</span> across <span class="text-white font-bold"> creators</span>.</p><div class="flex flex-wrap gap-3 pt-4"><button class="px-6 py-3 rounded-xl bg-white text-black font-black uppercase tracking-widest hover:scale-105 transition-transform shadow-lg flex items-center gap-2">New Download</button><button class="px-6 py-3 rounded-xl bg-black/40 text-white border border-white/10 font-black uppercase tracking-widest hover:bg-black/60 transition-colors flex items-center gap-2">Browse Library');function ti(e){return(()=>{var t=ei(),n=t.firstChild,s=n.nextSibling,r=s.firstChild,i=r.nextSibling,a=i.firstChild,o=a.nextSibling,l=o.firstChild,c=o.nextSibling,u=c.nextSibling,d=u.firstChild,y=i.nextSibling,b=y.firstChild,m=b.firstChild,x=b.nextSibling,N=x.firstChild;return h(n,f(B,{name:"layout-dashboard",class:"w-48 h-48 rotate-12"})),h(o,()=>{var $;return(($=e.stats)==null?void 0:$.totalItems)||0},l),h(u,()=>{var $;return(($=e.stats)==null?void 0:$.totalCreators)||0},d),b.$$click=()=>e.onTabChange("download"),h(b,f(B,{name:"plus-circle",class:"w-4 h-4"}),m),x.$$click=()=>e.onTabChange("library"),h(x,f(B,{name:"layers",class:"w-4 h-4"}),N),t})()}ge(["click"]);var ni=E('<div class="rounded-[2rem] border border-white/5 bg-black/20 p-6 flex flex-col justify-center gap-4 h-full"><h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">Library Stats</h3><div class="grid grid-cols-2 gap-4"><div class="p-4 rounded-2xl bg-white/5 border border-white/5"><div class="text-3xl font-black text-accent-primary"></div><div class="text-[10px] font-bold text-gray-500 uppercase">Creators</div></div><div class="p-4 rounded-2xl bg-white/5 border border-white/5"><div class="text-3xl font-black text-accent-secondary"></div><div class="text-[10px] font-bold text-gray-500 uppercase">Media Files');function ri(e){return(()=>{var t=ni(),n=t.firstChild,s=n.nextSibling,r=s.firstChild,i=r.firstChild,a=r.nextSibling,o=a.firstChild;return h(i,()=>{var l;return((l=e.stats)==null?void 0:l.totalCreators)||0}),h(o,()=>{var l;return((l=e.stats)==null?void 0:l.totalItems)||0}),t})()}var si=E('<img class="w-full h-full object-cover transition-smooth group-hover/thumb:scale-105"loading=lazy>',!0,!1,!1),ii=E('<div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover/thumb:opacity-100 transition-smooth">'),oi=E("<div>"),ai=E('<div class="absolute inset-0 flex items-center justify-center text-gray-700">');function li(e){const[t,n]=St(e,["src","alt","class","size"]),s={sm:"aspect-video w-24",md:"aspect-video w-full",lg:"aspect-video w-full max-w-2xl"}[t.size||"md"];return(()=>{var r=oi();return _t(r,j({get class(){return`relative rounded-xl overflow-hidden bg-bg-surface-soft group/thumb ${s} ${t.class||""}`}},n),!1,!0),h(r,f(H,{get when(){return t.src},get fallback(){return(()=>{var i=ai();return h(i,f(B,{name:"image",class:"w-8 h-8"})),i})()},get children(){return[(()=>{var i=si();return X(a=>{var o=t.src,l=t.alt||"Video thumbnail";return o!==a.e&&je(i,"src",a.e=o),l!==a.t&&je(i,"alt",a.t=l),a},{e:void 0,t:void 0}),i})(),ii()]}})),r})()}var ci=E('<div class="col-span-full py-12 text-center text-gray-500 text-sm font-medium bg-black/20 rounded-2xl border border-dashed border-white/10">No Recent Items'),di=E('<div class=space-y-4><div class="flex items-center justify-between px-2"><h2 class="text-xl font-bold text-white">Recent Additions</h2><button class="text-xs font-bold text-accent-primary hover:text-white transition-colors">See All</button></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-4">'),ui=E('<div class="flex gap-4 p-4 rounded-2xl border border-white/5 bg-black/20 hover:bg-black/40 transition-colors group"><div class="min-w-0 flex-1 flex flex-col justify-center"><h4 class="font-bold text-white truncate text-sm"></h4><p class="text-xs text-gray-400 truncate"></p><div class="mt-2 flex items-center gap-2"><span class="text-[10px] font-bold px-2 py-0.5 rounded bg-white/10 text-gray-300 uppercase tracking-wider"></span><span class="text-[10px] text-gray-600">');function fi(e){return(()=>{var t=di(),n=t.firstChild,s=n.firstChild,r=s.nextSibling,i=n.nextSibling;return r.$$click=()=>e.onTabChange("library"),h(i,f(it,{get each(){var a;return((a=e.stats)==null?void 0:a.recentItems)||[]},children:a=>(()=>{var o=ui(),l=o.firstChild,c=l.firstChild,u=c.nextSibling,d=u.nextSibling,y=d.firstChild,b=y.nextSibling;return h(o,f(li,{get src(){return a.thumbnailUrl},get alt(){return a.title},size:"sm",class:"w-16 h-16 rounded-lg flex-shrink-0 shadow-lg"}),l),h(c,()=>a.title),h(u,()=>a.creator),h(y,()=>a.type),h(b,()=>a.date||"Just now"),o})()}),null),h(i,f(H,{get when(){var a,o;return!((o=(a=e.stats)==null?void 0:a.recentItems)!=null&&o.length)},get children(){return ci()}}),null),t})()}ge(["click"]);var yi=E("<div class=h-full>"),pi=E('<div class="transition-smooth animate-in fade-in slide-in-from-right-4 duration-500">'),hi=E('<div class="rounded-[2rem] border border-dashed border-white/10 bg-black/20 p-6 h-[148px] animate-pulse">');const mi=Re(()=>Ie(()=>import("./assets/QuickDownload-Bvr-m2tr.js"),[]));function gi(e){const t=K(()=>typeof e.libraryModel=="function"?e.libraryModel():e.libraryModel),n=K(()=>{var i,a,o,l,c;const r=t();return{totalItems:((i=r==null?void 0:r.items)==null?void 0:i.length)||0,totalCreators:(((a=r==null?void 0:r.artists)==null?void 0:a.length)||0)+(((o=r==null?void 0:r.videos)==null?void 0:o.length)||0)+(((l=r==null?void 0:r.podcasts)==null?void 0:l.length)||0),recentItems:((c=r==null?void 0:r.items)==null?void 0:c.slice(0,4))||[]}}),s=r=>{e.onDownload&&e.onDownload(r)};return(()=>{var r=pi();return h(r,f(Zs,{get children(){return[f(Te,{span:4,get children(){return f(ti,{get stats(){return n()},get onTabChange(){return e.onTabChange}})}}),f(Te,{span:3,get children(){return f(gt,{get fallback(){return hi()},get children(){return f(mi,{onDownload:s,get onTabChange(){return e.onTabChange}})}})}}),f(Te,{span:1,get children(){var i=yi();return h(i,f(Xs,{})),i}}),f(Te,{span:3,get children(){return f(fi,{get stats(){return n()},get onTabChange(){return e.onTabChange}})}}),f(Te,{span:1,get children(){return f(ri,{get stats(){return n()}})}})]}})),r})()}var bi=E('<aside class="w-72 bg-bg-surface/85 border-r border-white/10 flex flex-col p-6 backdrop-blur-xl transition-all duration-300"><div class="flex items-center gap-3 mb-10 px-2"><div class="w-10 h-10 bg-accent-primary rounded-2xl flex items-center justify-center shadow-lg shadow-accent-primary/20"></div><span class="text-xl font-bold tracking-tight text-white">ytdl-go</span></div><nav class="flex-1 space-y-2"><button><span class="font-bold text-sm">Dashboard</span></button><div class="pt-4 pb-2 px-4 text-xs font-bold text-gray-600 uppercase tracking-widest">Media</div><button><span class="font-bold text-sm">New Download</span></button><button><span class="font-bold text-sm">Library</span></button><div class="pt-4 pb-2 px-4 text-xs font-bold text-gray-600 uppercase tracking-widest">System</div><button><span class="font-bold text-sm">Settings</span></button></nav><div class="mt-auto relative has-tooltip"><span class="tooltip bg-bg-surface-soft text-[10px] px-2 py-1 rounded shadow-xl mb-4 border border-white/10 w-56 text-center leading-relaxed">Coming Soon: extension provider management and health status.</span><button type=button disabled aria-disabled=true aria-label="Extensions panel (Coming Soon)"class="w-full p-4 bg-white/5 rounded-2xl border border-white/5 opacity-70 cursor-not-allowed text-left hover:bg-white/10 transition-colors"><div class="flex items-center gap-2 mb-2 text-xs font-bold text-gray-500 uppercase tracking-widest">Extensions</div><div class="flex items-center justify-between text-xs"><span class=text-gray-500>PO Token Provider</span><span class="px-2 py-0.5 bg-white/10 text-gray-500 rounded-full font-bold border border-white/10">Coming Soon');function wi(e){const t=()=>e.activeTab;return(()=>{var n=bi(),s=n.firstChild,r=s.firstChild,i=s.nextSibling,a=i.firstChild,o=a.firstChild,l=a.nextSibling,c=l.nextSibling,u=c.firstChild,d=c.nextSibling,y=d.firstChild,b=d.nextSibling,m=b.nextSibling,x=m.firstChild,N=i.nextSibling,$=N.firstChild,M=$.nextSibling,R=M.firstChild,I=R.firstChild;return h(r,f(B,{name:"zap",class:"w-6 h-6 text-white fill-white"})),a.$$click=()=>e.onTabChange("dashboard"),h(a,f(B,{name:"layout-dashboard",class:"w-5 h-5"}),o),c.$$click=()=>e.onTabChange("download"),h(c,f(B,{name:"plus-circle",class:"w-5 h-5"}),u),d.$$click=()=>e.onTabChange("library"),h(d,f(B,{name:"layers",class:"w-5 h-5"}),y),m.$$click=()=>e.onTabChange("settings"),h(m,f(B,{name:"sliders",class:"w-5 h-5"}),x),h(R,f(B,{name:"puzzle",class:"w-3 h-3"}),I),X(v=>{var oe=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="dashboard"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,A=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="download"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,_=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="library"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,P=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="settings"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`;return oe!==v.e&&ne(a,v.e=oe),A!==v.t&&ne(c,v.t=A),_!==v.a&&ne(d,v.a=_),P!==v.o&&ne(m,v.o=P),v},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()}ge(["click"]);var vi=E('<header class="h-24 px-10 flex items-center justify-between border-b border-white/5 bg-transparent backdrop-blur-sm z-20"><div class="flex items-center gap-4"><h2 class="text-2xl font-black text-white tracking-tighter uppercase leading-none"></h2><div class="h-4 w-px bg-white/10 mx-2"></div><div class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div><span class="text-[10px] font-bold text-emerald-400 uppercase tracking-widest">YT_AUTH_OK</span></div></div><div class="flex items-center gap-3"><button><span class="text-[10px] font-bold uppercase tracking-widest">Advanced Mode</span></button><div class="w-10 h-10 rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-white/10 flex items-center justify-center shadow-inner group cursor-pointer hover:border-accent-primary/50 transition-colors">');function xi(e){const t=()=>e.isAdvanced,n=()=>{switch(e.activeTab){case"dashboard":return"Dashboard";case"download":return"New Download";case"library":return"Media Library";case"settings":return"Settings";default:return"ytdl-go"}};return(()=>{var s=vi(),r=s.firstChild,i=r.firstChild,a=r.nextSibling,o=a.firstChild,l=o.firstChild,c=o.nextSibling;return h(i,n),cn(o,"click",e.onToggleAdvanced,!0),h(o,f(B,{name:"settings-2",get class(){return`w-3.5 h-3.5 ${t()?"animate-pulse-slow":""}`}}),l),h(c,f(B,{name:"user",class:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors"})),X(()=>ne(o,`flex items-center gap-2 px-4 py-2 rounded-xl border transition-all duration-300 ${t()?"bg-accent-primary/20 border-accent-primary/30 text-accent-secondary shadow-lg shadow-accent-primary/10":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10"}`)),s})()}ge(["click"]);var ki=E('<div class="text-[11px] text-gray-600 mt-2 break-all">'),Si=E('<div class="p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-xs">'),_i=E('<div class="fixed inset-0 z-50 bg-[#05070a]/80 backdrop-blur-sm flex items-center justify-center p-4"><div class="w-full max-w-2xl rounded-3xl border border-white/10 bg-[#0a0c14] shadow-2xl p-8 space-y-6 animate-in fade-in zoom-in-95 duration-300"><div class="flex items-center gap-3"><div class="p-2 rounded-xl bg-amber-500/10 text-amber-400"></div><div><div class="font-bold text-white text-xl">Duplicate File Detected</div><div class="text-xs text-gray-500">Choose how to handle this file.</div></div></div><div class="p-4 rounded-2xl border border-white/10 bg-[#05070a]"><div class="text-xs text-gray-500 mb-1">Filename</div><div class="text-sm text-white font-mono break-all"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-3">'),$i=E('<button class="text-left p-4 rounded-2xl border border-white/10 bg-white/5 hover:border-blue-500/40 hover:bg-blue-500/10 transition-all"><div class="flex items-center justify-between"><span class="font-bold text-white text-sm"></span><span class="text-[10px] px-2 py-0.5 rounded-full bg-white/10 text-gray-400 font-mono"></span></div><div class="text-xs text-gray-500 mt-1">');const Ai=[{value:"overwrite",label:"Overwrite",hint:"Replace this file",key:"o"},{value:"overwrite_all",label:"Overwrite All",hint:"Replace all duplicates in this job",key:"O"},{value:"skip",label:"Skip",hint:"Skip this file",key:"s"},{value:"skip_all",label:"Skip All",hint:"Skip all duplicates in this job",key:"S"},{value:"rename",label:"Rename",hint:"Save as next available filename",key:"r"},{value:"rename_all",label:"Rename All",hint:"Rename all duplicates in this job",key:"R"},{value:"cancel",label:"Cancel",hint:"Abort this item",key:"q"}];function Pi(e){return(()=>{var t=_i(),n=t.firstChild,s=n.firstChild,r=s.firstChild,i=s.nextSibling,a=i.firstChild,o=a.nextSibling,l=i.nextSibling;return h(r,f(B,{name:"alert-circle",class:"w-5 h-5"})),h(o,()=>{var c;return((c=e.prompt)==null?void 0:c.filename)||"Unknown file"}),h(i,f(H,{get when(){var c;return(c=e.prompt)==null?void 0:c.path},get children(){var c=ki();return h(c,()=>e.prompt.path),c}}),null),h(n,f(H,{get when(){return e.error},get children(){var c=Si();return h(c,()=>e.error),c}}),l),h(l,f(it,{each:Ai,children:c=>(()=>{var u=$i(),d=u.firstChild,y=d.firstChild,b=y.nextSibling,m=d.nextSibling;return u.$$click=()=>{var x;return(x=e.onSelect)==null?void 0:x.call(e,c.value)},h(y,()=>c.label),h(b,()=>c.key),h(m,()=>c.hint),u})()})),t})()}ge(["click"]);const bn="ytdl-go:app-state:v1",Ci=new Set(["download","library","settings"]),Ni=new Set(["prompt","overwrite","skip","rename"]),Ti=new Set(["artists","channels","playlists","all_media"]),Ei=new Set(["gallery","list","detail"]),Ut=new Set(["all","audio","video"]),Mi=new Set(["newest","oldest","creator_asc","creator_desc","collection_asc","collection_desc","playlist_asc","playlist_desc"]),Di=80,Oi=32,Li=1440*60,re={output:"{title}.{ext}",quality:"best",jobs:1,timeout:180,format:"",audioOnly:!1,onDuplicate:"prompt",useCookies:!0,poTokenExtension:!1},ji={creatorType:"",creatorName:"",albumName:"",playlistKey:"",playlistKind:""},zi={query:"",creator:"",collection:"",playlist:"",savedPlaylistId:""},Fi=()=>({ui:{activeTab:"dashboard",isAdvanced:!1},settings:{...re},library:{downloads:[],section:"artists",viewMode:"gallery",typeFilter:"all",navPath:{...ji},filters:{...zi},sortKey:"newest",savedPlaylists:[],playlistAssignments:{},ui:{advancedFiltersOpen:!1,metadataBannerDismissed:!1}},player:{active:!1,selectedMedia:null,minimized:!1},download:{urlInput:"",isDownloading:!1,jobStatus:null,progressTasks:{},logMessages:[],duplicateQueue:[],duplicateError:""}}),wn=xt();let Rt=!1;const Ui=e=>({ui:{activeTab:e.ui.activeTab,isAdvanced:e.ui.isAdvanced},settings:{...e.settings},library:{section:e.library.section,viewMode:e.library.viewMode,typeFilter:e.library.typeFilter,navPath:{...e.library.navPath},filters:{query:e.library.filters.query,creator:e.library.filters.creator,collection:e.library.filters.collection,playlist:e.library.filters.playlist,savedPlaylistId:e.library.filters.savedPlaylistId},sortKey:e.library.sortKey,savedPlaylists:e.library.savedPlaylists,playlistAssignments:e.library.playlistAssignments,ui:{advancedFiltersOpen:e.library.ui.advancedFiltersOpen,metadataBannerDismissed:e.library.ui.metadataBannerDismissed}},download:{urlInput:e.download.urlInput,activeJobId:e.download.activeJobId}}),V=(e,t)=>typeof e=="string"?e:t,Oe=(e,t)=>typeof e=="boolean"?e:t,Ri=e=>V(e,"").trim().replace(/\s+/g," ").slice(0,Di),It=(e,t,n)=>{const s=typeof e=="number"?e:Number(e);if(!Number.isFinite(s))return t;const r=Math.trunc(s);return r<=0?t:Math.min(r,n)},Ii=e=>{const t=e&&typeof e=="object"?e:{},n=V(t.onDuplicate,re.onDuplicate);return{output:V(t.output,re.output),quality:V(t.quality,re.quality),jobs:It(t.jobs,re.jobs,Oi),timeout:It(t.timeout,re.timeout,Li),format:V(t.format,re.format),audioOnly:Oe(t.audioOnly,re.audioOnly),onDuplicate:Ni.has(n)?n:re.onDuplicate,useCookies:Oe(t.useCookies,re.useCookies),poTokenExtension:Oe(t.poTokenExtension,re.poTokenExtension)}},Vi=(e,t=new Set)=>{const n=e&&typeof e=="object"?e:{},s=V(n.savedPlaylistId,"").trim();return{query:V(n.query,""),creator:V(n.creator,""),collection:V(n.collection,""),playlist:V(n.playlist,""),savedPlaylistId:t.has(s)?s:""}},Ki=e=>{if(!Array.isArray(e))return[];const t=new Set,n=[];for(const s of e){const r=s&&typeof s=="object"?s:{},i=V(r.id,"").trim(),a=Ri(r.name);i===""||a===""||t.has(i)||(t.add(i),n.push({id:i,name:a,createdAt:V(r.createdAt,""),updatedAt:V(r.updatedAt,"")}))}return n},qi=(e,t)=>{const n=e&&typeof e=="object"?e:{},s={};for(const[r,i]of Object.entries(n)){const a=String(r||"").trim(),o=V(i,"").trim();a===""||o===""||!t.has(o)||(s[a]=o)}return s},Bi=e=>{const t=e&&typeof e=="object"?e:{},n=V(t.creatorType,"").trim().toLowerCase(),s=V(t.playlistKind,"").trim().toLowerCase();return{creatorType:n==="artist"||n==="channel"?n:"",creatorName:V(t.creatorName,""),albumName:V(t.albumName,""),playlistKey:V(t.playlistKey,""),playlistKind:s==="source"||s==="saved"?s:""}},Wi=e=>{const t=e&&typeof e=="object"?e:{};return{advancedFiltersOpen:Oe(t.advancedFiltersOpen,!1),metadataBannerDismissed:Oe(t.metadataBannerDismissed,!1)}},Gi=e=>{const t=e&&typeof e=="object"?e:{},n=V(t.section,"artists"),s=V(t.viewMode,"gallery"),r=V(t.sortKey,"newest"),i=Ki(t.savedPlaylists),a=new Set(i.map(u=>u.id)),o=V(t.typeFilter,"").trim().toLowerCase(),l=V(t.activeMediaType,"").trim().toLowerCase();let c="all";return Ut.has(o)?c=o:Ut.has(l)&&(c=l),{section:Ti.has(n)?n:"artists",viewMode:Ei.has(s)?s:"gallery",typeFilter:c,navPath:Bi(t.navPath),filters:Vi(t.filters,a),sortKey:Mi.has(r)?r:"newest",savedPlaylists:i,playlistAssignments:qi(t.playlistAssignments,a),ui:Wi(t.ui)}},Ji=()=>{if(typeof window>"u")return null;try{const e=window.localStorage.getItem(bn);return e?JSON.parse(e):null}catch(e){return Rt||(console.warn("Failed to read persisted app state from localStorage:",e),Rt=!0),null}},Yi=()=>{var l,c,u,d;const e=Fi(),t=Ji();if(!t||typeof t!="object")return e;const n=Ci.has((l=t==null?void 0:t.ui)==null?void 0:l.activeTab)?t.ui.activeTab:e.ui.activeTab,s=typeof((c=t==null?void 0:t.ui)==null?void 0:c.isAdvanced)=="boolean"?t.ui.isAdvanced:e.ui.isAdvanced,r=Ii(t.settings),i=Gi(t.library),a=typeof((u=t==null?void 0:t.download)==null?void 0:u.urlInput)=="string"?t.download.urlInput:e.download.urlInput,o=typeof((d=t==null?void 0:t.download)==null?void 0:d.activeJobId)=="string"?t.download.activeJobId:"";return{...e,ui:{activeTab:n,isAdvanced:s},settings:{...r},library:{...e.library,section:i.section,viewMode:i.viewMode,typeFilter:i.typeFilter,navPath:i.navPath,filters:i.filters,sortKey:i.sortKey,savedPlaylists:i.savedPlaylists,playlistAssignments:i.playlistAssignments,ui:i.ui},download:{...e.download,urlInput:a,activeJobId:o}}};function Qi(e){const[t,n]=mn(Yi());let s=!1;return Qe(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(bn,JSON.stringify(Ui(t))),s=!1}catch(r){s||(console.warn("Failed to persist app state to localStorage:",r),s=!0)}}),f(wn.Provider,{value:{state:t,setState:n},get children(){return e.children}})}function $t(){const e=rt(wn);if(!e)throw new Error("useAppStore must be used within an AppStoreProvider");return e}const Hi=new Set(["queued","running","reconnecting","complete","error"]),At=e=>{if(typeof e!="string")return"";const t=e.trim().toLowerCase();return t==="done"?"complete":Hi.has(t)?t:""},Xi=/\.(mp3|wav|ogg|flac|m4a|opus|aac|alac|wma)$/i,Zi=/\.(mp4|webm|mov|avi|mkv|m4v|wmv|mpeg|mpg|ts|ogv|3gp)$/i,eo=e=>Xi.test(String(e||"")),to=e=>Zi.test(String(e||"")),no=e=>{const t=String(e||"").trim().toLowerCase();return t==="audio"?"audio":t==="video"?"video":"unknown"},ro=e=>{const t=String((e==null?void 0:e.filename)||"").trim();if(t!==""){if(eo(t))return"audio";if(to(t))return"video"}return no(e==null?void 0:e.type)},so=80,Vt="/api/library/playlists",io="/api/library/playlists/migrate",Kt="ytdl-go:saved-playlists:backend-migration:v1",vt=e=>String(e||"").trim().replace(/\s+/g," ").slice(0,so),Se=e=>String(e||"").trim(),vn=e=>String(e||"").trim(),oo=e=>{const t=e&&typeof e=="object"?e:{},n=Se(t.id),s=vt(t.name);return n===""||s===""?null:{id:n,name:s,createdAt:typeof t.createdAt=="string"?t.createdAt.trim():"",updatedAt:typeof t.updatedAt=="string"?t.updatedAt.trim():""}},ao=e=>{if(!Array.isArray(e))return[];const t=[],n=new Set,s=new Set;for(const r of e){const i=oo(r);if(!i||n.has(i.id))continue;const a=i.name.toLowerCase();s.has(a)||(n.add(i.id),s.add(a),t.push(i))}return t},lo=(e,t)=>{const n=e&&typeof e=="object"?e:{},s={};for(const[r,i]of Object.entries(n)){const a=vn(r),o=Se(i);a===""||o===""||!t.has(o)||(s[a]=o)}return s},ye=e=>{const t=e&&typeof e=="object"?e:{},n=ao(t.playlists),s=new Set(n.map(r=>r.id));return{playlists:n,assignments:lo(t.assignments,s)}},ct=e=>Array.isArray(e==null?void 0:e.playlists)&&e.playlists.length>0||(e==null?void 0:e.assignments)&&typeof e.assignments=="object"&&Object.keys(e.assignments).length>0,qt=(e,t,n="")=>e.some(s=>s.id!==n&&s.name.localeCompare(t,void 0,{sensitivity:"base"})===0),co=()=>typeof globalThis<"u"&&globalThis.crypto&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`saved-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,dt=async(e,t)=>{try{const n=await e.json();if(n&&typeof n.error=="string"&&n.error.trim()!=="")return n.error.trim()}catch{}return t},Ee=e=>e&&typeof e=="object"&&e.name==="AbortError";function uo(){const{state:e,setState:t}=$t(),[n,s]=te("");let r=null,i=null,a=0,o=Promise.resolve(),l=!1;const c=()=>ye({playlists:e.library.savedPlaylists,assignments:e.library.playlistAssignments}),u=A=>{const _=ye(A),P=new Set(_.playlists.map(p=>p.id));t("library","savedPlaylists",_.playlists),t("library","playlistAssignments",_.assignments),t("library","filters","savedPlaylistId",p=>P.has(Se(p))?p:"")},d=async A=>{const _=await fetch(Vt,{signal:A});if(!_.ok)throw new Error(await dt(_,"Unable to load saved playlists from backend."));const P=await _.json();return ye(P)},y=async(A,_)=>{const P=ye(A),p=await fetch(Vt,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P),signal:_});if(!p.ok)throw new Error(await dt(p,"Unable to persist saved playlists."));const w=await p.json();return ye(w)},b=async(A,_)=>{const P=ye(A),p=await fetch(io,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P),signal:_});if(!p.ok)throw new Error(await dt(p,"Unable to migrate saved playlists."));const w=await p.json();return{state:ye(w),migrated:!!(w&&w.migrated)}},m=async A=>{a+=1;const _=a;i&&i.abort();const P=new AbortController;i=P;try{const p=await y(A,P.signal);return!l&&_===a&&(u(p),s("")),p}finally{i===P&&(i=null)}},x=A=>{const _=o.then(A,A);return o=_.catch(()=>{}),_},N=()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem(Kt)==="1"}catch{return!1}},$=()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Kt,"1")}catch{}},M=async()=>{r&&r.abort();const A=new AbortController;r=A;const _=a,P=c();try{const p=await d(A.signal);if(l||A.signal.aborted||a!==_)return;if(u(p),s(""),ct(p)){$();return}if(!ct(P)){N()||$();return}const w=await b(P,A.signal);if(l||A.signal.aborted||a!==_)return;u(w.state),(w.migrated||ct(w.state))&&$()}catch(p){if(Ee(p)||A.signal&&A.signal.aborted)return;const w=p instanceof Error?p.message:"Failed to initialize saved playlists.";s(w),console.error("Failed to initialize saved playlists:",p)}finally{r===A&&(r=null)}},R=A=>x(async()=>{const _=vt(A);if(_==="")return{ok:!1,error:"Playlist name is required."};const P=c();if(qt(P.playlists,_))return{ok:!1,error:"A playlist with that name already exists."};const p=new Date().toISOString(),w={id:co(),name:_,createdAt:p,updatedAt:p};try{const T=(await m({playlists:[...P.playlists,w],assignments:P.assignments})).playlists.find(W=>W.id===w.id);return T?{ok:!0,playlist:T}:{ok:!1,error:"A playlist with that name already exists."}}catch(L){return Ee(L)?{ok:!1,error:"Request canceled."}:{ok:!1,error:L instanceof Error?L.message:"Unable to create saved playlist."}}}),I=(A,_)=>x(async()=>{const P=Se(A),p=vt(_);if(P==="")return{ok:!1,error:"Playlist not found."};if(p==="")return{ok:!1,error:"Playlist name is required."};const w=c();if(!w.playlists.some(ee=>ee.id===P))return{ok:!1,error:"Playlist not found."};if(qt(w.playlists,p,P))return{ok:!1,error:"A playlist with that name already exists."};const T=new Date().toISOString(),W=w.playlists.map(ee=>ee.id===P?{...ee,name:p,updatedAt:T}:ee);try{const Ve=(await m({playlists:W,assignments:w.assignments})).playlists.find(ot=>ot.id===P);return Ve?Ve.name.localeCompare(p,void 0,{sensitivity:"base"})!==0?{ok:!1,error:"A playlist with that name already exists."}:{ok:!0}:{ok:!1,error:"Playlist not found."}}catch(ee){return Ee(ee)?{ok:!1,error:"Request canceled."}:{ok:!1,error:ee instanceof Error?ee.message:"Unable to rename saved playlist."}}}),v=A=>x(async()=>{const _=Se(A);if(_==="")return{ok:!1,error:"Playlist not found."};const P=c(),p=P.playlists.filter(L=>L.id!==_);if(p.length===P.playlists.length)return{ok:!1,error:"Playlist not found."};const w={};for(const[L,T]of Object.entries(P.assignments))T!==_&&(w[L]=T);try{return await m({playlists:p,assignments:w}),{ok:!0}}catch(L){return Ee(L)?{ok:!1,error:"Request canceled."}:{ok:!1,error:L instanceof Error?L.message:"Unable to delete saved playlist."}}}),oe=(A,_)=>x(async()=>{const P=vn(A),p=Se(_);if(P==="")return;const w=c();if(!(p===""||w.playlists.some(W=>W.id===p)))return;const T={...w.assignments};if(p===""){if(!(P in T))return;delete T[P]}else{if(T[P]===p)return;T[P]=p}try{await m({playlists:w.playlists,assignments:T})}catch(W){if(Ee(W))return;console.error("Failed to assign saved playlist:",W)}});return $e(()=>{l=!0,r&&r.abort(),i&&i.abort()}),{initError:n,initialize:M,createPlaylist:R,renamePlaylist:I,deletePlaylist:v,assignPlaylist:oe}}class fo{constructor(){this.socket=null,this.reconnectInterval=3e3,this.shouldReconnect=!0,this.listeners=new Set}addListener(t){return this.listeners.add(t),()=>this.listeners.delete(t)}connect(){if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return;const t=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.host,s=`${t}//${n}/ws`;this.socket=new WebSocket(s),this.socket.onopen=()=>{console.log("WebSocket connected")},this.socket.onmessage=r=>{try{const i=JSON.parse(r.data);this.dispatch(i)}catch(i){console.error("Failed to parse WebSocket message:",i)}},this.socket.onclose=()=>{console.log("WebSocket disconnected"),this.shouldReconnect&&setTimeout(()=>{console.log("Reconnecting..."),this.connect()},this.reconnectInterval)},this.socket.onerror=r=>{console.error("WebSocket error:",r),this.socket.close()}}dispatch(t){const{type:n,payload:s}=t;switch(n){case"progress":qs(s);break;case"error":Bs(s);break}this.listeners.forEach(r=>{try{r(t)}catch(i){console.error("Error in WebSocket listener:",i)}})}close(){this.shouldReconnect=!1,this.socket&&this.socket.close()}}const xn=new fo,ut=80,yo=new Set(["debug","info","warn","error"]),po=e=>{switch(e){case"queued":return"Waiting for a worker to start the job.";case"running":return"Download in progress...";case"reconnecting":return"Reconnecting to the progress stream...";case"complete":return"All downloads in this job are finished.";case"error":return"Download failed.";default:return""}},he=(e,t=0)=>{const n=typeof e=="number"?e:Number(e);return Number.isFinite(n)?Math.max(0,Math.trunc(n)):t},Bt=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:t>100?100:t},Wt=e=>{if(!e||typeof e!="object")return null;const t={total:he(e.total,0),succeeded:he(e.succeeded,0),failed:he(e.failed,0)};return t.total<=0&&t.succeeded<=0&&t.failed<=0?null:t},Gt=(e,t,n)=>{const s=typeof t=="string"?t.trim():"";if(s!==""&&s!==e)return s;if(e==="error"){const r=typeof n=="string"?n.trim():"";if(r)return r}return po(e)},Jt=e=>{if(typeof e!="string")return"info";const t=e.trim().toLowerCase();return yo.has(t)?t:"info"},Yt=At,ho=e=>{var s;const t=e.status==="complete"?"Download Complete":"Download Failed",n=e.status==="complete"?`Successfully downloaded ${((s=e.stats)==null?void 0:s.succeeded)||0} items.`:e.error||e.message||"An error occurred during download.";q("notification",{type:e.status==="complete"?"success":"error",message:`${t}: ${n}`}),setTimeout(()=>{q("notification",null)},1e4),!(typeof window>"u"||!("Notification"in window))&&Notification.permission==="granted"&&new Notification(t,{body:n,icon:"/favicon.ico"})};function mo(){const{state:e,setState:t}=$t(),n=a=>{if(!a||typeof a!="object"||typeof a.type!="string")return;const o=a.payload||a;nn(()=>{try{switch(a.type){case"snapshot":o.snapshot?s(o.snapshot):a.snapshot&&s(a.snapshot);break;case"status":try{q("jobStatuses",o.jobId,l=>{const c=At(o.status),u={...l||{},jobId:o.jobId,status:c,message:Gt(o.status,o.message,o.error),error:o.error,stats:Wt(o.stats)||(l==null?void 0:l.stats),exitCode:o.exitCode};return(l==null?void 0:l.status)!==c&&(c==="complete"||c==="error")&&(ho(u),setTimeout(()=>{try{q("activeDownloads",{})}catch(d){console.error("Failed to clear download store:",d)}},300)),u})}catch(l){console.error("Critical error processing status payload:",l)}break;case"register":case"progress":if(!o.id)return;q("activeDownloads",o.id,l=>({id:o.id,jobId:o.jobId,filename:o.filename||(l==null?void 0:l.filename),label:o.label||o.filename||(l==null?void 0:l.label)||o.id,total:he(o.total,(l==null?void 0:l.total)||0),current:he(o.current,(l==null?void 0:l.current)||0),percent:Bt(o.percent),status:o.status||(l==null?void 0:l.status)||"downloading",eta:o.eta||(l==null?void 0:l.eta),done:o.status==="complete"||o.percent>=100}));break;case"finish":o.id&&(q("activeDownloads",o.id,"done",!0),q("activeDownloads",o.id,"percent",100));break;case"duplicate":typeof o.promptId=="string"&&o.promptId!==""&&(t("download","duplicateQueue",l=>l.some(c=>c.promptId===o.promptId)?l:[...l,{jobId:o.jobId,promptId:o.promptId,path:o.path||"",filename:o.filename||""}]),t("download","duplicateError",""));break;case"duplicate-resolved":typeof o.promptId=="string"&&o.promptId!==""&&(t("download","duplicateQueue",l=>l.filter(c=>c.promptId!==o.promptId)),t("download","duplicateError",""));break;case"log":q("logs",l=>[...l,{level:Jt(o.level),message:o.message}].slice(-ut));break;case"done":q("jobStatuses",o.jobId,"status",Yt(o.status));break;default:break}}catch(l){console.error("Error processing WebSocket event:",l)}})},s=a=>{const o=a.jobId;if(q("jobStatuses",o,{jobId:o,status:Yt(a.status),message:Gt(a.status,"",a.error),error:a.error,stats:Wt(a.stats),exitCode:a.exitCode}),Array.isArray(a.tasks))for(const l of a.tasks)q("activeDownloads",l.id,{id:l.id,jobId:o,label:l.label||l.id,total:he(l.total,0),current:he(l.current,0),percent:Bt(l.percent),done:!!l.done||l.percent>=100});if(Array.isArray(a.duplicates)&&a.duplicates.length>0&&t("download","duplicateQueue",l=>{const c=[...l];for(const u of a.duplicates)c.some(d=>d.promptId===u.promptId)||c.push({jobId:o,promptId:u.promptId,path:u.path,filename:u.filename});return c}),Array.isArray(a.logs)){const l=a.logs.map(c=>({level:Jt(c.level),message:c.message}));q("logs",l.slice(-ut))}};return rn(()=>{const a=xn.addListener(n);typeof window<"u"&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),$e(a)}),$e(()=>{}),{startDownload:async a=>{const o=a.split(",").map(l=>l.trim()).filter(l=>l.length>0);if(o.length!==0)try{const l=await fetch("/api/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:o,options:{output:e.settings.output,quality:e.settings.quality,jobs:e.settings.jobs,timeout:e.settings.timeout,audio:e.settings.audioOnly,"on-duplicate":e.settings.onDuplicate}})}),c=await l.json();if(!l.ok)throw new Error(c.error||"Failed to start download");q("lastJobId",c.jobId)}catch(l){console.error("Download start failed:",l),q("logs",c=>[...c,{level:"error",message:l.message||"Failed to start download"}].slice(-ut))}},cancelDownload:async a=>{if(a)try{const o=await fetch("/api/download/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:a})});if(!o.ok){const l=await o.json().catch(()=>({}));throw new Error(l.error||"Failed to cancel download")}}catch(o){console.error("Download cancel failed:",o)}},listenForProgress:a=>{console.log("Now listening for job:",a)}}}const Qt="Unknown Artist",go="Unknown Channel",bo="Unknown Creator",wo="Unknown Album",kn="Standalone",Z=(...e)=>{for(const t of e)if(typeof t=="string"){const n=t.trim();if(n!=="")return n}return""},vo=(e,t)=>{const n=String(e||"").toLowerCase();return n==="podcast"?"Podcast":n==="music"||n==="audio"?"Music":"YouTube Video"},xo=e=>e!=null&&e.metadata&&typeof e.metadata=="object"?e.metadata:{},ko=e=>{if(typeof(e==null?void 0:e.modified_at)=="string"){const t=Date.parse(e.modified_at);if(Number.isFinite(t))return t}if(typeof(e==null?void 0:e.modifiedAt)=="string"){const t=Date.parse(e.modifiedAt);if(Number.isFinite(t))return t}if(typeof(e==null?void 0:e.date)=="string"){const t=Date.parse(e.date);if(Number.isFinite(t))return t}return 0},J=(e,t)=>String(e||"").localeCompare(String(t||""),void 0,{sensitivity:"base",numeric:!0}),Pe=(e,t)=>e!==""?e:t||"",So=(e,t,n)=>{var N,$;const s=xo(e),r=vo(e==null?void 0:e.type,(e==null?void 0:e.artist)||s.artist||s.author),i=Z(e==null?void 0:e.title,s.title,"Untitled"),a=Z(e==null?void 0:e.artist,s.artist,s.author,r==="Music"?Qt:bo),o=Z(e==null?void 0:e.album,s.album,r==="Music"?wo:a),l=Z((N=e==null?void 0:e.playlist)==null?void 0:N.title,($=s==null?void 0:s.playlist)==null?void 0:$.title,kn),c=Z(e==null?void 0:e.thumbnail_url,e==null?void 0:e.thumbnailUrl,e==null?void 0:e.thumbnailURL,s.thumbnail_url,s.thumbnailUrl,s.thumbnailURL),u=Z(e==null?void 0:e.relative_path,e==null?void 0:e.filename,e==null?void 0:e.id),d=Z(n[u],""),y=t.get(d),b=ko(e),m=!!((e==null?void 0:e.has_sidecar)??(e==null?void 0:e.hasSidecar)),x=[];return m||x.push("missing_sidecar"),(a===Qt||a===go)&&x.push("missing_creator"),i==="Untitled"&&x.push("missing_title"),{raw:e,mediaKey:u,filename:String((e==null?void 0:e.filename)||""),relativePath:Z(e==null?void 0:e.relative_path,e==null?void 0:e.filename,""),folder:String((e==null?void 0:e.folder)||""),id:String((e==null?void 0:e.id)||(e==null?void 0:e.filename)||u),type:r,title:i,creator:a,album:o,sourcePlaylist:l,savedPlaylistId:(y==null?void 0:y.id)||"",savedPlaylistName:(y==null?void 0:y.name)||"Unassigned",date:Z(e==null?void 0:e.date,""),modifiedAt:Z(e==null?void 0:e.modified_at,e==null?void 0:e.modifiedAt,""),size:Z(e==null?void 0:e.size,""),sizeBytes:Number.isFinite(Number(e==null?void 0:e.size_bytes))?Number(e.size_bytes):0,sourceURL:Z(e==null?void 0:e.source_url,s.source_url,""),thumbnailUrl:c,metadata:s,timestamp:b,hasSidecar:m,anomalies:x,hasAnomaly:x.length>0}},me=(e,t)=>{const n=[...e];return n.sort((s,r)=>{switch(t){case"oldest":return s.timestamp-r.timestamp||J(s.title,r.title);case"creator_asc":return J(s.creator,r.creator)||J(s.title,r.title);case"creator_desc":return J(r.creator,s.creator)||J(s.title,r.title);case"collection_asc":return J(s.album,r.album)||J(s.title,r.title);case"collection_desc":return J(r.album,s.album)||J(s.title,r.title);case"playlist_asc":return J(s.sourcePlaylist,r.sourcePlaylist)||J(s.title,r.title);case"playlist_desc":return J(r.sourcePlaylist,s.sourcePlaylist)||J(s.title,r.title);case"newest":default:return r.timestamp-s.timestamp||J(s.title,r.title)}}),n},_o=(e,t)=>{const n=String(t.query||"").trim().toLowerCase();return!(n&&![e.title,e.creator,e.album,e.sourcePlaylist,e.savedPlaylistName,e.filename].join(" ").toLowerCase().includes(n)||t.creator&&e.creator!==t.creator||t.collection&&e.album!==t.collection||t.playlist&&e.sourcePlaylist!==t.playlist||t.savedPlaylistId&&e.savedPlaylistId!==t.savedPlaylistId)},ue=e=>[...e].sort((t,n)=>n.latestTimestamp-t.latestTimestamp||J(t.name,n.name)),$o=e=>{const t=new Map;for(const r of e.filter(i=>i.type==="Music")){t.has(r.creator)||t.set(r.creator,{name:r.creator,type:"artist",items:[],albumsByName:new Map,latestTimestamp:r.timestamp,thumbnailUrl:r.thumbnailUrl||""});const i=t.get(r.creator);i.items.push(r),i.latestTimestamp=Math.max(i.latestTimestamp,r.timestamp),i.thumbnailUrl=Pe(i.thumbnailUrl,r.thumbnailUrl),i.albumsByName.has(r.album)||i.albumsByName.set(r.album,{name:r.album,items:[],latestTimestamp:r.timestamp,thumbnailUrl:r.thumbnailUrl||""});const a=i.albumsByName.get(r.album);a.items.push(r),a.latestTimestamp=Math.max(a.latestTimestamp,r.timestamp),a.thumbnailUrl=Pe(a.thumbnailUrl,r.thumbnailUrl)}const n=[],s=new Map;for(const[r,i]of t.entries()){const a=ue(Array.from(i.albumsByName.values())).map(l=>({...l,items:me(l.items,"newest"),count:l.items.length})),o={name:r,type:"artist",items:me(i.items,"newest"),count:i.items.length,latestTimestamp:i.latestTimestamp,thumbnailUrl:i.thumbnailUrl,albums:a};n.push(o),s.set(r,o)}return{groups:ue(n),byName:s}},Ao=e=>{const t=new Map;for(const r of e.filter(i=>i.type==="YouTube Video")){t.has(r.creator)||t.set(r.creator,{name:r.creator,type:"video_creator",items:[],latestTimestamp:r.timestamp,thumbnailUrl:r.thumbnailUrl||""});const i=t.get(r.creator);i.items.push(r),i.latestTimestamp=Math.max(i.latestTimestamp,r.timestamp),i.thumbnailUrl=Pe(i.thumbnailUrl,r.thumbnailUrl)}const n=[],s=new Map;for(const[r,i]of t.entries()){const a={name:r,type:"video_creator",items:me(i.items,"newest"),count:i.items.length,latestTimestamp:i.latestTimestamp,thumbnailUrl:i.thumbnailUrl};n.push(a),s.set(r,a)}return{groups:ue(n),byName:s}},Po=e=>{const t=new Map;for(const r of e.filter(i=>i.type==="Podcast")){t.has(r.creator)||t.set(r.creator,{name:r.creator,type:"podcast",items:[],latestTimestamp:r.timestamp,thumbnailUrl:r.thumbnailUrl||""});const i=t.get(r.creator);i.items.push(r),i.latestTimestamp=Math.max(i.latestTimestamp,r.timestamp),i.thumbnailUrl=Pe(i.thumbnailUrl,r.thumbnailUrl)}const n=[],s=new Map;for(const[r,i]of t.entries()){const a={name:r,type:"podcast",items:me(i.items,"newest"),count:i.items.length,latestTimestamp:i.latestTimestamp,thumbnailUrl:i.thumbnailUrl};n.push(a),s.set(r,a)}return{groups:ue(n),byName:s}},Co=(e,t)=>{const n=new Map;for(const l of e){const c=Z(l.sourcePlaylist,kn),u=`source:${c.toLowerCase()}`;n.has(u)||n.set(u,{key:u,kind:"source",name:c,items:[],latestTimestamp:l.timestamp,thumbnailUrl:l.thumbnailUrl||""});const d=n.get(u);d.items.push(l),d.latestTimestamp=Math.max(d.latestTimestamp,l.timestamp),d.thumbnailUrl=Pe(d.thumbnailUrl,l.thumbnailUrl)}const s=new Map;for(const l of t)s.set(l.id,{key:`saved:${l.id}`,kind:"saved",name:l.name,playlistId:l.id,items:[],latestTimestamp:0,thumbnailUrl:""});for(const l of e){if(!l.savedPlaylistId||!s.has(l.savedPlaylistId))continue;const c=s.get(l.savedPlaylistId);c.items.push(l),c.latestTimestamp=Math.max(c.latestTimestamp,l.timestamp),c.thumbnailUrl=Pe(c.thumbnailUrl,l.thumbnailUrl)}const r=ue(Array.from(n.values())).map(l=>({...l,count:l.items.length,items:me(l.items,"newest")})),i=ue(Array.from(s.values())).map(l=>({...l,count:l.items.length,items:me(l.items,"newest")})),a=ue([...r,...i]),o=new Map(a.map(l=>[l.key,l]));return{sourceGroups:r,savedGroups:i,combined:a,byKey:o}},ft=e=>Array.from(new Set(e.filter(t=>typeof t=="string"&&t.trim()!=="").map(t=>t.trim()))).sort(J),No=({downloads:e,savedPlaylists:t,playlistAssignments:n,typeFilter:s,sortKey:r,filters:i})=>{const a=Array.isArray(e)?e:[],o=Array.isArray(t)?t:[],l=n&&typeof n=="object"?n:{},c=new Map(o.map(v=>[String(v.id||"").trim(),v])),u=a.map(v=>So(v,c,l)),d=u.filter(v=>v.hasAnomaly),b=u.filter(v=>s==="all"?!0:v.type===s).filter(v=>_o(v,i||{})),m=me(b,r),x=$o(b),N=Ao(b),$=Po(b),M=Co(b,o),R=ue([...x.groups.map(v=>({...v,key:`artist:${v.name}`,creatorType:"artist"})),...N.groups.map(v=>({...v,key:`video_creator:${v.name}`,creatorType:"video_creator"})),...$.groups.map(v=>({...v,key:`podcast:${v.name}`,creatorType:"podcast"}))]),I={creators:ft(b.map(v=>v.creator)),collections:ft(b.map(v=>v.album)),sourcePlaylists:ft(b.map(v=>v.sourcePlaylist))};return{items:u,filteredItems:m,anomalyItems:d,anomalyCount:d.length,artists:x.groups,artistsByName:x.byName,videos:N.groups,videosByName:N.byName,podcasts:$.groups,podcastsByName:$.byName,creatorCards:R,playlists:M.combined,playlistsByKey:M.byKey,sourcePlaylists:M.sourceGroups,savedPlaylists:M.savedGroups,filterOptions:I}};var To=E('<div class="max-w-7xl mx-auto">'),Ht=E('<div class="max-w-4xl mx-auto">'),Eo=E('<div class="max-w-dynamic mx-auto h-full">'),Mo=E('<div class="fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] animate-in fade-in slide-in-from-bottom-4 duration-500"><div><div></div><div class="flex-1 min-w-0"><p class="text-sm font-bold leading-tight line-clamp-2"></p></div><button class="p-1 hover:bg-white/5 rounded-lg transition-colors">'),Do=E('<div class="flex h-screen bg-[radial-gradient(circle_at_12%_8%,rgba(56,189,248,0.16),transparent_35%),radial-gradient(circle_at_88%_2%,rgba(20,184,166,0.14),transparent_30%),linear-gradient(180deg,#05070a,#070b12_45%,#05070a)] text-gray-200 overflow-hidden font-sans select-none"><main class="flex-1 flex flex-col bg-transparent relative min-w-0"><div class="flex-1 overflow-y-auto p-6 md:p-10 custom-scrollbar">'),Oo=E('<div class="flex flex-col items-center justify-center h-full text-gray-500 gap-4 animate-pulse"><span class="text-xs font-bold uppercase tracking-widest">Loading View...');const Lo=Re(()=>Ie(()=>import("./assets/DownloadView-Bhq3JPU9.js"),[])),jo=Re(()=>Ie(()=>import("./assets/LibraryView-Cl1mHjKT.js"),[])),zo=Re(()=>Ie(()=>import("./assets/SettingsView-oKTrTPgU.js"),[])),Fo=Re(()=>Ie(()=>import("./assets/Player-q43qb8-d.js"),[])),Uo=e=>{if(!e||typeof e!="object")return 0;const t=Number(e.succeeded);return Number.isFinite(t)?Math.max(0,Math.trunc(t)):0},Ro=(e,t)=>{const n=At(e);return n==="complete"?!0:n!=="error"?!1:Uo(t)>0},Io=e=>String(e||"").split("/").map(t=>encodeURIComponent(t)).join("/"),qe=e=>String(e||"").trim();function Vo(){const{state:e,setState:t}=$t(),[n,s]=te([]),{initialize:r,createPlaylist:i,renamePlaylist:a,deletePlaylist:o,assignPlaylist:l}=uo(),{listenForProgress:c,startDownload:u}=mo();let d=null,y=0,b="",m="",x=null,N=!1;const $=()=>e.ui.activeTab||"dashboard",M=()=>e.ui.isAdvanced,R=K(()=>No(e.library.downloads||[])),I=g=>{t("ui","activeTab",g)},v=()=>{t("ui","isAdvanced",g=>!g)},oe=()=>{I("library")},A=()=>{x&&(clearTimeout(x),x=null)},_=async()=>{if(N)return!1;d&&d.abort(),d=new AbortController;const g=++y;try{const S=await fetch("/api/media/",{signal:d.signal});if(S.ok){const C=await S.json();if(N||g!==y)return!1;const z=Array.isArray(C)?C:C.items||[];return t("library","downloads",z),!0}return!1}catch(S){return S&&typeof S=="object"&&S.name==="AbortError"||console.error("Failed to fetch media files:",S),!1}finally{g===y&&(d=null)}},P=async()=>await _()?{ok:!0,message:"Library refreshed. Legacy files without sidecars may still need re-download for complete metadata and thumbnails."}:{ok:!1,message:"Unable to refresh metadata right now. Please retry in a few seconds."},p=g=>{g&&t("download","duplicateQueue",S=>S.filter(C=>C.promptId!==g))},w=async g=>{const S=e.download.duplicateQueue[0];if(S){t("download","duplicateError","");try{const C=await fetch("/api/download/duplicate-response",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:S.jobId,promptId:S.promptId,choice:g})}),z=await C.json().catch(()=>({}));if(!C.ok||z.error){if(C.status===404||C.status===409){p(S.promptId),t("download","duplicateError","");return}t("download","duplicateError",z.error||"Failed to submit duplicate choice");return}p(S.promptId),t("download","duplicateError","")}catch(C){t("download","duplicateError",C.message||"Failed to submit duplicate choice")}}},L=g=>{if(e.download.duplicateQueue.length===0)return;const S=document.activeElement;if(!(S&&(S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.isContentEditable))&&!(g.metaKey||g.ctrlKey||g.altKey))switch(g.key){case"o":g.preventDefault(),w("overwrite");break;case"O":g.preventDefault(),w("overwrite_all");break;case"s":g.preventDefault(),w("skip");break;case"S":g.preventDefault(),w("skip_all");break;case"r":g.preventDefault(),w("rename");break;case"R":g.preventDefault(),w("rename_all");break;case"q":g.preventDefault(),w("cancel");break}},T=async(g,S=1)=>{if(!g||N)return;m=g;const C=await _();if(!(N||m!==g)){if(C){b=g,m="",A();return}if(S>=3){m="";return}A(),x=setTimeout(()=>{x=null,T(g,S+1)},S*1e3)}};rn(()=>{_(),r(),xn.connect(),typeof window<"u"&&window.addEventListener("keydown",L),e.ui.activeTab||I("dashboard")}),Qe(()=>{const g=$();(g==="library"||g==="dashboard")&&_()}),Qe(()=>{const g=pe.jobStatuses;for(const S in g){const C=g[S];typeof S!="string"||S===""||S===b||S===m||Ro(C==null?void 0:C.status,C==null?void 0:C.stats)&&T(S,1)}}),$e(()=>{N=!0,A(),typeof window<"u"&&window.removeEventListener("keydown",L),d&&(d.abort(),d=null)});const W=g=>({...g,url:`/api/media/${Io(g.filename)}`}),ee=(g,S)=>{const C=Array.isArray(e.library.downloads)?e.library.downloads:[],z=Array.isArray(g)&&g.length>0?g:C,O=[],G=new Set;for(const we of z){if(!we||typeof we!="object")continue;const ve=qe(we.filename);ve===""||G.has(ve)||(G.add(ve),O.push(we))}const fe=qe(S==null?void 0:S.filename);return fe!==""&&!G.has(fe)&&O.unshift(S),O},Ve=(g,S)=>{if(!g||typeof g!="object"||String(g.filename||"").trim()==="")return;const C=ee(S,g);s(C),t("player","selectedMedia",W(g)),t("player","minimized",!1),t("player","active",!0)},ot=()=>{t("player","active",!1),t("player","selectedMedia",null),t("player","minimized",!1),s([])},Sn=()=>{const g=e.player.selectedMedia;g&&(ro(g),t("library","typeFilter","all")),t("library","section","all_media"),t("library","navPath",{creatorType:"",creatorName:"",albumName:"",playlistKey:"",playlistKind:""}),I("library")},Pt=()=>{var G;const g=n();if(g.length===0)return;const S=qe((G=e.player.selectedMedia)==null?void 0:G.filename),C=g.findIndex(fe=>qe(fe.filename)===S),z=C<0?0:(C+1)%g.length,O=g[z];O&&(t("player","selectedMedia",W(O)),t("player","active",!0))};return(()=>{var g=Do(),S=g.firstChild,C=S.firstChild;return h(g,f(wi,{get activeTab(){return $()},onTabChange:I}),S),h(S,f(xi,{get activeTab(){return $()},get isAdvanced(){return M()},onToggleAdvanced:v}),C),h(C,f(gt,{get fallback(){return(()=>{var z=Oo(),O=z.firstChild;return h(z,f(B,{name:"loader",class:"w-10 h-10 animate-spin text-accent-primary"}),O),z})()},get children(){return[f(H,{get when(){return $()==="dashboard"},get children(){var z=To();return h(z,f(gi,{libraryModel:R,onTabChange:I,onDownload:u})),z}}),f(H,{get when(){return $()==="download"},get children(){var z=Ht();return h(z,f(Lo,{onOpenLibrary:oe,onStartDownload:O=>c(O)})),z}}),f(H,{get when(){return $()==="library"},get children(){var z=Eo();return h(z,f(jo,{downloads:()=>e.library.downloads,section:()=>e.library.section,viewMode:()=>e.library.viewMode,typeFilter:()=>e.library.typeFilter,navPath:()=>e.library.navPath,filters:()=>e.library.filters,sortKey:()=>e.library.sortKey,uiState:()=>e.library.ui,savedPlaylists:()=>e.library.savedPlaylists,playlistAssignments:()=>e.library.playlistAssignments,onSectionChange:O=>t("library","section",O),onViewModeChange:O=>t("library","viewMode",O),onTypeFilterChange:O=>t("library","typeFilter",O),onNavPathChange:O=>t("library","navPath",O),onFilterChange:(O,G)=>t("library","filters",O,G),onClearFilters:()=>t("library","filters",{query:"",savedPlaylistId:""}),onSortKeyChange:O=>t("library","sortKey",O),onUiStateChange:(O,G)=>t("library","ui",O,G),onPlay:(O,G)=>Ve(O,G),onOpenQueue:Sn,onCreatePlaylist:i,onRenamePlaylist:a,onDeletePlaylist:o,onAssignPlaylist:l,onRetryMetadataScan:P})),z}}),f(H,{get when(){return $()==="settings"},get children(){var z=Ht();return h(z,f(zo,{})),z}})]}}),null),h(C,f(H,{get when(){return e.download.duplicateQueue.length>0},get children(){return f(Pi,{get prompt(){return e.download.duplicateQueue[0]},onSelect:w,get error(){return e.download.duplicateError}})}}),null),h(C,f(H,{get when(){return pe.notification},get children(){var z=Mo(),O=z.firstChild,G=O.firstChild,fe=G.nextSibling,we=fe.firstChild,ve=fe.nextSibling;return h(G,f(B,{get name(){return pe.notification.type==="success"?"check-circle-2":"alert-circle"},class:"w-5 h-5"})),h(we,()=>pe.notification.message),ve.$$click=()=>q("notification",null),h(ve,f(B,{name:"x",class:"w-4 h-4 opacity-50"})),X(Ne=>{var Ct=`px-6 py-4 rounded-2xl border backdrop-blur-xl shadow-2xl flex items-center gap-4 min-w-[320px] max-w-md ${pe.notification.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,Nt=`p-2 rounded-xl ${pe.notification.type==="success"?"bg-emerald-500/20":"bg-red-500/20"}`;return Ct!==Ne.e&&ne(O,Ne.e=Ct),Nt!==Ne.t&&ne(G,Ne.t=Nt),Ne},{e:void 0,t:void 0}),z}}),null),h(g,f(gt,{get children(){return f(H,{get when(){return e.player.active},get children(){return f(Fo,{get active(){return e.player.active},get minimized(){return e.player.minimized},get media(){return e.player.selectedMedia},onClose:ot,onMinimize:()=>t("player","minimized",!0),onRestore:()=>t("player","minimized",!1),onNext:Pt,onPrevious:Pt})}})}}),null),g})()}ge(["click"]);const Ko=document.getElementById("root");Xn(()=>f(Qi,{get children(){return f(Vo,{})}}),Ko);export{Xs as A,it as F,Te as G,B as I,H as S,li as T,mo as a,X as b,f as c,ne as d,pe as e,Zs as f,ge as g,te as h,h as i,K as j,No as k,Qe as l,Ge as m,At as n,cn as o,ro as p,$e as q,rr as r,je as s,E as t,$t as u,tr as v};
