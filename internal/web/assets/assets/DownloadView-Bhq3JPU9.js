import{u as ce,a as ue,s as ge,i as r,c as l,I as c,S as x,b as h,d as w,G as be,e as z,F as K,A as pe,f as fe,t as u,n as xe,g as he}from"../app.js";var me=u('<div class="pt-4 border-t border-white/5 grid grid-cols-1 md:grid-cols-2 gap-4 animate-in slide-in-from-top-2"><div class=space-y-2><label class="text-xs font-bold text-gray-500 uppercase tracking-wider">Filename Template</label><input type=text class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-sm font-mono text-gray-300 focus:outline-none focus:border-blue-500/50"><p class="text-[10px] text-gray-500">Variables: {title}, {id}, {upload_date}, {channel}</p></div><div class=space-y-2><label class="text-xs font-bold text-gray-500 uppercase tracking-wider">Duplicate Handling</label><select class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-sm text-gray-300 focus:outline-none focus:border-blue-500/50 appearance-none"><option value=prompt class=bg-[#0f172a]>Ask me</option><option value=overwrite class=bg-[#0f172a]>Overwrite</option><option value=skip class=bg-[#0f172a]>Skip</option><option value=rename class=bg-[#0f172a]>Rename'),ve=u('<div class="lg:col-span-3 space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class=space-y-3><label class="text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2">Format</label><div class="grid grid-cols-2 gap-2"><button>Video + Audio</button><button>Audio Only</button></div></div><div class=space-y-3><label class="text-xs font-bold text-gray-500 uppercase tracking-wider flex items-center gap-2">Quality</label><div class=relative><select class="w-full appearance-none bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm font-medium text-gray-200 focus:outline-none focus:border-blue-500/50 transition-colors cursor-pointer"><option value=best class=bg-[#0f172a]>Best Available</option><option value=1080p class=bg-[#0f172a]>1080p (HD)</option><option value=720p class=bg-[#0f172a]>720p (HD)</option><option value=480p class=bg-[#0f172a]>480p</option><option value=worst class=bg-[#0f172a]>Worst / Smallest</option></select><div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500">'),we=u('<button class="p-1 hover:bg-red-500/10 rounded-lg text-red-400/60 hover:text-red-400 transition-colors"title="Stop Download">'),$e=u('<div class="flex items-center gap-6 text-sm">'),ye=u('<div class="p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-200 text-sm flex items-start gap-3"><p class=leading-relaxed>'),_e=u('<div class="p-4 rounded-xl bg-black/40 border border-white/5 font-mono text-xs text-gray-400 space-y-1 max-h-32 overflow-y-auto custom-scrollbar">'),Se=u('<div class="flex justify-center pt-2"><button class="px-6 py-2 rounded-full border border-white/10 bg-white/5 hover:bg-white/10 text-sm font-bold text-gray-300 transition-all hover:scale-105">View in Library'),Ce=u('<div><div class="flex items-center justify-between"><div class="flex items-center gap-4"><div></div><div><div></div><div class="flex items-center gap-2"><div class="text-sm text-gray-400 max-w-md truncate"></div></div></div></div></div><div class="flex-1 min-h-0 border-t border-white/5 pt-6">'),ke=u('<div class="h-64 rounded-[2rem] border border-white/5 bg-white/5 flex flex-col items-center justify-center text-gray-500 gap-4"><div class="w-16 h-16 rounded-3xl bg-black/40 flex items-center justify-center"></div><p class=font-medium>Ready to download'),De=u('<div class="space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-500"><div class=space-y-6><div class="flex flex-col gap-2"><h1 class="text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-emerald-400">Download Media</h1><p class="text-gray-400 text-sm">Paste one or more URLs below to start downloading. Supports YouTube videos, playlists, and channels.</p></div><div class="relative group"><div class="absolute inset-0 bg-gradient-to-r from-blue-500/20 to-emerald-500/20 rounded-2xl blur-xl transition-opacity opacity-0 group-focus-within:opacity-100"></div><div class="relative glass rounded-2xl border border-white/10 p-2 flex flex-col md:flex-row gap-2 transition-colors focus-within:border-blue-500/50 focus-within:bg-black/40"><textarea placeholder="https://www.youtube.com/watch?v=..."rows=3 class="flex-1 bg-transparent text-white placeholder-gray-500 p-3 text-sm focus:outline-none resize-none custom-scrollbar font-mono leading-relaxed"></textarea><div class="flex md:flex-col justify-end gap-2 p-1"><button class="p-2 rounded-xl text-gray-500 hover:text-white hover:bg-white/10 transition-all disabled:opacity-0"title="Clear input"></button><button title="Start Download">'),je=u('<div class="flex flex-col items-center"><span class="text-[10px] font-bold uppercase tracking-widest text-gray-500"></span><span>'),Ae=u('<div><span class="opacity-50 select-none"></span><span>');const E=xe,Ie=a=>a==="error"?{card:"bg-red-500/5 border-red-500/20",icon:"bg-red-500/10 text-red-400",accent:"text-red-400",bar:"bg-red-500"}:a==="complete"?{card:"bg-green-500/5 border-green-500/20",icon:"bg-green-500/10 text-green-400",accent:"text-green-400",bar:"bg-green-500"}:a==="reconnecting"?{card:"bg-amber-500/5 border-amber-500/20",icon:"bg-amber-500/10 text-amber-400",accent:"text-amber-400",bar:"bg-amber-500"}:{card:"glass-vibrant",icon:"bg-accent-primary/10 text-accent-primary",accent:"text-accent-primary",bar:"bg-vibrant-gradient"},Q=(a,t=0)=>{const _=typeof a=="number"?a:Number(a);return Number.isFinite(_)?Math.max(0,Math.trunc(_)):t},Oe=a=>{if(!a||typeof a!="object")return null;const t={total:Q(a.total,0),succeeded:Q(a.succeeded,0),failed:Q(a.failed,0)};return t.total<=0&&t.succeeded<=0&&t.failed<=0?null:t},Fe=a=>{const t=E(a);return t==="error"?"alert-circle":t==="complete"?"check-circle-2":t==="reconnecting"||t==="running"||t==="queued"?"loader":"download-cloud"},Le=a=>{const t=E(a);return t==="error"?"Download Failed":t==="complete"?"Download Complete":t==="reconnecting"?"Reconnecting...":t==="running"?"Downloading...":t==="queued"?"Queued":"Ready"},Re=a=>{const t=E(a);return t==="error"?"An unexpected error occurred.":t==="complete"?"All tasks finished successfully.":t==="reconnecting"?"Connection interrupted, attempting to resume...":t==="running"?"Processing download tasks...":t==="queued"?"Waiting for available worker slot...":"Ready to start."};function Me(a={}){const{state:t,setState:_}=ce(),{startDownload:X,cancelDownload:Z}=ue(),L=()=>t.download.urlInput,U=i=>{_("download","urlInput",i)},V=()=>z.lastJobId,m=()=>V()?z.jobStatuses[V()]:null,k=()=>{var g;const i=(g=m())==null?void 0:g.status;return i==="queued"||i==="running"||i==="reconnecting"},W=()=>z.logs,D=()=>t.settings,ee=()=>t.ui.isAdvanced,j=i=>{if(typeof i=="function"){_("settings",g=>{const A=i(g);return!A||typeof A!="object"?g:{...g,...A}});return}_("settings",g=>({...g,...i}))},R=()=>{var i;return Oe((i=m())==null?void 0:i.stats)},S=()=>{var i;return E((i=m())==null?void 0:i.status)},G=()=>Ie(S()),te=()=>{typeof a.onOpenLibrary=="function"&&a.onOpenLibrary()},re=async()=>{k()||await X(L())};return(()=>{var i=De(),g=i.firstChild,A=g.firstChild,le=A.nextSibling,ne=le.firstChild,ae=ne.nextSibling,q=ae.firstChild,ie=q.nextSibling,M=ie.firstChild,N=M.nextSibling;return q.$$input=n=>U(n.target.value),ge(q,"spellcheck",!1),M.$$click=()=>U(""),r(M,l(c,{name:"x",class:"w-5 h-5"})),N.$$click=re,r(N,l(x,{get when(){return k()},get fallback(){return l(c,{name:"download",class:"w-5 h-5"})},get children(){return l(c,{name:"loader",class:"w-5 h-5 animate-spin"})}})),r(i,l(fe,{class:"!p-0 !gap-8",get children(){return[(()=>{var n=ve(),b=n.firstChild,$=b.firstChild,p=$.firstChild,H=p.firstChild,I=p.nextSibling,v=I.firstChild,J=v.firstChild,C=v.nextSibling,e=C.firstChild,s=$.nextSibling,o=s.firstChild,d=o.firstChild,y=o.nextSibling,O=y.firstChild,se=O.nextSibling;return r(p,l(c,{name:"file-audio",class:"w-3.5 h-3.5"}),H),v.$$click=()=>j({audioOnly:!1}),r(v,l(c,{name:"video",class:"w-4 h-4"}),J),C.$$click=()=>j({audioOnly:!0}),r(C,l(c,{name:"music",class:"w-4 h-4"}),e),r(o,l(c,{name:"sliders",class:"w-3.5 h-3.5"}),d),O.addEventListener("change",f=>j({quality:f.target.value})),r(se,l(c,{name:"chevron-down",class:"w-4 h-4"})),r(n,l(x,{get when(){return ee()},get children(){var f=me(),F=f.firstChild,T=F.firstChild,B=T.nextSibling,oe=F.nextSibling,de=oe.firstChild,Y=de.nextSibling;return B.$$input=P=>j({output:P.target.value}),Y.addEventListener("change",P=>j({onDuplicate:P.target.value})),h(()=>B.value=D().output),h(()=>Y.value=D().onDuplicate),f}}),null),h(f=>{var F=`p-3 rounded-xl border text-sm font-semibold transition-all flex items-center justify-center gap-2 ${D().audioOnly?"border-white/5 bg-white/5 text-gray-400 hover:bg-white/10":"border-blue-500/50 bg-blue-500/10 text-blue-400"}`,T=`p-3 rounded-xl border text-sm font-semibold transition-all flex items-center justify-center gap-2 ${D().audioOnly?"border-purple-500/50 bg-purple-500/10 text-purple-400":"border-white/5 bg-white/5 text-gray-400 hover:bg-white/10"}`;return F!==f.e&&w(v,f.e=F),T!==f.t&&w(C,f.t=T),f},{e:void 0,t:void 0}),h(()=>O.value=D().quality),n})(),l(be,{class:"lg:col-span-2",get children(){return[l(x,{get when(){return m()},get children(){var n=Ce(),b=n.firstChild,$=b.firstChild,p=$.firstChild,H=p.nextSibling,I=H.firstChild,v=I.nextSibling,J=v.firstChild,C=b.nextSibling;return r(p,l(x,{get when(){return!z.isDisconnected},get fallback(){return l(c,{name:"wifi-off",class:"w-6 h-6 text-red-400 animate-pulse"})},get children(){return l(c,{get name(){return Fe(S())},class:"w-6 h-6 animate-pulse"})}})),r(I,()=>Le(S())),r(J,()=>{var e;return((e=m())==null?void 0:e.message)||Re(S())}),r(v,l(x,{get when(){return k()},get children(){var e=we();return e.$$click=()=>Z(V()),r(e,l(c,{name:"x",class:"w-3.5 h-3.5"})),e}}),null),r(b,l(x,{get when(){return R()},get children(){var e=$e();return r(e,l(K,{get each(){var s,o,d;return[{label:"Total",value:(s=R())==null?void 0:s.total,color:"text-gray-300"},{label:"Success",value:(o=R())==null?void 0:o.succeeded,color:"text-emerald-400"},{label:"Failed",value:(d=R())==null?void 0:d.failed,color:"text-red-400"}]},children:s=>(()=>{var o=je(),d=o.firstChild,y=d.nextSibling;return r(d,()=>s.label),r(y,()=>s.value),h(()=>w(y,`font-mono font-bold ${s.color}`)),o})()})),e}}),null),r(C,l(pe,{})),r(n,l(x,{get when(){var e;return(e=m())==null?void 0:e.error},get children(){var e=ye(),s=e.firstChild;return r(e,l(c,{name:"alert-triangle",class:"w-5 h-5 shrink-0 text-red-400"}),s),r(s,()=>{var o;return(o=m())==null?void 0:o.error}),e}}),null),r(n,l(x,{get when(){return W().length>0},get children(){var e=_e();return r(e,l(K,{get each(){return W()},children:(s,o)=>(()=>{var d=Ae(),y=d.firstChild,O=y.nextSibling;return r(y,()=>String(o()).padStart(2,"0")),r(O,()=>s.message),h(()=>w(d,`flex gap-2 ${s.level==="error"?"text-red-400":""}`)),d})()})),e}}),null),r(n,l(x,{get when(){return S()==="complete"||S()==="error"},get children(){var e=Se(),s=e.firstChild;return s.$$click=te,e}}),null),h(e=>{var s=`p-8 rounded-[2rem] border min-h-[400px] flex flex-col gap-6 transition-all duration-500 ${G().card}`,o=`p-3 rounded-xl ${G().icon}`,d=`text-lg font-bold ${G().accent}`;return s!==e.e&&w(n,e.e=s),o!==e.t&&w(p,e.t=o),d!==e.a&&w(I,e.a=d),e},{e:void 0,t:void 0,a:void 0}),n}}),l(x,{get when(){return!m()},get children(){var n=ke(),b=n.firstChild;return r(b,l(c,{name:"download-cloud",class:"w-8 h-8 opacity-50"})),n}})]}})]}}),null),h(n=>{var b=!L(),$=k()||!L().trim(),p=`p-3 rounded-xl flex items-center justify-center gap-2 font-bold shadow-lg transition-all ${k()?"bg-white/5 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white hover:shadow-blue-500/25 active:scale-95"}`;return b!==n.e&&(M.disabled=n.e=b),$!==n.t&&(N.disabled=n.t=$),p!==n.a&&w(N,n.a=p),n},{e:void 0,t:void 0,a:void 0}),h(()=>q.value=L()),i})()}he(["input","click"]);export{Me as default};
