(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const x={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Mt(this.context.count)},getNextContextId(){return Mt(this.context.count++)}};function Mt(e){const t=String(e),n=t.length-1;return x.context.id+(n?String.fromCharCode(96+n):"")+t}function ce(e){x.context=e}const tn=!1,An=(e,t)=>e===t,ae=Symbol("solid-proxy"),nn=typeof Proxy=="function",yt=Symbol("solid-track"),He={equals:An};let rn=cn;const fe=1,Ye=2,sn={owned:null,cleanups:null,context:null,owner:null},ot={};var j=null;let We=null,Pn=null,U=null,Q=null,ie=null,nt=0;function Oe(e,t){const n=U,r=j,s=e.length===0,a=t===void 0?r:t,o=s?sn:{owned:null,cleanups:null,context:a?a.context:null,owner:a},i=s?e:()=>e(()=>ee(()=>ze(o)));j=o,U=null;try{return de(i,!0)}finally{U=n,j=r}}function te(e,t){t=t?Object.assign({},He,t):He;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),ln(n,s));return[on.bind(n),r]}function Dt(e,t,n){const r=st(e,t,!0,fe);Ne(r)}function X(e,t,n){const r=st(e,t,!1,fe);Ne(r)}function je(e,t,n){rn=zn;const r=st(e,t,!1,fe),s=Pe&&rt(Pe);s&&(r.suspense=s),r.user=!0,ie?ie.push(r):Ne(r)}function V(e,t,n){n=n?Object.assign({},He,n):He;const r=st(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ne(r),on.bind(r)}function Cn(e){return e&&typeof e=="object"&&"then"in e}function Nn(e,t,n){let r,s,a;r=!0,s=e,a={};let o=null,i=ot,l=null,c=!1,d="initialValue"in a,u=typeof r=="function"&&V(r);const y=new Set,[b,h]=(a.storage||te)(a.initialValue),[g,k]=te(void 0),[$,N]=te(void 0,{equals:!1}),[K,R]=te(d?"ready":"unresolved");x.context&&(l=x.getNextContextId(),a.ssrLoadFrom==="initial"?i=a.initialValue:x.load&&x.has(l)&&(i=x.load(l)));function S(m,w,z,O){return o===m&&(o=null,O!==void 0&&(d=!0),(m===i||w===i)&&a.onHydrated&&queueMicrotask(()=>a.onHydrated(O,{value:w})),i=ot,W(w,z)),w}function W(m,w){de(()=>{w===void 0&&h(()=>m),R(w!==void 0?"errored":d?"ready":"unresolved"),k(w);for(const z of y.keys())z.decrement();y.clear()},!1)}function P(){const m=Pe&&rt(Pe),w=b(),z=g();if(z!==void 0&&!o)throw z;return U&&!U.user&&m&&Dt(()=>{$(),o&&(m.resolved&&We||y.has(m)||(m.increment(),y.add(m)))}),w}function A(m=!0){if(m!==!1&&c)return;c=!1;const w=u?u():r;if(w==null||w===!1){S(o,ee(b));return}let z;const O=i!==ot?i:ee(()=>{try{return s(w,{value:b(),refetching:m})}catch(G){z=G}});if(z!==void 0){S(o,void 0,Ge(z),w);return}else if(!Cn(O))return S(o,O,void 0,w),O;return o=O,"v"in O?(O.s===1?S(o,O.v,void 0,w):S(o,void 0,Ge(O.v),w),O):(c=!0,queueMicrotask(()=>c=!1),de(()=>{R(d?"refreshing":"pending"),N()},!1),O.then(G=>S(O,G,void 0,w),G=>S(O,void 0,Ge(G),w)))}Object.defineProperties(P,{state:{get:()=>K()},error:{get:()=>g()},loading:{get(){const m=K();return m==="pending"||m==="refreshing"}},latest:{get(){if(!d)return P();const m=g();if(m&&!o)throw m;return b()}}});let C=j;return u?Dt(()=>(C=j,A(!1))):A(!1),[P,{refetch:m=>En(C,()=>A(m)),mutate:h}]}function an(e){return de(e,!1)}function ee(e){if(U===null)return e();const t=U;U=null;try{return e()}finally{U=t}}function xt(e){je(()=>ee(e))}function Ae(e){return j===null||(j.cleanups===null?j.cleanups=[e]:j.cleanups.push(e)),e}function ht(){return U}function Tn(){return j}function En(e,t){const n=j,r=U;j=e,U=null;try{return de(t,!0)}catch(s){St(s)}finally{j=n,U=r}}const[No,To]=te(!1);function Mn(e){ie.push.apply(ie,e),e.length=0}function kt(e,t){const n=Symbol("context");return{id:n,Provider:Fn(n),defaultValue:e}}function rt(e){let t;return j&&j.context&&(t=j.context[e.id])!==void 0?t:e.defaultValue}function Dn(e){const t=V(e),n=V(()=>pt(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Pe;function On(){return Pe||(Pe=kt())}function on(){if(this.sources&&this.state)if(this.state===fe)Ne(this);else{const e=Q;Q=null,de(()=>Xe(this),!1),Q=e}if(U){const e=this.observers?this.observers.length:0;U.sources?(U.sources.push(this),U.sourceSlots.push(e)):(U.sources=[this],U.sourceSlots=[e]),this.observers?(this.observers.push(U),this.observerSlots.push(U.sources.length-1)):(this.observers=[U],this.observerSlots=[U.sources.length-1])}return this.value}function ln(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&de(()=>{for(let s=0;s<e.observers.length;s+=1){const a=e.observers[s],o=We&&We.running;o&&We.disposed.has(a),(o?!a.tState:!a.state)&&(a.pure?Q.push(a):ie.push(a),a.observers&&dn(a)),o||(a.state=fe)}if(Q.length>1e6)throw Q=[],new Error},!1)),t}function Ne(e){if(!e.fn)return;ze(e);const t=nt;Ln(e,e.value,t)}function Ln(e,t,n){let r;const s=j,a=U;U=j=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=fe,e.owned&&e.owned.forEach(ze),e.owned=null),e.updatedAt=n+1,St(o)}finally{U=a,j=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ln(e,r):e.value=r,e.updatedAt=n)}function st(e,t,n,r=fe,s){const a={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:j,context:j?j.context:null,pure:n};return j===null||j!==sn&&(j.owned?j.owned.push(a):j.owned=[a]),a}function Qe(e){if(e.state===0)return;if(e.state===Ye)return Xe(e);if(e.suspense&&ee(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<nt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===fe)Ne(e);else if(e.state===Ye){const r=Q;Q=null,de(()=>Xe(e,t[0]),!1),Q=r}}function de(e,t){if(Q)return e();let n=!1;t||(Q=[]),ie?n=!0:ie=[],nt++;try{const r=e();return jn(n),r}catch(r){n||(ie=null),Q=null,St(r)}}function jn(e){if(Q&&(cn(Q),Q=null),e)return;const t=ie;ie=null,t.length&&de(()=>rn(t),!1)}function cn(e){for(let t=0;t<e.length;t++)Qe(e[t])}function zn(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Qe(r)}if(x.context){if(x.count){x.effects||(x.effects=[]),x.effects.push(...e.slice(0,n));return}ce()}for(x.effects&&(x.done||!x.count)&&(e=[...x.effects,...e],n+=x.effects.length,delete x.effects),t=0;t<n;t++)Qe(e[t])}function Xe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===fe?r!==t&&(!r.updatedAt||r.updatedAt<nt)&&Qe(r):s===Ye&&Xe(r,t)}}}function dn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ye,n.pure?Q.push(n):ie.push(n),n.observers&&dn(n))}}function ze(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const a=s.pop(),o=n.observerSlots.pop();r<s.length&&(a.sourceSlots[o]=r,s[r]=a,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ze(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ze(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ge(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function St(e,t=j){throw Ge(e)}function pt(e){if(typeof e=="function"&&!e.length)return pt(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=pt(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Fn(e,t){return function(r){let s;return X(()=>s=ee(()=>(j.context={...j.context,[e]:r.value},Dn(()=>r.children))),void 0),s}}const Un=Symbol("fallback");function Ot(e){for(let t=0;t<e.length;t++)e[t]()}function Rn(e,t,n={}){let r=[],s=[],a=[],o=0,i=t.length>1?[]:null;return Ae(()=>Ot(a)),()=>{let l=e()||[],c=l.length,d,u;return l[yt],ee(()=>{let b,h,g,k,$,N,K,R,S;if(c===0)o!==0&&(Ot(a),a=[],r=[],s=[],o=0,i&&(i=[])),n.fallback&&(r=[Un],s[0]=Oe(W=>(a[0]=W,n.fallback())),o=1);else if(o===0){for(s=new Array(c),u=0;u<c;u++)r[u]=l[u],s[u]=Oe(y);o=c}else{for(g=new Array(c),k=new Array(c),i&&($=new Array(c)),N=0,K=Math.min(o,c);N<K&&r[N]===l[N];N++);for(K=o-1,R=c-1;K>=N&&R>=N&&r[K]===l[R];K--,R--)g[R]=s[K],k[R]=a[K],i&&($[R]=i[K]);for(b=new Map,h=new Array(R+1),u=R;u>=N;u--)S=l[u],d=b.get(S),h[u]=d===void 0?-1:d,b.set(S,u);for(d=N;d<=K;d++)S=r[d],u=b.get(S),u!==void 0&&u!==-1?(g[u]=s[d],k[u]=a[d],i&&($[u]=i[d]),u=h[u],b.set(S,u)):a[d]();for(u=N;u<c;u++)u in g?(s[u]=g[u],a[u]=k[u],i&&(i[u]=$[u],i[u](u))):s[u]=Oe(y);s=s.slice(0,o=c),r=l.slice(0)}return s});function y(b){if(a[u]=b,i){const[h,g]=te(u);return i[u]=g,t(l[u],h)}return t(l[u])}}}function f(e,t){return ee(()=>e(t||{}))}function Ve(){return!0}const mt={get(e,t,n){return t===ae?n:e.get(t)},has(e,t){return t===ae?!0:e.has(t)},set:Ve,deleteProperty:Ve,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ve,deleteProperty:Ve}},ownKeys(e){return e.keys()}};function lt(e){return(e=typeof e=="function"?e():e)?e:{}}function In(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function T(...e){let t=!1;for(let o=0;o<e.length;o++){const i=e[o];t=t||!!i&&ae in i,e[o]=typeof i=="function"?(t=!0,V(i)):i}if(nn&&t)return new Proxy({get(o){for(let i=e.length-1;i>=0;i--){const l=lt(e[i])[o];if(l!==void 0)return l}},has(o){for(let i=e.length-1;i>=0;i--)if(o in lt(e[i]))return!0;return!1},keys(){const o=[];for(let i=0;i<e.length;i++)o.push(...Object.keys(lt(e[i])));return[...new Set(o)]}},mt);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const i=e[o];if(!i)continue;const l=Object.getOwnPropertyNames(i);for(let c=l.length-1;c>=0;c--){const d=l[c];if(d==="__proto__"||d==="constructor")continue;const u=Object.getOwnPropertyDescriptor(i,d);if(!r[d])r[d]=u.get?{enumerable:!0,configurable:!0,get:In.bind(n[d]=[u.get.bind(i)])}:u.value!==void 0?u:void 0;else{const y=n[d];y&&(u.get?y.push(u.get.bind(i)):u.value!==void 0&&y.push(()=>u.value))}}}const s={},a=Object.keys(r);for(let o=a.length-1;o>=0;o--){const i=a[o],l=r[i];l&&l.get?Object.defineProperty(s,i,l):s[i]=l?l.value:void 0}return s}function _t(e,...t){const n=t.length;if(nn&&ae in e){const s=n>1?t.flat():t[0],a=t.map(o=>new Proxy({get(i){return o.includes(i)?e[i]:void 0},has(i){return o.includes(i)&&i in e},keys(){return o.filter(i=>i in e)}},mt));return a.push(new Proxy({get(o){return s.includes(o)?void 0:e[o]},has(o){return s.includes(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!s.includes(o))}},mt)),a}const r=[];for(let s=0;s<=n;s++)r[s]={};for(const s of Object.getOwnPropertyNames(e)){let a=n;for(let l=0;l<t.length;l++)if(t[l].includes(s)){a=l;break}const o=Object.getOwnPropertyDescriptor(e,s);!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable?r[a][s]=o.value:Object.defineProperty(r[a],s,o)}return r}function Ie(e){let t,n;const r=s=>{const a=x.context;if(a){const[i,l]=te();x.count||(x.count=0),x.count++,(n||(n=e())).then(c=>{!x.done&&ce(a),x.count--,l(()=>c.default),ce()}),t=i}else if(!t){const[i]=Nn(()=>(n||(n=e())).then(l=>l.default));t=i}let o;return V(()=>(o=t())?ee(()=>{if(!a||x.done)return o(s);const i=x.context;ce(a);const l=o(s);return ce(i),l}):"")};return r.preload=()=>n||((n=e()).then(s=>t=()=>s.default),n),r}const Kn=e=>`Stale read from <${e}>.`;function Ke(e){const t="fallback"in e&&{fallback:()=>e.fallback};return V(Rn(()=>e.each,e.children,t||void 0))}function Y(e){const t=e.keyed,n=V(()=>e.when,void 0,void 0),r=t?n:V(n,void 0,{equals:(s,a)=>!s==!a});return V(()=>{const s=r();if(s){const a=e.children;return typeof a=="function"&&a.length>0?ee(()=>a(t?s:()=>{if(!ee(r))throw Kn("Show");return n()})):a}return e.fallback},void 0,void 0)}const qn=kt();function gt(e){let t=0,n,r,s,a,o;const[i,l]=te(!1),c=On(),d={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:i,effects:[],resolved:!1},u=Tn();if(x.context&&x.load){const h=x.getContextId();let g=x.load(h);if(g&&(typeof g!="object"||g.s!==1?s=g:x.gather(h)),s&&s!=="$$f"){const[k,$]=te(void 0,{equals:!1});a=k,s.then(()=>{if(x.done)return $();x.gather(h),ce(r),$(),ce()},N=>{o=N,$()})}}const y=rt(qn);y&&(n=y.register(d.inFallback));let b;return Ae(()=>b&&b()),f(c.Provider,{value:d,get children(){return V(()=>{if(o)throw o;if(r=x.context,a)return a(),a=void 0;r&&s==="$$f"&&ce();const h=V(()=>e.children);return V(g=>{const k=d.inFallback(),{showContent:$=!0,showFallback:N=!0}=n?n():{};if((!k||s&&s!=="$$f")&&$)return d.resolved=!0,b&&b(),b=r=s=void 0,Mn(d.effects),h();if(N)return b?g:Oe(K=>(b=K,r&&(ce({id:r.id+"F",count:0}),r=void 0),e.fallback),u)})})}})}const Vn=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Bn=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...Vn]),Wn=new Set(["innerHTML","textContent","innerText","children"]),Gn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Jn=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Hn(e,t){const n=Jn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Yn=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Qn=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Xn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Je=e=>V(()=>e());function Zn(e,t,n){let r=n.length,s=t.length,a=r,o=0,i=0,l=t[s-1].nextSibling,c=null;for(;o<s||i<a;){if(t[o]===n[i]){o++,i++;continue}for(;t[s-1]===n[a-1];)s--,a--;if(s===o){const d=a<r?i?n[i-1].nextSibling:n[a-i]:l;for(;i<a;)e.insertBefore(n[i++],d)}else if(a===i)for(;o<s;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[a-1]&&n[i]===t[s-1]){const d=t[--s].nextSibling;e.insertBefore(n[i++],t[o++].nextSibling),e.insertBefore(n[--a],d),t[s]=n[a]}else{if(!c){c=new Map;let u=i;for(;u<a;)c.set(n[u],u++)}const d=c.get(t[o]);if(d!=null)if(i<d&&d<a){let u=o,y=1,b;for(;++u<s&&u<a&&!((b=c.get(t[u]))==null||b!==d+y);)y++;if(y>d-i){const h=t[o];for(;i<d;)e.insertBefore(n[i++],h)}else e.replaceChild(n[i++],t[o++])}else o++;else t[o++].remove()}}}const Lt="_$DX_DELEGATE";function er(e,t,n,r={}){let s;return Oe(a=>{s=a,t===document?e():p(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function D(e,t,n,r){let s;const a=()=>{const i=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return i.innerHTML=e,n?i.content.firstChild.firstChild:r?i.firstChild:i.content.firstChild},o=t?()=>ee(()=>document.importNode(s||(s=a()),!0)):()=>(s||(s=a())).cloneNode(!0);return o.cloneNode=o,o}function pe(e,t=window.document){const n=t[Lt]||(t[Lt]=new Set);for(let r=0,s=e.length;r<s;r++){const a=e[r];n.has(a)||(n.add(a),t.addEventListener(a,cr))}}function ue(e,t,n){xe(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function tr(e,t,n,r){xe(e)||(r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r))}function nr(e,t,n){xe(e)||(n?e.setAttribute(t,""):e.removeAttribute(t))}function Z(e,t){xe(e)||(t==null?e.removeAttribute("class"):e.className=t)}function un(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=a=>s.call(e,n[1],a))}else e.addEventListener(t,n,typeof n!="function"&&n)}function fn(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let a,o;for(a=0,o=s.length;a<o;a++){const i=s[a];!i||i==="undefined"||t[i]||(jt(e,i,!1),delete n[i])}for(a=0,o=r.length;a<o;a++){const i=r[a],l=!!t[i];!i||i==="undefined"||n[i]===l||!l||(jt(e,i,!0),n[i]=l)}return n}function rr(e,t,n){if(!t)return n?ue(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,a;for(a in n)t[a]==null&&r.removeProperty(a),delete n[a];for(a in t)s=t[a],s!==n[a]&&(r.setProperty(a,s),n[a]=s);return n}function sr(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function $t(e,t={},n,r){const s={};return r||X(()=>s.children=Fe(e,t.children,s.children)),X(()=>typeof t.ref=="function"&&ir(t.ref,e)),X(()=>ar(e,t,n,!0,s,!0)),s}function ir(e,t,n){return ee(()=>e(t,n))}function p(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Fe(e,t,r,n);X(s=>Fe(e,t(),s,n),r)}function ar(e,t,n,r,s={},a=!1){t||(t={});for(const o in s)if(!(o in t)){if(o==="children")continue;s[o]=zt(e,o,null,s[o],n,a,t)}for(const o in t){if(o==="children")continue;const i=t[o];s[o]=zt(e,o,i,s[o],n,a,t)}}function or(e){let t,n;return!xe()||!(t=x.registry.get(n=dr()))?e():(x.completed&&x.completed.add(t),x.registry.delete(n),t)}function xe(e){return!!x.context&&!x.done&&(!e||e.isConnected)}function lr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function jt(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,a=r.length;s<a;s++)e.classList.toggle(r[s],n)}function zt(e,t,n,r,s,a,o){let i,l,c,d,u;if(t==="style")return rr(e,n,r);if(t==="classList")return fn(e,n,r);if(n===r)return r;if(t==="ref")a||n(e);else if(t.slice(0,3)==="on:"){const y=t.slice(3);r&&e.removeEventListener(y,r,typeof r!="function"&&r),n&&e.addEventListener(y,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const y=t.slice(10);r&&e.removeEventListener(y,r,!0),n&&e.addEventListener(y,n,!0)}else if(t.slice(0,2)==="on"){const y=t.slice(2).toLowerCase(),b=Yn.has(y);if(!b&&r){const h=Array.isArray(r)?r[0]:r;e.removeEventListener(y,h)}(b||n)&&(un(e,y,n,b),b&&pe([y]))}else if(t.slice(0,5)==="attr:")ue(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")nr(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(c=Wn.has(t))||!s&&((d=Hn(t,e.tagName))||(l=Bn.has(t)))||(i=e.nodeName.includes("-")||"is"in o)){if(u)t=t.slice(5),l=!0;else if(xe(e))return n;t==="class"||t==="className"?Z(e,n):i&&!l&&!c?e[lr(t)]=n:e[d||t]=n}else{const y=s&&t.indexOf(":")>-1&&Xn[t.split(":")[0]];y?tr(e,y,t,n):ue(e,Gn[t]||t,n)}return n}function cr(e){if(x.registry&&x.events&&x.events.find(([l,c])=>c===e))return;let t=e.target;const n=`$$${e.type}`,r=e.target,s=e.currentTarget,a=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),o=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&a(t.host),!0},i=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),x.registry&&!x.done&&(x.done=_$HY.done=!0),e.composedPath){const l=e.composedPath();a(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!o());c++){if(t._$host){t=t._$host,i();break}if(t.parentNode===s)break}}else i();a(r)}function Fe(e,t,n,r,s){const a=xe(e);if(a){!n&&(n=[...e.childNodes]);let l=[];for(let c=0;c<n.length;c++){const d=n[c];d.nodeType===8&&d.data.slice(0,2)==="!$"?d.remove():l.push(d)}n=l}for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,i=r!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(a||o==="number"&&(t=t.toString(),t===n))return n;if(i){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=ke(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(a)return n;n=ke(e,n,r)}else{if(o==="function")return X(()=>{let l=t();for(;typeof l=="function";)l=l();n=Fe(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(bt(l,t,n,s))return X(()=>n=Fe(e,l,n,r,!0)),()=>n;if(a){if(!l.length)return n;if(r===void 0)return n=[...e.childNodes];let d=l[0];if(d.parentNode!==e)return n;const u=[d];for(;(d=d.nextSibling)!==r;)u.push(d);return n=u}if(l.length===0){if(n=ke(e,n,r),i)return n}else c?n.length===0?Ft(e,l,r):Zn(e,n,l):(n&&ke(e),Ft(e,l));n=l}else if(t.nodeType){if(a&&t.parentNode)return n=i?[t]:t;if(Array.isArray(n)){if(i)return n=ke(e,n,r,t);ke(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function bt(e,t,n,r){let s=!1;for(let a=0,o=t.length;a<o;a++){let i=t[a],l=n&&n[e.length],c;if(!(i==null||i===!0||i===!1))if((c=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))s=bt(e,i,l)||s;else if(c==="function")if(r){for(;typeof i=="function";)i=i();s=bt(e,Array.isArray(i)?i:[i],Array.isArray(l)?l:[l])||s}else e.push(i),s=!0;else{const d=String(i);l&&l.nodeType===3&&l.data===d?e.push(l):e.push(document.createTextNode(d))}}return s}function Ft(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function ke(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let a=!1;for(let o=t.length-1;o>=0;o--){const i=t[o];if(s!==i){const l=i.parentNode===e;!a&&!o?l?e.replaceChild(s,i):e.insertBefore(s,n):l&&i.remove()}else a=!0}}else e.insertBefore(s,n);return[s]}function dr(){return x.getNextContextId()}const ur="http://www.w3.org/2000/svg";function fr(e,t=!1,n=void 0){return t?document.createElementNS(ur,e):document.createElement(e,{is:n})}function yr(e,t){const n=V(e);return V(()=>{const r=n();switch(typeof r){case"function":return ee(()=>r(t));case"string":const s=Qn.has(r),a=x.context?or():fr(r,s,ee(()=>t.is));return $t(a,t,s),a}})}function yn(e){const[,t]=_t(e,["component"]);return yr(()=>e.component,t)}const hr="modulepreload",pr=function(e){return"/"+e},Ut={},qe=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=o(n.map(c=>{if(c=pr(c),c in Ut)return;Ut[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":hr,d||(y.as="script"),y.crossOrigin="",y.href=c,l&&y.setAttribute("nonce",l),document.head.appendChild(y),d)return new Promise((b,h)=>{y.addEventListener("load",b),y.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return s.then(o=>{for(const i of o||[])i.status==="rejected"&&a(i.reason);return t().catch(a)})};/**
* @license lucide-solid v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var mr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Se=mr,gr=D("<svg>"),br=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vr=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),wr=e=>{const[t,n]=_t(e,["color","size","strokeWidth","children","class","name","iconNode","absoluteStrokeWidth"]);return(()=>{var r=gr();return $t(r,T(Se,{get width(){return t.size??Se.width},get height(){return t.size??Se.height},get stroke(){return t.color??Se.stroke},get"stroke-width"(){return Je(()=>!!t.absoluteStrokeWidth)()?Number(t.strokeWidth??Se["stroke-width"])*24/Number(t.size):Number(t.strokeWidth??Se["stroke-width"])},get class(){return vr("lucide","lucide-icon",t.name!=null?`lucide-${br(t==null?void 0:t.name)}`:void 0,t.class!=null?t.class:"")}},n),!0,!0),p(r,f(Ke,{get each(){return t.iconNode},children:([s,a])=>f(yn,T({component:s},a))})),r})()},E=wr,xr=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kr=e=>f(E,T(e,{name:"Check",iconNode:xr})),Sr=kr,_r=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$r=e=>f(E,T(e,{name:"ChevronDown",iconNode:_r})),Ar=$r,Pr=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Cr=e=>f(E,T(e,{name:"ChevronLeft",iconNode:Pr})),Nr=Cr,Tr=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Er=e=>f(E,T(e,{name:"ChevronRight",iconNode:Tr})),Mr=Er,Dr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Or=e=>f(E,T(e,{name:"CircleAlert",iconNode:Dr})),Lr=Or,jr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zr=e=>f(E,T(e,{name:"CircleCheck",iconNode:jr})),Fr=zr,Ur=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Rr=e=>f(E,T(e,{name:"CirclePlay",iconNode:Ur})),Ir=Rr,Kr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],qr=e=>f(E,T(e,{name:"CirclePlus",iconNode:Kr})),Vr=qr,Br=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],Wr=e=>f(E,T(e,{name:"CloudDownload",iconNode:Br})),Gr=Wr,Jr=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Hr=e=>f(E,T(e,{name:"Database",iconNode:Jr})),Yr=Hr,Qr=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Xr=e=>f(E,T(e,{name:"ExternalLink",iconNode:Qr})),Zr=Xr,es=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ts=e=>f(E,T(e,{name:"EyeOff",iconNode:es})),ns=ts,rs=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ss=e=>f(E,T(e,{name:"Eye",iconNode:rs})),is=ss,as=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],os=e=>f(E,T(e,{name:"Film",iconNode:as})),ls=os,cs=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],ds=e=>f(E,T(e,{name:"Filter",iconNode:cs})),us=ds,fs=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ys=e=>f(E,T(e,{name:"History",iconNode:fs})),hs=ys,ps=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ms=e=>f(E,T(e,{name:"Layers",iconNode:ps})),gs=ms,bs=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vs=e=>f(E,T(e,{name:"LayoutDashboard",iconNode:bs})),ws=vs,xs=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ks=e=>f(E,T(e,{name:"Loader",iconNode:xs})),Ss=ks,_s=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],$s=e=>f(E,T(e,{name:"Maximize2",iconNode:_s})),As=$s,Ps=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Cs=e=>f(E,T(e,{name:"Music",iconNode:Ps})),Ns=Cs,Ts=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Es=e=>f(E,T(e,{name:"Pause",iconNode:Ts})),Ms=Es,Ds=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Os=e=>f(E,T(e,{name:"Pencil",iconNode:Ds})),Ls=Os,js=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],zs=e=>f(E,T(e,{name:"Play",iconNode:js})),Fs=zs,Us=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Rs=e=>f(E,T(e,{name:"Puzzle",iconNode:Us})),Is=Rs,Ks=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],qs=e=>f(E,T(e,{name:"Search",iconNode:Ks})),Vs=qs,Bs=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ws=e=>f(E,T(e,{name:"Settings2",iconNode:Bs})),Gs=Ws,Js=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hs=e=>f(E,T(e,{name:"ShieldCheck",iconNode:Js})),Ys=Hs,Qs=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],Xs=e=>f(E,T(e,{name:"SkipBack",iconNode:Qs})),Zs=Xs,ei=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],ti=e=>f(E,T(e,{name:"SkipForward",iconNode:ei})),ni=ti,ri=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],si=e=>f(E,T(e,{name:"SlidersVertical",iconNode:ri})),ii=si,ai=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],oi=e=>f(E,T(e,{name:"Terminal",iconNode:ai})),li=oi,ci=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],di=e=>f(E,T(e,{name:"Trash2",iconNode:ci})),ui=di,fi=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yi=e=>f(E,T(e,{name:"User",iconNode:fi})),hi=yi,pi=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mi=e=>f(E,T(e,{name:"X",iconNode:pi})),gi=mi,bi=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vi=e=>f(E,T(e,{name:"Zap",iconNode:bi})),wi=vi;const Rt={zap:wi,"plus-circle":Vr,layers:gs,sliders:ii,puzzle:Is,"chevron-down":Ar,"trash-2":ui,"download-cloud":Gr,music:Ns,"shield-check":Ys,database:Yr,"alert-circle":Lr,"check-circle-2":Fr,loader:Ss,terminal:li,search:Vs,filter:us,film:ls,play:Fs,"external-link":Zr,x:gi,"play-circle":Ir,"skip-back":Zs,pause:Ms,"skip-forward":ni,"layout-dashboard":ws,history:hs,"chevron-right":Mr,"chevron-left":Nr,eye:is,"eye-off":ns,pencil:Ls,check:Sr,"settings-2":Gs,user:hi,"maximize-2":As};function q(e){const t=Rt[e.name]||Rt["alert-circle"];return f(yn,{component:t,get class(){return e.class}})}const vt=Symbol("store-raw"),$e=Symbol("store-node"),le=Symbol("store-has"),hn=Symbol("store-self");function pn(e){let t=e[ae];if(!t&&(Object.defineProperty(e,ae,{value:t=new Proxy(e,Si)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,a=n.length;s<a;s++){const o=n[s];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function Ze(e){let t;return e!=null&&typeof e=="object"&&(e[ae]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Ue(e,t=new Set){let n,r,s,a;if(n=e!=null&&e[vt])return n;if(!Ze(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,i=e.length;o<i;o++)s=e[o],(r=Ue(s,t))!==s&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let l=0,c=o.length;l<c;l++)a=o[l],!i[a].get&&(s=e[a],(r=Ue(s,t))!==s&&(e[a]=r))}return e}function et(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Re(e,t,n){if(e[t])return e[t];const[r,s]=te(n,{equals:!1,internal:!0});return r.$=s,e[t]=r}function xi(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ae||t===$e||(delete n.value,delete n.writable,n.get=()=>e[ae][t]),n}function mn(e){ht()&&Re(et(e,$e),hn)()}function ki(e){return mn(e),Reflect.ownKeys(e)}const Si={get(e,t,n){if(t===vt)return e;if(t===ae)return n;if(t===yt)return mn(e),n;const r=et(e,$e),s=r[t];let a=s?s():e[t];if(t===$e||t===le||t==="__proto__")return a;if(!s){const o=Object.getOwnPropertyDescriptor(e,t);ht()&&(typeof a!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(a=Re(r,t,a)())}return Ze(a)?pn(a):a},has(e,t){return t===vt||t===ae||t===yt||t===$e||t===le||t==="__proto__"?!0:(ht()&&Re(et(e,le),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ki,getOwnPropertyDescriptor:xi};function tt(e,t,n,r=!1){if(!r&&e[t]===n)return;const s=e[t],a=e.length;n===void 0?(delete e[t],e[le]&&e[le][t]&&s!==void 0&&e[le][t].$()):(e[t]=n,e[le]&&e[le][t]&&s===void 0&&e[le][t].$());let o=et(e,$e),i;if((i=Re(o,t,s))&&i.$(()=>n),Array.isArray(e)&&e.length!==a){for(let l=e.length;l<a;l++)(i=o[l])&&i.$();(i=Re(o,"length",a))&&i.$(e.length)}(i=o[hn])&&i.$()}function gn(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];tt(e,s,t[s])}}function _i(e,t){if(typeof t=="function"&&(t=t(e)),t=Ue(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const s=t[n];e[n]!==s&&tt(e,n,s)}tt(e,"length",r)}else gn(e,t)}function De(e,t,n=[]){let r,s=e;if(t.length>1){r=t.shift();const o=typeof r,i=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)De(e,[r[l]].concat(t),n);return}else if(i&&o==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&De(e,[l].concat(t),n);return}else if(i&&o==="object"){const{from:l=0,to:c=e.length-1,by:d=1}=r;for(let u=l;u<=c;u+=d)De(e,[u].concat(t),n);return}else if(t.length>1){De(e[r],t,[r].concat(n));return}s=e[r],n=[r].concat(n)}let a=t[0];typeof a=="function"&&(a=a(s,n),a===s)||r===void 0&&a==null||(a=Ue(a),r===void 0||Ze(s)&&Ze(a)&&!Array.isArray(a)?gn(s,a):tt(e,r,a))}function bn(...[e,t]){const n=Ue(e||{}),r=Array.isArray(n),s=pn(n);function a(...o){an(()=>{r&&o.length===1?_i(n,o[0]):De(n,o)})}return[s,a]}const[oe,B]=bn({activeDownloads:{},jobStatuses:{},logs:[],notification:null,lastJobId:null,error:null}),$i=e=>{B("activeDownloads",e.id,t=>({...t,...e,done:e.status==="complete"||e.percent>=100}))},Ai=e=>{B("activeDownloads",e.id,t=>({...t,status:"error",error:e.message})),B("error",e)};var Pi=D('<div class="space-y-3 overflow-y-auto custom-scrollbar flex-1 pr-2 max-h-[300px]"style="mask-image:linear-gradient(to bottom, black 0%, black 85%, transparent 100%);-webkit-mask-image:linear-gradient(to bottom, black 0%, black 85%, transparent 100%)">'),Ci=D('<div class="rounded-[2rem] border border-white/5 bg-black/20 p-6 flex flex-col gap-4 h-full"><div class="flex items-center justify-between"><h3 class="text-lg font-bold text-white flex items-center gap-2">Active Downloads'),Ni=D('<div class="flex flex-col items-center justify-center flex-1 py-12 text-gray-500 gap-3"><span class="text-xs font-bold uppercase tracking-widest">No active tasks'),Ti=D('<div class="text-[10px] text-red-400 font-mono break-all">'),Ei=D('<div class="text-[10px] text-slate-500 text-right">ETA: '),Mi=D('<div class="rounded-xl border border-white/5 bg-white/5 p-3 space-y-2 transition-all duration-300"><div class="flex justify-between items-center text-xs"><span class="font-bold text-slate-200 truncate max-w-[70%]"></span><span></span></div><div class="h-1.5 w-full rounded-full bg-black/40 overflow-hidden"><div>');function Di(){const e=V(()=>Object.values(oe.activeDownloads).sort((r,s)=>r.done!==s.done?r.done?1:-1:(r.filename||r.id).localeCompare(s.filename||s.id))),t=V(()=>e().length>0);return(()=>{var n=Ci(),r=n.firstChild,s=r.firstChild,a=s.firstChild;return p(s,f(q,{name:"download-cloud",class:"w-5 h-5 text-accent-primary"}),a),p(n,f(Y,{get when(){return t()},get fallback(){return(()=>{var o=Ni(),i=o.firstChild;return p(o,f(q,{name:"check-circle-2",class:"w-10 h-10 opacity-20"}),i),o})()},get children(){var o=Pi();return p(o,f(Ke,{get each(){return e()},children:i=>(()=>{var l=Mi(),c=l.firstChild,d=c.firstChild,u=d.nextSibling,y=c.nextSibling,b=y.firstChild;return p(d,()=>i.filename||i.id),p(u,(()=>{var h=Je(()=>i.status==="error");return()=>h()?"Error":Je(()=>i.percent!==void 0)()?`${i.percent.toFixed(1)}%`:"0.0%"})()),p(l,f(Y,{get when(){return i.status==="error"},get children(){var h=Ti();return p(h,()=>i.error),h}}),y),p(l,f(Y,{get when(){return Je(()=>!!(i.eta&&!i.done))()&&i.status!=="error"},get children(){var h=Ei();return h.firstChild,p(h,()=>i.eta,null),h}}),null),X(h=>{var g={"opacity-0 scale-95":i.done,"opacity-100 scale-100":!i.done},k=`font-mono ${i.status==="error"?"text-red-400":i.done?"text-emerald-400":"text-accent-primary"}`,$=`h-full transition-all duration-300 ${i.status==="error"?"bg-red-500":i.done?"bg-emerald-500":"bg-vibrant-gradient"}`,N=`${i.percent||0}%`;return h.e=fn(l,g,h.e),k!==h.t&&Z(u,h.t=k),$!==h.a&&Z(b,h.a=$),N!==h.o&&sr(b,"width",h.o=N),h},{e:void 0,t:void 0,a:void 0,o:void 0}),l})()})),o}}),null),n})()}var vn=D("<div>");function Oi(e){return(()=>{var t=vn();return p(t,()=>e.children),X(()=>Z(t,`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ${e.class||""}`)),t})()}function Li(e){const t=()=>{switch(e.span){case 2:return"lg:col-span-2";case 3:return"lg:col-span-3";case 4:return"lg:col-span-4";default:return"lg:col-span-1"}};return(()=>{var n=vn();return p(n,()=>e.children),X(()=>Z(n,`${t()} ${e.class||""}`)),n})()}const it="/logo.png";var ji=D('<div class="rounded-[2rem] border border-accent-primary/20 glass-vibrant p-8 relative overflow-hidden group h-full"><div class="absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity duration-500"><img alt="ytdl-go logo"class="w-48 h-48 rotate-12 object-contain"></div><div class="relative z-10 space-y-4"><h1 class="text-4xl font-black text-white tracking-tight">Welcome Back!</h1><p class="text-lg text-gray-300 max-w-lg">Your media library is ready. You have <span class="text-white font-bold"> items</span> across <span class="text-white font-bold"> creators</span>.</p><div class="flex flex-wrap gap-3 pt-4"><button class="px-6 py-3 rounded-xl bg-white text-black font-black uppercase tracking-widest hover:scale-105 transition-transform shadow-lg flex items-center gap-2">New Download</button><button class="px-6 py-3 rounded-xl bg-black/40 text-white border border-white/10 font-black uppercase tracking-widest hover:bg-black/60 transition-colors flex items-center gap-2">Browse Library');function zi(e){return(()=>{var t=ji(),n=t.firstChild,r=n.firstChild,s=n.nextSibling,a=s.firstChild,o=a.nextSibling,i=o.firstChild,l=i.nextSibling,c=l.firstChild,d=l.nextSibling,u=d.nextSibling,y=u.firstChild,b=o.nextSibling,h=b.firstChild,g=h.firstChild,k=h.nextSibling,$=k.firstChild;return ue(r,"src",it),p(l,()=>{var N;return((N=e.stats)==null?void 0:N.totalItems)||0},c),p(u,()=>{var N;return((N=e.stats)==null?void 0:N.totalCreators)||0},y),h.$$click=()=>e.onTabChange("download"),p(h,f(q,{name:"plus-circle",class:"w-4 h-4"}),g),k.$$click=()=>e.onTabChange("library"),p(k,f(q,{name:"layers",class:"w-4 h-4"}),$),t})()}pe(["click"]);var Fi=D('<div class="rounded-[2rem] border border-white/5 bg-black/20 p-6 flex flex-col justify-center gap-4 h-full"><h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest">Library Stats</h3><div class="grid grid-cols-2 gap-4"><div class="p-4 rounded-2xl bg-white/5 border border-white/5"><div class="text-3xl font-black text-accent-primary"></div><div class="text-[10px] font-bold text-gray-500 uppercase">Creators</div></div><div class="p-4 rounded-2xl bg-white/5 border border-white/5"><div class="text-3xl font-black text-accent-secondary"></div><div class="text-[10px] font-bold text-gray-500 uppercase">Media Files');function Ui(e){return(()=>{var t=Fi(),n=t.firstChild,r=n.nextSibling,s=r.firstChild,a=s.firstChild,o=s.nextSibling,i=o.firstChild;return p(a,()=>{var l;return((l=e.stats)==null?void 0:l.totalCreators)||0}),p(i,()=>{var l;return((l=e.stats)==null?void 0:l.totalItems)||0}),t})()}var Ri=D('<img class="w-full h-full object-cover transition-smooth group-hover/thumb:scale-105"loading=lazy>',!0,!1,!1),Ii=D('<div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover/thumb:opacity-100 transition-smooth">'),Ki=D("<div>"),qi=D('<div class="absolute inset-0 flex items-center justify-center text-gray-700">');function Vi(e){const[t,n]=_t(e,["src","alt","class","size"]),r={sm:"aspect-video w-24",md:"aspect-video w-full",lg:"aspect-video w-full max-w-2xl"}[t.size||"md"];return(()=>{var s=Ki();return $t(s,T({get class(){return`relative rounded-xl overflow-hidden bg-bg-surface-soft group/thumb ${r} ${t.class||""}`}},n),!1,!0),p(s,f(Y,{get when(){return t.src},get fallback(){return(()=>{var a=qi();return p(a,f(q,{name:"image",class:"w-8 h-8"})),a})()},get children(){return[(()=>{var a=Ri();return X(o=>{var i=t.src,l=t.alt||"Video thumbnail";return i!==o.e&&ue(a,"src",o.e=i),l!==o.t&&ue(a,"alt",o.t=l),o},{e:void 0,t:void 0}),a})(),Ii()]}})),s})()}var Bi=D('<div class="w-full py-16 flex flex-col items-center justify-center text-center gap-4 bg-black/20 rounded-2xl border border-dashed border-white/10"><img alt="Empty Library"class="w-24 h-24 opacity-20 grayscale brightness-50"><div class=space-y-1><p class="text-white/40 font-black uppercase tracking-widest text-xs">Nothing here yet!</p><p class="text-gray-600 font-bold text-[10px] uppercase tracking-tighter italic">Feed me URLs!'),Wi=D('<div class=space-y-4><div class="flex items-center justify-between px-2"><div class="flex items-center gap-2"><h2 class="text-xl font-bold text-white">Recent Additions</h2></div><button class="text-xs font-bold text-accent-primary hover:text-white transition-colors flex items-center gap-1">See All</button></div><div class="relative group/carousel"><div class="flex gap-4 overflow-x-auto pb-4 pt-2 px-2 custom-scrollbar snap-x scroll-smooth">'),Gi=D('<div class="flex-shrink-0 w-72 flex flex-col gap-3 p-4 rounded-2xl border border-white/5 bg-black/20 hover:border-accent-primary/40 hover:bg-black/40 transition-all group cursor-pointer snap-start"><div class="relative aspect-video rounded-xl overflow-hidden shadow-lg group-hover:scale-[1.02] transition-transform"><div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"><div class="w-10 h-10 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center text-white border border-white/30"></div></div><div class="absolute top-2 right-2 px-2 py-0.5 rounded-full bg-black/60 backdrop-blur-md border border-white/10 text-[9px] font-black uppercase tracking-widest text-white/90"></div></div><div class="min-w-0 space-y-1"><h4 class="font-bold text-white truncate text-sm leading-snug"></h4><div class="flex items-center justify-between gap-2"><p class="text-xs text-accent-primary/80 truncate font-semibold"></p><span class="text-[10px] text-gray-600 font-medium whitespace-nowrap">');function Ji(e){return(()=>{var t=Wi(),n=t.firstChild,r=n.firstChild;r.firstChild;var s=r.nextSibling;s.firstChild;var a=n.nextSibling,o=a.firstChild;return p(r,f(q,{name:"history",class:"w-4 h-4 text-accent-primary/60"}),null),s.$$click=()=>e.onTabChange("library"),p(s,f(q,{name:"chevron-right",class:"w-3 h-3"}),null),p(o,f(Ke,{get each(){var i;return((i=e.stats)==null?void 0:i.recentItems)||[]},children:i=>(()=>{var l=Gi(),c=l.firstChild,d=c.firstChild,u=d.firstChild,y=d.nextSibling,b=c.nextSibling,h=b.firstChild,g=h.nextSibling,k=g.firstChild,$=k.nextSibling;return l.$$click=()=>{var N;return(N=e.onPlay)==null?void 0:N.call(e,i)},p(c,f(Vi,{get src(){return i.thumbnailUrl},get alt(){return i.title},size:"md",class:"w-full h-full"}),d),p(u,f(q,{name:"play",class:"w-5 h-5 fill-current"})),p(y,()=>i.type),p(h,()=>i.title),p(k,()=>i.creator),p($,()=>i.date||"Just now"),l})()}),null),p(o,f(Y,{get when(){var i,l;return!((l=(i=e.stats)==null?void 0:i.recentItems)!=null&&l.length)},get children(){var i=Bi(),l=i.firstChild;return ue(l,"src",it),i}}),null),t})()}pe(["click"]);var Hi=D('<div class="rounded-[2rem] border border-dashed border-white/10 bg-black/20 p-6 h-[148px] animate-pulse">'),Yi=D("<div class=h-full>"),Qi=D('<div class="transition-smooth animate-in fade-in slide-in-from-right-4 duration-500 space-y-6"><div class="flex items-center justify-between px-2"><div class="flex items-center gap-2"><div></div><span class="text-xs font-black uppercase tracking-widest text-gray-500"></span></div><button>'),Xi=D("<div>");const Zi=Ie(()=>qe(()=>import("./assets/QuickDownload-Bvr-m2tr.js"),[])),It="ytdl-go:dashboard-layout:v1",ea=[{id:"welcome",span:4,enabled:!0},{id:"quick-download",span:3,enabled:!0},{id:"active-downloads",span:1,enabled:!0},{id:"recent-activity",span:3,enabled:!0},{id:"stats",span:1,enabled:!0}];function ta(e){const[t,n]=te(!1),[r,s]=te([...ea]);xt(()=>{if(typeof localStorage>"u"||typeof localStorage.getItem!="function")return;const c=localStorage.getItem(It);if(c)try{const d=JSON.parse(c);Array.isArray(d)&&s(d)}catch(d){console.warn("Failed to load dashboard layout:",d)}}),je(()=>{typeof localStorage<"u"&&typeof localStorage.setItem=="function"&&localStorage.setItem(It,JSON.stringify(r()))});const a=V(()=>typeof e.libraryModel=="function"?e.libraryModel():e.libraryModel),o=V(()=>{var d,u,y,b,h;const c=a();return{totalItems:((d=c==null?void 0:c.items)==null?void 0:d.length)||0,totalCreators:(((u=c==null?void 0:c.artists)==null?void 0:u.length)||0)+(((y=c==null?void 0:c.videos)==null?void 0:y.length)||0)+(((b=c==null?void 0:c.podcasts)==null?void 0:b.length)||0),recentItems:((h=c==null?void 0:c.items)==null?void 0:h.slice(0,4))||[]}}),i=c=>{e.onDownload&&e.onDownload(c)},l=c=>{switch(c.id){case"welcome":return f(zi,{get stats(){return o()},get onTabChange(){return e.onTabChange}});case"quick-download":return f(gt,{get fallback(){return Hi()},get children(){return f(Zi,{onDownload:i,get onTabChange(){return e.onTabChange}})}});case"active-downloads":return(()=>{var d=Yi();return p(d,f(Di,{})),d})();case"recent-activity":return f(Ji,{get stats(){return o()},get onTabChange(){return e.onTabChange},get onPlay(){return e.onPlay}});case"stats":return f(Ui,{get stats(){return o()}});default:return null}};return(()=>{var c=Qi(),d=c.firstChild,u=d.firstChild,y=u.firstChild,b=y.nextSibling,h=u.nextSibling;return p(b,()=>t()?"Dashboard: Edit Mode":"Dashboard"),h.$$click=()=>n(!t()),p(h,f(q,{get name(){return t()?"check":"pencil"},class:"w-3.5 h-3.5"}),null),p(h,()=>t()?"Done":"Edit Layout",null),p(c,f(Oi,{get children(){return f(Ke,{get each(){return r()},children:g=>f(Y,{get when(){return g.enabled||t()},get children(){return f(Li,{get span(){return g.span},get class(){return`relative group/widget transition-all duration-500 ${t()?"scale-[0.98] ring-2 ring-dashed ring-white/10 rounded-[2.2rem] p-1":""}`},get children(){var k=Xi();return p(k,()=>l(g)),X(()=>Z(k,`${t()&&!g.enabled?"opacity-30":""} h-full`)),k}})}})})}}),null),X(g=>{var k=`w-2 h-2 rounded-full ${t()?"bg-amber-500 animate-pulse":"bg-accent-primary"}`,$=`flex items-center gap-2 px-4 py-2 rounded-xl border transition-all duration-300 text-xs font-bold ${t()?"bg-amber-500/20 border-amber-500/30 text-amber-400":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10 hover:text-white"}`;return k!==g.e&&Z(y,g.e=k),$!==g.t&&Z(h,g.t=$),g},{e:void 0,t:void 0}),c})()}pe(["click"]);var na=D('<aside class="w-72 bg-bg-surface/85 border-r border-white/10 flex flex-col p-6 backdrop-blur-xl transition-all duration-300"><div class="flex items-center gap-3 mb-10 px-2"><div class="w-10 h-10 bg-accent-primary/10 rounded-2xl flex items-center justify-center shadow-lg shadow-accent-primary/5 overflow-hidden border border-accent-primary/20"><img alt="ytdl-go logo"class="w-8 h-8 object-contain brightness-0 invert opacity-80"></div><span class="text-xl font-black tracking-tight text-transparent bg-clip-text bg-vibrant-gradient">ytdl-go</span></div><nav class="flex-1 space-y-2"><button><span class="font-bold text-sm">Dashboard</span></button><div class="pt-4 pb-2 px-4 text-xs font-bold text-gray-600 uppercase tracking-widest">Media</div><button><span class="font-bold text-sm">New Download</span></button><button><span class="font-bold text-sm">Library</span></button><div class="pt-4 pb-2 px-4 text-xs font-bold text-gray-600 uppercase tracking-widest">System</div><button><span class="font-bold text-sm">Settings</span></button></nav><div class="mt-auto relative has-tooltip"><span class="tooltip bg-bg-surface-soft text-[10px] px-2 py-1 rounded shadow-xl mb-4 border border-white/10 w-56 text-center leading-relaxed">Coming Soon: extension provider management and health status.</span><button type=button disabled aria-disabled=true aria-label="Extensions panel (Coming Soon)"class="w-full p-4 bg-white/5 rounded-2xl border border-white/5 opacity-70 cursor-not-allowed text-left hover:bg-white/10 transition-colors"><div class="flex items-center gap-2 mb-2 text-xs font-bold text-gray-500 uppercase tracking-widest">Extensions</div><div class="flex items-center justify-between text-xs"><span class=text-gray-500>PO Token Provider</span><span class="px-2 py-0.5 bg-white/10 text-gray-500 rounded-full font-bold border border-white/10">Coming Soon');function ra(e){const t=()=>e.activeTab;return(()=>{var n=na(),r=n.firstChild,s=r.firstChild,a=s.firstChild,o=r.nextSibling,i=o.firstChild,l=i.firstChild,c=i.nextSibling,d=c.nextSibling,u=d.firstChild,y=d.nextSibling,b=y.firstChild,h=y.nextSibling,g=h.nextSibling,k=g.firstChild,$=o.nextSibling,N=$.firstChild,K=N.nextSibling,R=K.firstChild,S=R.firstChild;return ue(a,"src",it),i.$$click=()=>e.onTabChange("dashboard"),p(i,f(q,{name:"layout-dashboard",class:"w-5 h-5"}),l),d.$$click=()=>e.onTabChange("download"),p(d,f(q,{name:"plus-circle",class:"w-5 h-5"}),u),y.$$click=()=>e.onTabChange("library"),p(y,f(q,{name:"layers",class:"w-5 h-5"}),b),g.$$click=()=>e.onTabChange("settings"),p(g,f(q,{name:"sliders",class:"w-5 h-5"}),k),p(R,f(q,{name:"puzzle",class:"w-3 h-3"}),S),X(W=>{var P=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="dashboard"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,A=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="download"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,C=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="library"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`,m=`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${t()==="settings"?"bg-accent-primary/10 text-accent-secondary shadow-sm shadow-accent-primary/5":"text-gray-500 hover:bg-white/5 hover:text-gray-300"}`;return P!==W.e&&Z(i,W.e=P),A!==W.t&&Z(d,W.t=A),C!==W.a&&Z(y,W.a=C),m!==W.o&&Z(g,W.o=m),W},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()}pe(["click"]);var sa=D('<header class="h-24 px-10 flex items-center justify-between border-b border-white/5 bg-transparent backdrop-blur-sm z-20"><div class="flex items-center gap-4"><h2 class="text-2xl font-black text-white tracking-tighter uppercase leading-none"></h2><div class="h-4 w-px bg-white/10 mx-2"></div><div class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div><span class="text-[10px] font-bold text-emerald-400 uppercase tracking-widest">YT_AUTH_OK</span></div></div><div class="flex items-center gap-3"><button><span class="text-[10px] font-bold uppercase tracking-widest">Advanced Mode</span></button><div class="w-10 h-10 rounded-2xl bg-gradient-to-br from-gray-800 to-gray-900 border border-white/10 flex items-center justify-center shadow-inner group cursor-pointer hover:border-accent-primary/50 transition-colors">');function ia(e){const t=()=>e.isAdvanced,n=()=>{switch(e.activeTab){case"dashboard":return"Dashboard";case"download":return"New Download";case"library":return"Media Library";case"settings":return"Settings";default:return"ytdl-go"}};return(()=>{var r=sa(),s=r.firstChild,a=s.firstChild,o=s.nextSibling,i=o.firstChild,l=i.firstChild,c=i.nextSibling;return p(a,n),un(i,"click",e.onToggleAdvanced,!0),p(i,f(q,{name:"settings-2",get class(){return`w-3.5 h-3.5 ${t()?"animate-pulse-slow":""}`}}),l),p(c,f(q,{name:"user",class:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors"})),X(()=>Z(i,`flex items-center gap-2 px-4 py-2 rounded-xl border transition-all duration-300 ${t()?"bg-accent-primary/20 border-accent-primary/30 text-accent-secondary shadow-lg shadow-accent-primary/10":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10"}`)),r})()}pe(["click"]);var aa=D('<div class="text-[11px] text-gray-600 mt-2 break-all">'),oa=D('<div class="p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-xs">'),la=D('<div class="fixed inset-0 z-50 bg-[#05070a]/80 backdrop-blur-sm flex items-center justify-center p-4"><div class="w-full max-w-2xl rounded-3xl border border-white/10 bg-[#0a0c14] shadow-2xl p-8 space-y-6 animate-in fade-in zoom-in-95 duration-300"><div class="flex items-center gap-3"><div class="p-2 rounded-xl bg-amber-500/10 text-amber-400"></div><div><div class="font-bold text-white text-xl">Duplicate File Detected</div><div class="text-xs text-gray-500">Choose how to handle this file.</div></div></div><div class="p-4 rounded-2xl border border-white/10 bg-[#05070a]"><div class="text-xs text-gray-500 mb-1">Filename</div><div class="text-sm text-white font-mono break-all"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-3">'),ca=D('<button class="text-left p-4 rounded-2xl border border-white/10 bg-white/5 hover:border-blue-500/40 hover:bg-blue-500/10 transition-all"><div class="flex items-center justify-between"><span class="font-bold text-white text-sm"></span><span class="text-[10px] px-2 py-0.5 rounded-full bg-white/10 text-gray-400 font-mono"></span></div><div class="text-xs text-gray-500 mt-1">');const da=[{value:"overwrite",label:"Overwrite",hint:"Replace this file",key:"o"},{value:"overwrite_all",label:"Overwrite All",hint:"Replace all duplicates in this job",key:"O"},{value:"skip",label:"Skip",hint:"Skip this file",key:"s"},{value:"skip_all",label:"Skip All",hint:"Skip all duplicates in this job",key:"S"},{value:"rename",label:"Rename",hint:"Save as next available filename",key:"r"},{value:"rename_all",label:"Rename All",hint:"Rename all duplicates in this job",key:"R"},{value:"cancel",label:"Cancel",hint:"Abort this item",key:"q"}];function ua(e){return(()=>{var t=la(),n=t.firstChild,r=n.firstChild,s=r.firstChild,a=r.nextSibling,o=a.firstChild,i=o.nextSibling,l=a.nextSibling;return p(s,f(q,{name:"alert-circle",class:"w-5 h-5"})),p(i,()=>{var c;return((c=e.prompt)==null?void 0:c.filename)||"Unknown file"}),p(a,f(Y,{get when(){var c;return(c=e.prompt)==null?void 0:c.path},get children(){var c=aa();return p(c,()=>e.prompt.path),c}}),null),p(n,f(Y,{get when(){return e.error},get children(){var c=oa();return p(c,()=>e.error),c}}),l),p(l,f(Ke,{each:da,children:c=>(()=>{var d=ca(),u=d.firstChild,y=u.firstChild,b=y.nextSibling,h=u.nextSibling;return d.$$click=()=>{var g;return(g=e.onSelect)==null?void 0:g.call(e,c.value)},p(y,()=>c.label),p(b,()=>c.key),p(h,()=>c.hint),d})()})),t})()}pe(["click"]);const wn="ytdl-go:app-state:v1",fa=new Set(["download","library","settings"]),ya=new Set(["prompt","overwrite","skip","rename"]),ha=new Set(["artists","channels","playlists","all_media"]),pa=new Set(["gallery","list","detail"]),Kt=new Set(["all","audio","video"]),ma=new Set(["newest","oldest","creator_asc","creator_desc","collection_asc","collection_desc","playlist_asc","playlist_desc"]),ga=80,ba=32,va=1440*60,se={output:"{title}.{ext}",quality:"best",jobs:1,timeout:180,format:"",audioOnly:!1,onDuplicate:"prompt",useCookies:!0,poTokenExtension:!1},wa={creatorType:"",creatorName:"",albumName:"",playlistKey:"",playlistKind:""},xa={query:"",creator:"",collection:"",playlist:"",savedPlaylistId:""},ka=()=>({ui:{activeTab:"dashboard",isAdvanced:!1},settings:{...se},library:{downloads:[],section:"artists",viewMode:"gallery",typeFilter:"all",navPath:{...wa},filters:{...xa},sortKey:"newest",savedPlaylists:[],playlistAssignments:{},ui:{advancedFiltersOpen:!1,metadataBannerDismissed:!1}},player:{active:!1,selectedMedia:null,minimized:!1},download:{urlInput:"",isDownloading:!1,jobStatus:null,progressTasks:{},logMessages:[],duplicateQueue:[],duplicateError:""}}),xn=kt();let qt=!1;const Sa=e=>({ui:{activeTab:e.ui.activeTab,isAdvanced:e.ui.isAdvanced},settings:{...e.settings},library:{section:e.library.section,viewMode:e.library.viewMode,typeFilter:e.library.typeFilter,navPath:{...e.library.navPath},filters:{query:e.library.filters.query,creator:e.library.filters.creator,collection:e.library.filters.collection,playlist:e.library.filters.playlist,savedPlaylistId:e.library.filters.savedPlaylistId},sortKey:e.library.sortKey,savedPlaylists:e.library.savedPlaylists,playlistAssignments:e.library.playlistAssignments,ui:{advancedFiltersOpen:e.library.ui.advancedFiltersOpen,metadataBannerDismissed:e.library.ui.metadataBannerDismissed}},download:{urlInput:e.download.urlInput,activeJobId:e.download.activeJobId}}),I=(e,t)=>typeof e=="string"?e:t,Le=(e,t)=>typeof e=="boolean"?e:t,_a=e=>I(e,"").trim().replace(/\s+/g," ").slice(0,ga),Vt=(e,t,n)=>{const r=typeof e=="number"?e:Number(e);if(!Number.isFinite(r))return t;const s=Math.trunc(r);return s<=0?t:Math.min(s,n)},$a=e=>{const t=e&&typeof e=="object"?e:{},n=I(t.onDuplicate,se.onDuplicate);return{output:I(t.output,se.output),quality:I(t.quality,se.quality),jobs:Vt(t.jobs,se.jobs,ba),timeout:Vt(t.timeout,se.timeout,va),format:I(t.format,se.format),audioOnly:Le(t.audioOnly,se.audioOnly),onDuplicate:ya.has(n)?n:se.onDuplicate,useCookies:Le(t.useCookies,se.useCookies),poTokenExtension:Le(t.poTokenExtension,se.poTokenExtension)}},Aa=(e,t=new Set)=>{const n=e&&typeof e=="object"?e:{},r=I(n.savedPlaylistId,"").trim();return{query:I(n.query,""),creator:I(n.creator,""),collection:I(n.collection,""),playlist:I(n.playlist,""),savedPlaylistId:t.has(r)?r:""}},Pa=e=>{if(!Array.isArray(e))return[];const t=new Set,n=[];for(const r of e){const s=r&&typeof r=="object"?r:{},a=I(s.id,"").trim(),o=_a(s.name);a===""||o===""||t.has(a)||(t.add(a),n.push({id:a,name:o,createdAt:I(s.createdAt,""),updatedAt:I(s.updatedAt,"")}))}return n},Ca=(e,t)=>{const n=e&&typeof e=="object"?e:{},r={};for(const[s,a]of Object.entries(n)){const o=String(s||"").trim(),i=I(a,"").trim();o===""||i===""||!t.has(i)||(r[o]=i)}return r},Na=e=>{const t=e&&typeof e=="object"?e:{},n=I(t.creatorType,"").trim().toLowerCase(),r=I(t.playlistKind,"").trim().toLowerCase();return{creatorType:n==="artist"||n==="channel"?n:"",creatorName:I(t.creatorName,""),albumName:I(t.albumName,""),playlistKey:I(t.playlistKey,""),playlistKind:r==="source"||r==="saved"?r:""}},Ta=e=>{const t=e&&typeof e=="object"?e:{};return{advancedFiltersOpen:Le(t.advancedFiltersOpen,!1),metadataBannerDismissed:Le(t.metadataBannerDismissed,!1)}},Ea=e=>{const t=e&&typeof e=="object"?e:{},n=I(t.section,"artists"),r=I(t.viewMode,"gallery"),s=I(t.sortKey,"newest"),a=Pa(t.savedPlaylists),o=new Set(a.map(d=>d.id)),i=I(t.typeFilter,"").trim().toLowerCase(),l=I(t.activeMediaType,"").trim().toLowerCase();let c="all";return Kt.has(i)?c=i:Kt.has(l)&&(c=l),{section:ha.has(n)?n:"artists",viewMode:pa.has(r)?r:"gallery",typeFilter:c,navPath:Na(t.navPath),filters:Aa(t.filters,o),sortKey:ma.has(s)?s:"newest",savedPlaylists:a,playlistAssignments:Ca(t.playlistAssignments,o),ui:Ta(t.ui)}},Ma=()=>{if(typeof window>"u")return null;try{const e=window.localStorage.getItem(wn);return e?JSON.parse(e):null}catch(e){return qt||(console.warn("Failed to read persisted app state from localStorage:",e),qt=!0),null}},Da=()=>{var l,c,d,u;const e=ka(),t=Ma();if(!t||typeof t!="object")return e;const n=fa.has((l=t==null?void 0:t.ui)==null?void 0:l.activeTab)?t.ui.activeTab:e.ui.activeTab,r=typeof((c=t==null?void 0:t.ui)==null?void 0:c.isAdvanced)=="boolean"?t.ui.isAdvanced:e.ui.isAdvanced,s=$a(t.settings),a=Ea(t.library),o=typeof((d=t==null?void 0:t.download)==null?void 0:d.urlInput)=="string"?t.download.urlInput:e.download.urlInput,i=typeof((u=t==null?void 0:t.download)==null?void 0:u.activeJobId)=="string"?t.download.activeJobId:"";return{...e,ui:{activeTab:n,isAdvanced:r},settings:{...s},library:{...e.library,section:a.section,viewMode:a.viewMode,typeFilter:a.typeFilter,navPath:a.navPath,filters:a.filters,sortKey:a.sortKey,savedPlaylists:a.savedPlaylists,playlistAssignments:a.playlistAssignments,ui:a.ui},download:{...e.download,urlInput:o,activeJobId:i}}};function Oa(e){const[t,n]=bn(Da());let r=!1;return je(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(wn,JSON.stringify(Sa(t))),r=!1}catch(s){r||(console.warn("Failed to persist app state to localStorage:",s),r=!0)}}),f(xn.Provider,{value:{state:t,setState:n},get children(){return e.children}})}function At(){const e=rt(xn);if(!e)throw new Error("useAppStore must be used within an AppStoreProvider");return e}const La=new Set(["queued","running","reconnecting","complete","error"]),Pt=e=>{if(typeof e!="string")return"";const t=e.trim().toLowerCase();return t==="done"?"complete":La.has(t)?t:""},ja=/\.(mp3|wav|ogg|flac|m4a|opus|aac|alac|wma|aiff|aif|ape|dsf|dff|mka)$/i,za=/\.(mp4|webm|mov|avi|mkv|m4v|wmv|mpeg|mpg|ts|ogv|3gp|f4v|flv|vob|m2ts)$/i,Fa=e=>ja.test(String(e||"")),Ua=e=>za.test(String(e||"")),Ra=e=>{const t=String(e||"").trim().toLowerCase();return t==="audio"?"audio":t==="video"?"video":"unknown"},Ia=e=>{const t=String((e==null?void 0:e.filename)||"").trim();if(t!==""){if(Fa(t))return"audio";if(Ua(t))return"video"}return Ra(e==null?void 0:e.type)},Ka=80,Bt="/api/library/playlists",qa="/api/library/playlists/migrate",Wt="ytdl-go:saved-playlists:backend-migration:v1",wt=e=>String(e||"").trim().replace(/\s+/g," ").slice(0,Ka),_e=e=>String(e||"").trim(),kn=e=>String(e||"").trim(),Va=e=>{const t=e&&typeof e=="object"?e:{},n=_e(t.id),r=wt(t.name);return n===""||r===""?null:{id:n,name:r,createdAt:typeof t.createdAt=="string"?t.createdAt.trim():"",updatedAt:typeof t.updatedAt=="string"?t.updatedAt.trim():""}},Ba=e=>{if(!Array.isArray(e))return[];const t=[],n=new Set,r=new Set;for(const s of e){const a=Va(s);if(!a||n.has(a.id))continue;const o=a.name.toLowerCase();r.has(o)||(n.add(a.id),r.add(o),t.push(a))}return t},Wa=(e,t)=>{const n=e&&typeof e=="object"?e:{},r={};for(const[s,a]of Object.entries(n)){const o=kn(s),i=_e(a);o===""||i===""||!t.has(i)||(r[o]=i)}return r},be=e=>{const t=e&&typeof e=="object"?e:{},n=Ba(t.playlists),r=new Set(n.map(s=>s.id));return{playlists:n,assignments:Wa(t.assignments,r)}},ct=e=>Array.isArray(e==null?void 0:e.playlists)&&e.playlists.length>0||(e==null?void 0:e.assignments)&&typeof e.assignments=="object"&&Object.keys(e.assignments).length>0,Gt=(e,t,n="")=>e.some(r=>r.id!==n&&r.name.localeCompare(t,void 0,{sensitivity:"base"})===0),Ga=()=>typeof globalThis<"u"&&globalThis.crypto&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():`saved-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,dt=async(e,t)=>{try{const n=await e.json();if(n&&typeof n.error=="string"&&n.error.trim()!=="")return n.error.trim()}catch{}return t},Me=e=>e&&typeof e=="object"&&e.name==="AbortError";function Ja(){const{state:e,setState:t}=At(),[n,r]=te("");let s=null,a=null,o=0,i=Promise.resolve(),l=!1;const c=()=>be({playlists:e.library.savedPlaylists,assignments:e.library.playlistAssignments}),d=P=>{const A=be(P),C=new Set(A.playlists.map(m=>m.id));t("library","savedPlaylists",A.playlists),t("library","playlistAssignments",A.assignments),t("library","filters","savedPlaylistId",m=>C.has(_e(m))?m:"")},u=async P=>{const A=await fetch(Bt,{signal:P});if(!A.ok)throw new Error(await dt(A,"Unable to load saved playlists from backend."));const C=await A.json();return be(C)},y=async(P,A)=>{const C=be(P),m=await fetch(Bt,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C),signal:A});if(!m.ok)throw new Error(await dt(m,"Unable to persist saved playlists."));const w=await m.json();return be(w)},b=async(P,A)=>{const C=be(P),m=await fetch(qa,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C),signal:A});if(!m.ok)throw new Error(await dt(m,"Unable to migrate saved playlists."));const w=await m.json();return{state:be(w),migrated:!!(w&&w.migrated)}},h=async P=>{o+=1;const A=o;a&&a.abort();const C=new AbortController;a=C;try{const m=await y(P,C.signal);return!l&&A===o&&(d(m),r("")),m}finally{a===C&&(a=null)}},g=P=>{const A=i.then(P,P);return i=A.catch(()=>{}),A},k=()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem(Wt)==="1"}catch{return!1}},$=()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Wt,"1")}catch{}},N=async()=>{s&&s.abort();const P=new AbortController;s=P;const A=o,C=c();try{const m=await u(P.signal);if(l||P.signal.aborted||o!==A)return;if(d(m),r(""),ct(m)){$();return}if(!ct(C)){k()||$();return}const w=await b(C,P.signal);if(l||P.signal.aborted||o!==A)return;d(w.state),(w.migrated||ct(w.state))&&$()}catch(m){if(Me(m)||P.signal&&P.signal.aborted)return;const w=m instanceof Error?m.message:"Failed to initialize saved playlists.";r(w),console.error("Failed to initialize saved playlists:",m)}finally{s===P&&(s=null)}},K=P=>g(async()=>{const A=wt(P);if(A==="")return{ok:!1,error:"Playlist name is required."};const C=c();if(Gt(C.playlists,A))return{ok:!1,error:"A playlist with that name already exists."};const m=new Date().toISOString(),w={id:Ga(),name:A,createdAt:m,updatedAt:m};try{const O=(await h({playlists:[...C.playlists,w],assignments:C.assignments})).playlists.find(G=>G.id===w.id);return O?{ok:!0,playlist:O}:{ok:!1,error:"A playlist with that name already exists."}}catch(z){return Me(z)?{ok:!1,error:"Request canceled."}:{ok:!1,error:z instanceof Error?z.message:"Unable to create saved playlist."}}}),R=(P,A)=>g(async()=>{const C=_e(P),m=wt(A);if(C==="")return{ok:!1,error:"Playlist not found."};if(m==="")return{ok:!1,error:"Playlist name is required."};const w=c();if(!w.playlists.some(re=>re.id===C))return{ok:!1,error:"Playlist not found."};if(Gt(w.playlists,m,C))return{ok:!1,error:"A playlist with that name already exists."};const O=new Date().toISOString(),G=w.playlists.map(re=>re.id===C?{...re,name:m,updatedAt:O}:re);try{const Te=(await h({playlists:G,assignments:w.assignments})).playlists.find(at=>at.id===C);return Te?Te.name.localeCompare(m,void 0,{sensitivity:"base"})!==0?{ok:!1,error:"A playlist with that name already exists."}:{ok:!0}:{ok:!1,error:"Playlist not found."}}catch(re){return Me(re)?{ok:!1,error:"Request canceled."}:{ok:!1,error:re instanceof Error?re.message:"Unable to rename saved playlist."}}}),S=P=>g(async()=>{const A=_e(P);if(A==="")return{ok:!1,error:"Playlist not found."};const C=c(),m=C.playlists.filter(z=>z.id!==A);if(m.length===C.playlists.length)return{ok:!1,error:"Playlist not found."};const w={};for(const[z,O]of Object.entries(C.assignments))O!==A&&(w[z]=O);try{return await h({playlists:m,assignments:w}),{ok:!0}}catch(z){return Me(z)?{ok:!1,error:"Request canceled."}:{ok:!1,error:z instanceof Error?z.message:"Unable to delete saved playlist."}}}),W=(P,A)=>g(async()=>{const C=kn(P),m=_e(A);if(C==="")return;const w=c();if(!(m===""||w.playlists.some(G=>G.id===m)))return;const O={...w.assignments};if(m===""){if(!(C in O))return;delete O[C]}else{if(O[C]===m)return;O[C]=m}try{await h({playlists:w.playlists,assignments:O})}catch(G){if(Me(G))return;console.error("Failed to assign saved playlist:",G)}});return Ae(()=>{l=!0,s&&s.abort(),a&&a.abort()}),{initError:n,initialize:N,createPlaylist:K,renamePlaylist:R,deletePlaylist:S,assignPlaylist:W}}class Ha{constructor(){this.socket=null,this.reconnectInterval=3e3,this.shouldReconnect=!0,this.listeners=new Set}addListener(t){return this.listeners.add(t),()=>this.listeners.delete(t)}connect(){if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return;const t=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.host,r=`${t}//${n}/ws`;this.socket=new WebSocket(r),this.socket.onopen=()=>{console.log("WebSocket connected")},this.socket.onmessage=s=>{try{const a=JSON.parse(s.data);this.dispatch(a)}catch(a){console.error("Failed to parse WebSocket message:",a)}},this.socket.onclose=()=>{console.log("WebSocket disconnected"),this.shouldReconnect&&setTimeout(()=>{console.log("Reconnecting..."),this.connect()},this.reconnectInterval)},this.socket.onerror=s=>{console.error("WebSocket error:",s),this.socket.close()}}dispatch(t){const{type:n,payload:r}=t;switch(n){case"progress":$i(r);break;case"error":Ai(r);break}this.listeners.forEach(s=>{try{s(t)}catch(a){console.error("Error in WebSocket listener:",a)}})}close(){this.shouldReconnect=!1,this.socket&&this.socket.close()}}const Sn=new Ha,ut=80,Ya=new Set(["debug","info","warn","error"]),Qa=e=>{switch(e){case"queued":return"Waiting for a worker to start the job.";case"running":return"Download in progress...";case"reconnecting":return"Reconnecting to the progress stream...";case"complete":return"All downloads in this job are finished.";case"error":return"Download failed.";default:return""}},ve=(e,t=0)=>{const n=typeof e=="number"?e:Number(e);return Number.isFinite(n)?Math.max(0,Math.trunc(n)):t},Jt=e=>{const t=typeof e=="number"?e:Number(e);return!Number.isFinite(t)||t<0?0:t>100?100:t},Ht=e=>{if(!e||typeof e!="object")return null;const t={total:ve(e.total,0),succeeded:ve(e.succeeded,0),failed:ve(e.failed,0)};return t.total<=0&&t.succeeded<=0&&t.failed<=0?null:t},Yt=(e,t,n)=>{const r=typeof t=="string"?t.trim():"";if(r!==""&&r!==e)return r;if(e==="error"){const s=typeof n=="string"?n.trim():"";if(s)return s}return Qa(e)},Qt=e=>{if(typeof e!="string")return"info";const t=e.trim().toLowerCase();return Ya.has(t)?t:"info"},Xt=Pt,Xa=e=>{var r;const t=e.status==="complete"?"Download Complete":"Download Failed",n=e.status==="complete"?`Successfully downloaded ${((r=e.stats)==null?void 0:r.succeeded)||0} items.`:e.error||e.message||"An error occurred during download.";B("notification",{type:e.status==="complete"?"success":"error",message:`${t}: ${n}`}),setTimeout(()=>{B("notification",null)},1e4),!(typeof window>"u"||!("Notification"in window))&&Notification.permission==="granted"&&new Notification(t,{body:n,icon:"/favicon.ico"})};function Za(){const{state:e,setState:t}=At(),n=o=>{if(!o||typeof o!="object"||typeof o.type!="string")return;const i=o.payload||o;an(()=>{try{switch(o.type){case"snapshot":i.snapshot?r(i.snapshot):o.snapshot&&r(o.snapshot);break;case"status":try{B("jobStatuses",i.jobId,l=>{const c=Pt(i.status),d={...l||{},jobId:i.jobId,status:c,message:Yt(i.status,i.message,i.error),error:i.error,stats:Ht(i.stats)||(l==null?void 0:l.stats),exitCode:i.exitCode};if((l==null?void 0:l.status)!==c&&(c==="complete"||c==="error")){Xa(d);const u=i.jobId;setTimeout(()=>{try{const y=oe.activeDownloads,b=Object.keys(y).filter(h=>{var g,k;return((g=y[h])==null?void 0:g.jobId)===u||((k=y[h])==null?void 0:k.done)});for(const h of b)B("activeDownloads",h,void 0)}catch(y){console.error("Failed to clear completed job tasks:",y)}},300)}return d})}catch(l){console.error("Critical error processing status payload:",l)}break;case"register":case"progress":if(!i.id)return;B("activeDownloads",i.id,l=>({id:i.id,jobId:i.jobId,filename:i.filename||(l==null?void 0:l.filename),label:i.label||i.filename||(l==null?void 0:l.label)||i.id,total:ve(i.total,(l==null?void 0:l.total)||0),current:ve(i.current,(l==null?void 0:l.current)||0),percent:Jt(i.percent),status:i.status||(l==null?void 0:l.status)||"downloading",eta:i.eta||(l==null?void 0:l.eta),done:i.status==="complete"||i.percent>=100}));break;case"finish":i.id&&(B("activeDownloads",i.id,"done",!0),B("activeDownloads",i.id,"percent",100));break;case"duplicate":typeof i.promptId=="string"&&i.promptId!==""&&(t("download","duplicateQueue",l=>l.some(c=>c.promptId===i.promptId)?l:[...l,{jobId:i.jobId,promptId:i.promptId,path:i.path||"",filename:i.filename||""}]),t("download","duplicateError",""));break;case"duplicate-resolved":typeof i.promptId=="string"&&i.promptId!==""&&(t("download","duplicateQueue",l=>l.filter(c=>c.promptId!==i.promptId)),t("download","duplicateError",""));break;case"log":B("logs",l=>[...l,{level:Qt(i.level),message:i.message}].slice(-ut));break;case"done":B("jobStatuses",i.jobId,"status",Xt(i.status));break;default:break}}catch(l){console.error("Error processing WebSocket event:",l)}})},r=o=>{const i=o.jobId;if(B("jobStatuses",i,{jobId:i,status:Xt(o.status),message:Yt(o.status,"",o.error),error:o.error,stats:Ht(o.stats),exitCode:o.exitCode}),Array.isArray(o.tasks))for(const l of o.tasks)B("activeDownloads",l.id,{id:l.id,jobId:i,label:l.label||l.id,total:ve(l.total,0),current:ve(l.current,0),percent:Jt(l.percent),done:!!l.done||l.percent>=100});if(Array.isArray(o.duplicates)&&o.duplicates.length>0&&t("download","duplicateQueue",l=>{const c=[...l];for(const d of o.duplicates)c.some(u=>u.promptId===d.promptId)||c.push({jobId:i,promptId:d.promptId,path:d.path,filename:d.filename});return c}),Array.isArray(o.logs)){const l=o.logs.map(c=>({level:Qt(c.level),message:c.message}));B("logs",l.slice(-ut))}};return xt(()=>{const o=Sn.addListener(n);typeof window<"u"&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),Ae(o)}),Ae(()=>{}),{startDownload:async o=>{const i=o.split(",").map(l=>l.trim()).filter(l=>l.length>0);if(i.length!==0)try{const l=await fetch("/api/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:i,options:{output:e.settings.output,quality:e.settings.quality,jobs:e.settings.jobs,timeout:e.settings.timeout,audio:e.settings.audioOnly,"on-duplicate":e.settings.onDuplicate,"use-cookies":e.settings.useCookies,"po-token":e.settings.poTokenExtension?"true":""}})}),c=await l.json();if(!l.ok)throw new Error(c.error||"Failed to start download");B("lastJobId",c.jobId)}catch(l){console.error("Download start failed:",l),B("logs",c=>[...c,{level:"error",message:l.message||"Failed to start download"}].slice(-ut))}},cancelDownload:async o=>{if(o)try{const i=await fetch("/api/download/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:o})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.error||"Failed to cancel download")}}catch(i){console.error("Download cancel failed:",i)}},listenForProgress:o=>{console.log("Now listening for job:",o)}}}const Zt="Unknown Artist",eo="Unknown Channel",to="Unknown Creator",no="Unknown Album",_n="Standalone",ne=(...e)=>{for(const t of e)if(typeof t=="string"){const n=t.trim();if(n!=="")return n}return""},ro=(e,t)=>{const n=String(e||"").toLowerCase();return n==="podcast"?"Podcast":n==="music"||n==="audio"?"Music":"YouTube Video"},so=e=>e!=null&&e.metadata&&typeof e.metadata=="object"?e.metadata:{},io=e=>{if(typeof(e==null?void 0:e.modified_at)=="string"){const t=Date.parse(e.modified_at);if(Number.isFinite(t))return t}if(typeof(e==null?void 0:e.modifiedAt)=="string"){const t=Date.parse(e.modifiedAt);if(Number.isFinite(t))return t}if(typeof(e==null?void 0:e.date)=="string"){const t=Date.parse(e.date);if(Number.isFinite(t))return t}return 0},H=(e,t)=>String(e||"").localeCompare(String(t||""),void 0,{sensitivity:"base",numeric:!0}),Ce=(e,t)=>e!==""?e:t||"",ao=(e,t,n)=>{var k,$;const r=so(e),s=ro(e==null?void 0:e.type,(e==null?void 0:e.artist)||r.artist||r.author),a=ne(e==null?void 0:e.title,r.title,"Untitled"),o=ne(e==null?void 0:e.artist,r.artist,r.author,s==="Music"?Zt:to),i=ne(e==null?void 0:e.album,r.album,s==="Music"?no:o),l=ne((k=e==null?void 0:e.playlist)==null?void 0:k.title,($=r==null?void 0:r.playlist)==null?void 0:$.title,_n),c=ne(e==null?void 0:e.thumbnail_url,e==null?void 0:e.thumbnailUrl,e==null?void 0:e.thumbnailURL,r.thumbnail_url,r.thumbnailUrl,r.thumbnailURL),d=ne(e==null?void 0:e.relative_path,e==null?void 0:e.filename,e==null?void 0:e.id),u=ne(n[d],""),y=t.get(u),b=io(e),h=!!((e==null?void 0:e.has_sidecar)??(e==null?void 0:e.hasSidecar)),g=[];return h||g.push("missing_sidecar"),(o===Zt||o===eo)&&g.push("missing_creator"),a==="Untitled"&&g.push("missing_title"),{raw:e,mediaKey:d,filename:String((e==null?void 0:e.filename)||""),relativePath:ne(e==null?void 0:e.relative_path,e==null?void 0:e.filename,""),folder:String((e==null?void 0:e.folder)||""),id:String((e==null?void 0:e.id)||(e==null?void 0:e.filename)||d),type:s,title:a,creator:o,album:i,sourcePlaylist:l,savedPlaylistId:(y==null?void 0:y.id)||"",savedPlaylistName:(y==null?void 0:y.name)||"Unassigned",date:ne(e==null?void 0:e.date,""),modifiedAt:ne(e==null?void 0:e.modified_at,e==null?void 0:e.modifiedAt,""),size:ne(e==null?void 0:e.size,""),sizeBytes:Number.isFinite(Number(e==null?void 0:e.size_bytes))?Number(e.size_bytes):0,sourceURL:ne(e==null?void 0:e.source_url,r.source_url,""),thumbnailUrl:c,metadata:r,timestamp:b,hasSidecar:h,anomalies:g,hasAnomaly:g.length>0}},we=(e,t)=>{const n=[...e];return n.sort((r,s)=>{switch(t){case"oldest":return r.timestamp-s.timestamp||H(r.title,s.title);case"creator_asc":return H(r.creator,s.creator)||H(r.title,s.title);case"creator_desc":return H(s.creator,r.creator)||H(r.title,s.title);case"collection_asc":return H(r.album,s.album)||H(r.title,s.title);case"collection_desc":return H(s.album,r.album)||H(r.title,s.title);case"playlist_asc":return H(r.sourcePlaylist,s.sourcePlaylist)||H(r.title,s.title);case"playlist_desc":return H(s.sourcePlaylist,r.sourcePlaylist)||H(r.title,s.title);case"newest":default:return s.timestamp-r.timestamp||H(r.title,s.title)}}),n},oo=(e,t)=>{const n=String(t.query||"").trim().toLowerCase();return!(n&&![e.title,e.creator,e.album,e.sourcePlaylist,e.savedPlaylistName,e.filename].join(" ").toLowerCase().includes(n)||t.creator&&e.creator!==t.creator||t.collection&&e.album!==t.collection||t.playlist&&e.sourcePlaylist!==t.playlist||t.savedPlaylistId&&e.savedPlaylistId!==t.savedPlaylistId)},he=e=>[...e].sort((t,n)=>n.latestTimestamp-t.latestTimestamp||H(t.name,n.name)),lo=e=>{const t=new Map;for(const s of e.filter(a=>a.type==="Music")){t.has(s.creator)||t.set(s.creator,{name:s.creator,type:"artist",items:[],albumsByName:new Map,latestTimestamp:s.timestamp,thumbnailUrl:s.thumbnailUrl||""});const a=t.get(s.creator);a.items.push(s),a.latestTimestamp=Math.max(a.latestTimestamp,s.timestamp),a.thumbnailUrl=Ce(a.thumbnailUrl,s.thumbnailUrl),a.albumsByName.has(s.album)||a.albumsByName.set(s.album,{name:s.album,items:[],latestTimestamp:s.timestamp,thumbnailUrl:s.thumbnailUrl||""});const o=a.albumsByName.get(s.album);o.items.push(s),o.latestTimestamp=Math.max(o.latestTimestamp,s.timestamp),o.thumbnailUrl=Ce(o.thumbnailUrl,s.thumbnailUrl)}const n=[],r=new Map;for(const[s,a]of t.entries()){const o=he(Array.from(a.albumsByName.values())).map(l=>({...l,items:we(l.items,"newest"),count:l.items.length})),i={name:s,type:"artist",items:we(a.items,"newest"),count:a.items.length,latestTimestamp:a.latestTimestamp,thumbnailUrl:a.thumbnailUrl,albums:o};n.push(i),r.set(s,i)}return{groups:he(n),byName:r}},co=e=>{const t=new Map;for(const s of e.filter(a=>a.type==="YouTube Video")){t.has(s.creator)||t.set(s.creator,{name:s.creator,type:"video_creator",items:[],latestTimestamp:s.timestamp,thumbnailUrl:s.thumbnailUrl||""});const a=t.get(s.creator);a.items.push(s),a.latestTimestamp=Math.max(a.latestTimestamp,s.timestamp),a.thumbnailUrl=Ce(a.thumbnailUrl,s.thumbnailUrl)}const n=[],r=new Map;for(const[s,a]of t.entries()){const o={name:s,type:"video_creator",items:we(a.items,"newest"),count:a.items.length,latestTimestamp:a.latestTimestamp,thumbnailUrl:a.thumbnailUrl};n.push(o),r.set(s,o)}return{groups:he(n),byName:r}},uo=e=>{const t=new Map;for(const s of e.filter(a=>a.type==="Podcast")){t.has(s.creator)||t.set(s.creator,{name:s.creator,type:"podcast",items:[],latestTimestamp:s.timestamp,thumbnailUrl:s.thumbnailUrl||""});const a=t.get(s.creator);a.items.push(s),a.latestTimestamp=Math.max(a.latestTimestamp,s.timestamp),a.thumbnailUrl=Ce(a.thumbnailUrl,s.thumbnailUrl)}const n=[],r=new Map;for(const[s,a]of t.entries()){const o={name:s,type:"podcast",items:we(a.items,"newest"),count:a.items.length,latestTimestamp:a.latestTimestamp,thumbnailUrl:a.thumbnailUrl};n.push(o),r.set(s,o)}return{groups:he(n),byName:r}},fo=(e,t)=>{const n=new Map;for(const l of e){const c=ne(l.sourcePlaylist,_n),d=`source:${c.toLowerCase()}`;n.has(d)||n.set(d,{key:d,kind:"source",name:c,items:[],latestTimestamp:l.timestamp,thumbnailUrl:l.thumbnailUrl||""});const u=n.get(d);u.items.push(l),u.latestTimestamp=Math.max(u.latestTimestamp,l.timestamp),u.thumbnailUrl=Ce(u.thumbnailUrl,l.thumbnailUrl)}const r=new Map;for(const l of t)r.set(l.id,{key:`saved:${l.id}`,kind:"saved",name:l.name,playlistId:l.id,items:[],latestTimestamp:0,thumbnailUrl:""});for(const l of e){if(!l.savedPlaylistId||!r.has(l.savedPlaylistId))continue;const c=r.get(l.savedPlaylistId);c.items.push(l),c.latestTimestamp=Math.max(c.latestTimestamp,l.timestamp),c.thumbnailUrl=Ce(c.thumbnailUrl,l.thumbnailUrl)}const s=he(Array.from(n.values())).map(l=>({...l,count:l.items.length,items:we(l.items,"newest")})),a=he(Array.from(r.values())).map(l=>({...l,count:l.items.length,items:we(l.items,"newest")})),o=he([...s,...a]),i=new Map(o.map(l=>[l.key,l]));return{sourceGroups:s,savedGroups:a,combined:o,byKey:i}},ft=e=>Array.from(new Set(e.filter(t=>typeof t=="string"&&t.trim()!=="").map(t=>t.trim()))).sort(H),yo=({downloads:e,savedPlaylists:t,playlistAssignments:n,typeFilter:r,sortKey:s,filters:a})=>{const o=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[],l=n&&typeof n=="object"?n:{},c=new Map(i.map(S=>[String(S.id||"").trim(),S])),d=o.map(S=>ao(S,c,l)),u=d.filter(S=>S.hasAnomaly),b=d.filter(S=>r==="all"?!0:S.type===r).filter(S=>oo(S,a||{})),h=we(b,s),g=lo(b),k=co(b),$=uo(b),N=fo(b,i),K=he([...g.groups.map(S=>({...S,key:`artist:${S.name}`,creatorType:"artist"})),...k.groups.map(S=>({...S,key:`video_creator:${S.name}`,creatorType:"video_creator"})),...$.groups.map(S=>({...S,key:`podcast:${S.name}`,creatorType:"podcast"}))]),R={creators:ft(b.map(S=>S.creator)),collections:ft(b.map(S=>S.album)),sourcePlaylists:ft(b.map(S=>S.sourcePlaylist))};return{items:d,filteredItems:h,anomalyItems:u,anomalyCount:u.length,artists:g.groups,artistsByName:g.byName,videos:k.groups,videosByName:k.byName,podcasts:$.groups,podcastsByName:$.byName,creatorCards:K,playlists:N.combined,playlistsByKey:N.byKey,sourcePlaylists:N.sourceGroups,savedPlaylists:N.savedGroups,filterOptions:R}};var ho=D('<div class="max-w-7xl mx-auto">'),en=D('<div class="max-w-4xl mx-auto">'),po=D('<div class="max-w-dynamic mx-auto h-full">'),mo=D('<img class="absolute -top-10 -left-4 w-12 h-12 object-contain animate-bounce -rotate-12 pointer-events-none drop-shadow-lg"alt="Gopher Success">'),go=D('<div class="fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] animate-in fade-in slide-in-from-bottom-4 duration-500"><div><div class=relative><div></div></div><div class="flex-1 min-w-0"><p class="text-sm font-bold leading-tight line-clamp-2"></p></div><button class="p-1 hover:bg-white/5 rounded-lg transition-colors">'),bo=D('<div class="flex h-screen bg-[radial-gradient(circle_at_12%_8%,rgba(56,189,248,0.16),transparent_35%),radial-gradient(circle_at_88%_2%,rgba(20,184,166,0.14),transparent_30%),linear-gradient(180deg,#05070a,#070b12_45%,#05070a)] text-gray-200 overflow-hidden font-sans select-none"><main class="flex-1 flex flex-col bg-transparent relative min-w-0"><div class="flex-1 overflow-y-auto p-6 md:p-10 custom-scrollbar">'),vo=D('<div class="flex flex-col items-center justify-center h-full text-gray-500 gap-4 animate-pulse"><span class="text-xs font-bold uppercase tracking-widest">Loading View...');const wo=Ie(()=>qe(()=>import("./assets/DownloadView-Bhq3JPU9.js"),[])),xo=Ie(()=>qe(()=>import("./assets/LibraryView-Cl1mHjKT.js"),[])),ko=Ie(()=>qe(()=>import("./assets/SettingsView-oKTrTPgU.js"),[])),So=Ie(()=>qe(()=>import("./assets/Player-CdVu9tNX.js"),[])),_o=e=>{if(!e||typeof e!="object")return 0;const t=Number(e.succeeded);return Number.isFinite(t)?Math.max(0,Math.trunc(t)):0},$o=(e,t)=>{const n=Pt(e);return n==="complete"?!0:n!=="error"?!1:_o(t)>0},Ao=e=>String(e||"").split("/").map(t=>encodeURIComponent(t)).join("/"),Be=e=>String(e||"").trim();function Po(){const{state:e,setState:t}=At(),[n,r]=te([]),{initialize:s,createPlaylist:a,renamePlaylist:o,deletePlaylist:i,assignPlaylist:l}=Ja(),{listenForProgress:c,startDownload:d}=Za();let u=null,y=0,b="",h="",g=null,k=!1;const $=()=>e.ui.activeTab||"dashboard",N=()=>e.ui.isAdvanced,K=V(()=>yo({downloads:e.library.downloads,savedPlaylists:e.library.savedPlaylists,playlistAssignments:e.library.playlistAssignments,typeFilter:e.library.typeFilter,sortKey:e.library.sortKey,filters:e.library.filters})),R=v=>{t("ui","activeTab",v)},S=()=>{t("ui","isAdvanced",v=>!v)},W=()=>{R("library")},P=()=>{g&&(clearTimeout(g),g=null)},A=async()=>{if(k)return!1;u&&u.abort(),u=new AbortController;const v=++y;try{const _=await fetch("/api/media/",{signal:u.signal});if(_.ok){const M=await _.json();if(k||v!==y)return!1;const F=Array.isArray(M)?M:M.items||[];return t("library","downloads",F),!0}return!1}catch(_){return _&&typeof _=="object"&&_.name==="AbortError"||console.error("Failed to fetch media files:",_),!1}finally{v===y&&(u=null)}},C=async()=>await A()?{ok:!0,message:"Library refreshed. Legacy files without sidecars may still need re-download for complete metadata and thumbnails."}:{ok:!1,message:"Unable to refresh metadata right now. Please retry in a few seconds."},m=v=>{v&&t("download","duplicateQueue",_=>_.filter(M=>M.promptId!==v))},w=async v=>{const _=e.download.duplicateQueue[0];if(_){t("download","duplicateError","");try{const M=await fetch("/api/download/duplicate-response",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:_.jobId,promptId:_.promptId,choice:v})}),F=await M.json().catch(()=>({}));if(!M.ok||F.error){if(M.status===404||M.status===409){m(_.promptId),t("download","duplicateError","");return}t("download","duplicateError",F.error||"Failed to submit duplicate choice");return}m(_.promptId),t("download","duplicateError","")}catch(M){t("download","duplicateError",M.message||"Failed to submit duplicate choice")}}},z=v=>{if(e.download.duplicateQueue.length===0)return;const _=document.activeElement;if(!(_&&(_.tagName==="INPUT"||_.tagName==="TEXTAREA"||_.isContentEditable))&&!(v.metaKey||v.ctrlKey||v.altKey))switch(v.key){case"o":v.preventDefault(),w("overwrite");break;case"O":v.preventDefault(),w("overwrite_all");break;case"s":v.preventDefault(),w("skip");break;case"S":v.preventDefault(),w("skip_all");break;case"r":v.preventDefault(),w("rename");break;case"R":v.preventDefault(),w("rename_all");break;case"q":v.preventDefault(),w("cancel");break}},O=async(v,_=1)=>{if(!v||k)return;h=v;const M=await A();if(!(k||h!==v)){if(M){b=v,h="",P();return}if(_>=3){h="";return}P(),g=setTimeout(()=>{g=null,O(v,_+1)},_*1e3)}};xt(()=>{A(),s(),Sn.connect(),typeof window<"u"&&window.addEventListener("keydown",z),e.ui.activeTab||R("dashboard")}),je(()=>{const v=$();(v==="library"||v==="dashboard")&&A()}),je(()=>{const v=oe.jobStatuses;for(const _ in v){const M=v[_];typeof _!="string"||_===""||_===b||_===h||$o(M==null?void 0:M.status,M==null?void 0:M.stats)&&O(_,1)}}),Ae(()=>{k=!0,P(),typeof window<"u"&&window.removeEventListener("keydown",z),u&&(u.abort(),u=null)});const G=v=>({...v,url:`/api/media/${Ao(v.filename)}`}),re=(v,_)=>{const M=Array.isArray(e.library.downloads)?e.library.downloads:[],F=Array.isArray(v)&&v.length>0?v:M,L=[],J=new Set;for(const ge of F){if(!ge||typeof ge!="object")continue;const Ee=Be(ge.filename);Ee===""||J.has(Ee)||(J.add(Ee),L.push(ge))}const me=Be(_==null?void 0:_.filename);return me!==""&&!J.has(me)&&L.unshift(_),L},Te=(v,_)=>{if(!v||typeof v!="object"||String(v.filename||"").trim()==="")return;const M=re(_,v);r(M),t("player","selectedMedia",G(v)),t("player","minimized",!1),t("player","active",!0)},at=()=>{t("player","active",!1),t("player","selectedMedia",null),t("player","minimized",!1),r([])},$n=()=>{const v=e.player.selectedMedia;v&&(Ia(v),t("library","typeFilter","all")),t("library","section","all_media"),t("library","navPath",{creatorType:"",creatorName:"",albumName:"",playlistKey:"",playlistKind:""}),R("library")},Ct=()=>{var J;const v=n();if(v.length===0)return;const _=Be((J=e.player.selectedMedia)==null?void 0:J.filename),M=v.findIndex(me=>Be(me.filename)===_),F=M<0?0:(M+1)%v.length,L=v[F];L&&(t("player","selectedMedia",G(L)),t("player","active",!0))};return(()=>{var v=bo(),_=v.firstChild,M=_.firstChild;return p(v,f(ra,{get activeTab(){return $()},onTabChange:R}),_),p(_,f(ia,{get activeTab(){return $()},get isAdvanced(){return N()},onToggleAdvanced:S}),M),p(M,f(gt,{get fallback(){return(()=>{var F=vo(),L=F.firstChild;return p(F,f(q,{name:"loader",class:"w-10 h-10 animate-spin text-accent-primary"}),L),F})()},get children(){return[f(Y,{get when(){return $()==="dashboard"},get children(){var F=ho();return p(F,f(ta,{libraryModel:K,onTabChange:R,onDownload:d,onPlay:L=>Te(L,e.library.downloads)})),F}}),f(Y,{get when(){return $()==="download"},get children(){var F=en();return p(F,f(wo,{onOpenLibrary:W,onStartDownload:L=>c(L)})),F}}),f(Y,{get when(){return $()==="library"},get children(){var F=po();return p(F,f(xo,{downloads:()=>e.library.downloads,section:()=>e.library.section,viewMode:()=>e.library.viewMode,typeFilter:()=>e.library.typeFilter,navPath:()=>e.library.navPath,filters:()=>e.library.filters,sortKey:()=>e.library.sortKey,uiState:()=>e.library.ui,savedPlaylists:()=>e.library.savedPlaylists,playlistAssignments:()=>e.library.playlistAssignments,onSectionChange:L=>t("library","section",L),onViewModeChange:L=>t("library","viewMode",L),onTypeFilterChange:L=>t("library","typeFilter",L),onNavPathChange:L=>t("library","navPath",L),onFilterChange:(L,J)=>t("library","filters",L,J),onClearFilters:()=>t("library","filters",{query:"",savedPlaylistId:""}),onSortKeyChange:L=>t("library","sortKey",L),onUiStateChange:(L,J)=>t("library","ui",L,J),openPlayer:(L,J)=>Te(L,J),onOpenQueue:$n,onCreatePlaylist:a,onRenamePlaylist:o,onDeletePlaylist:i,onAssignPlaylist:l,onRetryMetadataScan:C})),F}}),f(Y,{get when(){return $()==="settings"},get children(){var F=en();return p(F,f(ko,{})),F}})]}}),null),p(M,f(Y,{get when(){return e.download.duplicateQueue.length>0},get children(){return f(ua,{get prompt(){return e.download.duplicateQueue[0]},onSelect:w,get error(){return e.download.duplicateError}})}}),null),p(M,f(Y,{get when(){return oe.notification},get children(){var F=go(),L=F.firstChild,J=L.firstChild,me=J.firstChild,ge=J.nextSibling,Ee=ge.firstChild,Nt=ge.nextSibling;return p(me,f(q,{get name(){return oe.notification.type==="success"?"check-circle-2":"alert-circle"},class:"w-5 h-5 relative z-10"})),p(J,f(Y,{get when(){return oe.notification.type==="success"},get children(){var ye=mo();return ue(ye,"src",it),ye}}),null),p(Ee,()=>oe.notification.message),Nt.$$click=()=>B("notification",null),p(Nt,f(q,{name:"x",class:"w-4 h-4 opacity-50"})),X(ye=>{var Tt=`px-6 py-4 rounded-2xl border backdrop-blur-xl shadow-2xl flex items-center gap-4 min-w-[340px] max-w-md ${oe.notification.type==="success"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,Et=`p-2.5 rounded-xl ${oe.notification.type==="success"?"bg-emerald-500/20":"bg-red-500/20"}`;return Tt!==ye.e&&Z(L,ye.e=Tt),Et!==ye.t&&Z(me,ye.t=Et),ye},{e:void 0,t:void 0}),F}}),null),p(v,f(gt,{get children(){return f(Y,{get when(){return e.player.active},get children(){return f(So,{get active(){return e.player.active},get minimized(){return e.player.minimized},get media(){return e.player.selectedMedia},onClose:at,onMinimize:()=>t("player","minimized",!0),onRestore:()=>t("player","minimized",!1),onNext:Ct,onPrevious:Ct})}})}}),null),v})()}pe(["click"]);const Co=document.getElementById("root");er(()=>f(Oa,{get children(){return f(Po,{})}}),Co);export{Di as A,Ke as F,Li as G,q as I,Y as S,Vi as T,Za as a,X as b,f as c,Z as d,oe as e,Oi as f,pe as g,te as h,p as i,V as j,yo as k,je as l,Je as m,Pt as n,un as o,Ia as p,Ae as q,ir as r,ue as s,D as t,At as u,rr as v};
